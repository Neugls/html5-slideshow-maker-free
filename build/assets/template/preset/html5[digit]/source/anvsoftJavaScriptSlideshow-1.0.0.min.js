(function(b){b.anvsoftJavaScriptSlideshowTemplate=b.aJSsTemplate=b.aJSsTemplate||{version:"1.0.0",global:b}})(window);(function(){aJSsTemplate.ExternalInterface=function(b){this.globalPath=b.globalPath;this.container=b.container;this.commandDispatcher=b.commandDispatcher;this.copyright=b.copyright;this.movieWidth=b.movieWidth;this.movieHeight=b.movieHeight;this.startAutoPlay=b.startAutoPlay;this.continuum=b.continuum;this.clickToAutoPlay=b.clickToAutoPlay;this.randomPlayingPhotos=b.randomPlayingPhotos;this.enableURL=b.enableURL;this.movieBackgroundColor=b.movieBackgroundColor;this.loadStyle=b.loadStyle;this.anvsoftMenu=
b.anvsoftMenu;this.frameRate=b.frameRate;var a=b.globalTitleXml;this.showTitle=a.getAttribute("showTitle");this.photoTitleColor=a.getAttribute("photoTitleColor").replace(/0x/g,"#");this.photoTitleBackgroundColor=a.getAttribute("backgroundColor").replace(/0x/g,"#");this.photoTitleAlpha=a.getAttribute("alpha")/100;this.photoTitleAutoHide=a.getAttribute("autoHide");this.titleTextFont=a.getAttribute("titleTextFont");this.titleTextSize=a.getAttribute("titleTextSize");this.titleTextHeight=a.getAttribute("titleTextHeight");
this.titleTextAlign=a.getAttribute("titleTextAlign");this.titleTextShadowColor=a.getAttribute("titleTextShadowColor").replace(/0x/g,"#");this.titleTextShadowOffset=Number(a.getAttribute("titleTextShadowOffset"));this.titleTextShadowBlur=Number(a.getAttribute("titleTextShadowBlur"));this.musicPath=b.musicPath;this.musicStream=b.musicStream;this.musicLoop=b.musicLoop;this.musicAutoPlay=b.musicAutoPlay;this.topPadding=b.topPadding;this.bottomPadding=b.bottomPadding;this.leftPadding=b.leftPadding;this.rightPadding=
b.rightPadding;a=b.globalDescriptionXml;this.enableDes=a.getAttribute("enable");this.desAlign=a.getAttribute("align");this.desBackgroundColor=a.getAttribute("backgroundColor").replace(/0x/g,"#");this.desBackgroundAlpha=a.getAttribute("backgroundAlpha")/100;this.desTextFont=a.getAttribute("defaultTextFont");this.desTextSize=a.getAttribute("defaultTextSize");this.desTextColor=a.getAttribute("defaultTextColor").replace(/0x/g,"#");this.desLineHeight=Number(a.getAttribute("lineHeight"));this.desTextAlign=
a.getAttribute("desTextAlign");this.desTextShadowColor=a.getAttribute("desTextShadowColor").replace(/0x/g,"#");this.desTextShadowOffset=Number(a.getAttribute("desTextShadowOffset"));this.desTextShadowBlur=Number(a.getAttribute("desTextShadowBlur"));this.videoAutoPlay=b.videoAutoPlay;this.bufferTime=b.bufferTime;this.videoControls=b.videoControls;a=b.thumbnailBasicXml;this.thumBoxBorderX=Number(a.getAttribute("thumBoxBorderX"));this.thumBoxBorderY=Number(a.getAttribute("thumBoxBorderY"));this.thumBoxBorderWidth=
Number(a.getAttribute("thumBoxBorderWidth"));this.thumBoxBorderStyle=a.getAttribute("thumBoxBorderStyle");this.thumBoxBorderColor=a.getAttribute("thumBoxBorderColor").replace(/0x/g,"#");this.showControlsPanel=a.getAttribute("showControlsPanel");this.numWidth=Number(a.getAttribute("numWidth"));this.numHeight=Number(a.getAttribute("numHeight"));this.numBorderRadius=Number(a.getAttribute("numBorderRadius"));this.numFloatStyle=a.getAttribute("numFloatStyle");this.numMargin=Number(a.getAttribute("numMargin"));
this.numBgColor=a.getAttribute("numBgColor").replace(/0x/g,"#");this.numBgColorAlpha=Number(a.getAttribute("numBgColorAlpha"))/100;this.numBorderStyle=a.getAttribute("numBorderStyle");this.numBborderColor=a.getAttribute("numBborderColor").replace(/0x/g,"#");this.numBorderWidth=Number(a.getAttribute("numBorderWidth"));this.numShadowOffset=Number(a.getAttribute("numShadowOffset"));this.numShadowBlur=Number(a.getAttribute("numShadowBlur"));this.numShadowColor=a.getAttribute("numShadowColor").replace(/0x/g,
"#");this.textColor=a.getAttribute("textColor").replace(/0x/g,"#");this.currentTextColor=a.getAttribute("currentTextColor").replace(/0x/g,"#");this.textFontFamily=a.getAttribute("textFontFamily");this.textFontSize=Number(a.getAttribute("textFontSize"));this.textFontStyle=a.getAttribute("textFontStyle");this.textFontWeight=a.getAttribute("textFontWeight");this.textShadowOffsetX=Number(a.getAttribute("textShadowOffsetX"));this.textShadowOffsetY=Number(a.getAttribute("textShadowOffsetY"));this.textShadowBlur=
Number(a.getAttribute("textShadowBlur"));this.textShadowColor=a.getAttribute("textShadowColor").replace(/0x/g,"#");this.buttonColor=a.getAttribute("buttonColor").replace(/0x/g,"#");this.buttonMouseOverColor=a.getAttribute("buttonMouseOverColor").replace(/0x/g,"#");this.buttonBgColor=a.getAttribute("buttonBgColor").replace(/0x/g,"#");this.buttonBgAlpha=Number(a.getAttribute("buttonBgAlpha"))/100;this.controlBtnRadius=Number(a.getAttribute("controlBtnRadius"));this.playBtnRadius=Number(a.getAttribute("playBtnRadius"));
this.thumbnailArray=b.thumbnailArray;this.photoArray=b.photoArray;this.photoUrlArray=b.photoUrlArray;this.URLTarget=b.URLTarget;this.videoArray=b.videoArray;this.transitionArray=b.transitionArray;this.photoTimeArray=b.photoTimeArray;this.transitionTimeArray=b.transitionTimeArray;this.defineTransitionArray=b.defineTransitionArray;this.photoTitleArray=b.photoTitleArray;this.descriptionText=b.descriptionText;this.photoCount=this.photoArray.length;this.Play=function(){b.Play()};this.Pause=function(){b.Pause()};
this.Previous=function(){b.Previous()};this.Next=function(){b.Next()};this.Show=function(a,c){b.Show(a,c)};this.MusicPlay=function(){b.MusicPlay()};this.MusicPause=function(){b.MusicPause()}}})();(function(){aJSsTemplate.ColorConverter={hexToRGB:function(b){var a,d,c;if(/rgb/.test(b))b=b.match(/\d+/g),a=parseInt(b[0]),d=parseInt(b[1]),c=parseInt(b[2]);else if(/#/.test(b)){var f=b.length;7===f?(a=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16),c=parseInt(b.slice(5),16)):4===f&&(a=parseInt(b.charAt(1)+b.charAt(1),16),d=parseInt(b.charAt(2)+b.charAt(2),16),c=parseInt(b.charAt(3)+b.charAt(3),16))}else return b;return{r:a,g:d,b:c}}}})();(function(){aJSsTemplate.JsBackground=function(b,a){var d=b.movieWidth,c=b.movieHeight,f=b.topPadding,e=b.bottomPadding,h=b.leftPadding,j=b.movieBackgroundColor,i=d-h-b.rightPadding,g=c-f-e,k=document.createElement("div");k.style.position="absolute";k.style.width=d+"px";k.style.height=c+"px";k.style.top="0px";k.style.left="0px";k.style.zIndex=-1;a.appendChild(k);var m=document.createElement("canvas");m.width=d;m.height=c;var p=m.getContext("2d");p.shadowBlur=(e-f)/2;p.shadowOffsetX=0;p.shadowOffsetY=
e-f;p.shadowColor="#000";p.fillStyle=j;p.globalAlpha=0.9;p.fillRect(h,f,i,g);k.appendChild(m);h=document.createElement("div");h.style.position="absolute";h.style.width=d+"px";h.style.height=c-e+f+"px";h.style.top="0px";h.style.left="0px";h.style.backgroundColor=j;k.appendChild(h)}})();(function(){aJSsTemplate.JsDescription=function(b,a){function d(a){a=j[a.index];""!=a?(v.style.display="block",v.innerHTML=a,v.style.top="bottom"==g?c-e-v.scrollHeight+"px":f+"px"):v.style.display="none"}var c=b.movieHeight,f=b.topPadding,e=b.bottomPadding,h=b.leftPadding,j=b.descriptionText,i=b.enableDes,g=b.desAlign,k=b.desBackgroundAlpha,m=b.desTextFont,p=b.desTextSize,o=b.desTextColor,n=b.desLineHeight,l=b.desTextAlign,q=b.desTextShadowColor,s=b.desTextShadowOffset,u=b.desTextShadowBlur,t=b.movieWidth-
h-b.rightPadding,r=aJSsTemplate.ColorConverter.hexToRGB(b.desBackgroundColor),v=document.createElement("div");if("true"==i)v.style.position="absolute",v.style.padding="5px",v.style.left=h+"px",v.style.width=t-10+"px",v.style.backgroundColor="rgba("+r.r+","+r.g+","+r.b+","+k+")",v.style.textAlign=l,v.style.color=o,v.style.fontFamily=m,v.style.fontSize=p+"px",v.style.lineHeight=""!=n?n+"px":"normal",v.style.textShadow=s+"px "+s+"px "+u+"px "+q,v.innerHTML=j[0],a.appendChild(v),v.style.top="bottom"==
g?c-e-v.scrollHeight+"px":f+"px",b.commandDispatcher.addEventListener("photoLoadComplete",d)}})();(function(){aJSsTemplate.JsPhotoTitle=function(b,a){function d(a){a=h[a.index];""!=a?(r.style.display="block",r.textContent=a):r.style.display="none"}function c(a){if("photoMouseOver"==a.type)r.style.display="block";else if("photoMouseOut"==a.type)r.style.display="none"}var f=b.topPadding,e=b.leftPadding,h=b.photoTitleArray,j=b.showTitle,i=b.photoTitleColor,g=b.photoTitleAlpha,k=b.photoTitleAutoHide,m=b.titleTextAlign,p=b.titleTextFont,o=b.titleTextSize,n=b.titleTextHeight,l=b.titleTextShadowColor,
q=b.titleTextShadowOffset,s=b.titleTextShadowBlur,u=b.movieWidth-e-b.rightPadding,t=aJSsTemplate.ColorConverter.hexToRGB(b.photoTitleBackgroundColor),r=document.createElement("div");if("true"==j){r.style.position="absolute";r.style.padding="5px";r.style.left=e+"px";r.style.top=f+"px";r.style.width=u-10+"px";r.style.backgroundColor="rgba("+t.r+","+t.g+","+t.b+","+g+")";r.style.textAlign=m;r.style.color=i;r.style.fontFamily=p;r.style.fontSize=o+"px";r.style.lineHeight=""!=n?n+"px":"normal";r.style.textShadow=
q+"px "+q+"px "+s+"px "+l;r.textContent=h[0];a.appendChild(r);if("true"==k)r.style.display="none",b.commandDispatcher.addEventListener("photoMouseOver",c),b.commandDispatcher.addEventListener("photoMouseOut",c);b.commandDispatcher.addEventListener("photoLoadComplete",d)}}})();(function(){aJSsTemplate.JsThumbnail=function(b,a){function d(){N+=20;y.style.top=N+"px";if(N>=fa)clearInterval(ja),y.style.top=fa+"px"}function c(){N-=20;y.style.top=N+"px";if(N<=ba)clearInterval(ka),y.style.top=ba+"px",G.style.display="block",G.style.overflow="auto"}function f(){ga[la].style.color=E;ga[ca].style.color=da}var e=b.movieWidth,h=b.topPadding,j=b.leftPadding,i=b.rightPadding,g=b.startAutoPlay,k=b.clickToAutoPlay,m=b.musicPath,p=b.musicLoop,o=b.musicAutoPlay,n=b.thumBoxBorderX,l=b.thumBoxBorderY,
q=b.thumBoxBorderWidth,s=b.thumBoxBorderStyle,u=b.thumBoxBorderColor,t=b.showControlsPanel,r=b.numWidth,v=b.numHeight,D=b.numBorderRadius,H=b.numFloatStyle,I=b.numMargin,M=b.numBgColorAlpha,O=b.numBorderStyle,P=b.numBborderColor,J=b.numBorderWidth,K=b.numShadowOffset,A=b.numShadowBlur,x=b.numShadowColor,E=b.textColor,da=b.currentTextColor,X=b.textFontFamily,w=b.textFontSize,B=b.textFontStyle,R=b.textFontWeight,W=b.textShadowOffsetX,T=b.textShadowOffsetY,Y=b.textShadowBlur,Z=b.textShadowColor,C=b.buttonColor,
S=b.buttonMouseOverColor,$=b.buttonBgColor,U=b.buttonBgAlpha,L=b.controlBtnRadius,aa=b.playBtnRadius,ma=b.photoCount,ea=e-j-i,V=b.movieHeight-h-b.bottomPadding,ha=aJSsTemplate.ColorConverter.hexToRGB(b.numBgColor),ca=0,la=0,ga=[],ea=ea-2*n,ia=V-2*l,V=document.createElement("div");V.style.position="absolute";V.style.left=j+n+"px";V.style.top=h+l+"px";a.appendChild(V);var G=document.createElement("div");G.style.border=q+"px "+s+" "+u;G.style.overflow="auto";G.style.borderRadius="8px";G.style.position=
"relative";G.style.width=ea+"px";G.style.height=ia+"px";G.style.left=-q+"px";G.style.top=-q+"px";V.appendChild(G);for(j=0;j<ma;j++)n=document.createElement("a"),n.style.textAlign="center",n.style.cursor="pointer",n.style.lineHeight=v+"px",n.style.width=r+"px",n.style.height=v+"px",n.style.cssFloat=H,n.style.margin=I+"px",n.style.borderStyle=O,n.style.borderColor=P,n.style.borderWidth=J+"px",n.style.borderRadius=D+"px",n.style.boxShadow=K+"px "+K+"px "+A+"px "+x,n.style.backgroundColor="rgba("+ha.r+
","+ha.g+","+ha.b+","+M+")",n.style.color=E,n.style.fontFamily=X,n.style.fontSize=w+"px",n.style.fontStyle=B,n.style.fontWeight=R,n.style.textShadow=W+"px "+T+"px "+Y+"px "+Z,n.textContent=j+1,n.index=j,G.appendChild(n),ga[j]=n,n.onclick=function(){"true"==k?(z.style.display="none",b.Show(this.index,1)):(z.style.display="block",b.Show(this.index,0))},n.onmouseover=function(){this.style.color=da},n.onmouseout=function(){if(this.index!=ca)this.style.color=E};f();var r=aJSsTemplate.ColorConverter.hexToRGB($),
v=ea-L/2-2,ba=0-L/2-2,fa=ba+ia/2,y=document.createElement("a");y.style.position="absolute";y.style.textAlign="center";y.style.cursor="pointer";y.style.width=L+"px";y.style.height=L+"px";y.style.borderRadius=L+"px";y.style.border="3px solid "+C;y.style.boxShadow="2px 2px #000";y.style.backgroundColor="rgba("+r.r+","+r.g+","+r.b+","+U+")";y.style.font="normal bold 20px/"+L+"px arial";y.style.color=C;"true"==t?(y.textContent="x",y.style.left=v+"px",y.style.top=ba+"px"):(G.style.display="none",G.style.overflow=
"hidden",y.textContent="s",y.style.left=v+"px",y.style.top=fa+"px");V.appendChild(y);var ja,ka,N;y.onclick=function(){"x"==y.textContent?(G.style.display="none",G.style.overflow="hidden",y.textContent="s",N=ba,ja=setInterval(d,50)):(y.textContent="x",N=fa,ka=setInterval(c,50))};y.onmouseover=function(){y.style.color=S;y.style.border="3px solid "+S};y.onmouseout=function(){y.style.color=C;y.style.border="3px solid "+C};var t=ea/2-aa/2-2,L=ia/2-aa/2-2,z=document.createElement("a");z.style.position=
"absolute";z.style.textAlign="center";z.style.cursor="pointer";z.style.width=aa+"px";z.style.height=aa+"px";z.style.borderRadius=aa+"px";z.style.border="4px solid "+C;z.style.boxShadow="2px 2px #000";z.style.backgroundColor="rgba("+r.r+","+r.g+","+r.b+","+U+")";z.style.font="normal bold 16px/"+aa+"px arial";z.style.color=C;z.textContent="PLAY";z.style.left=t+"px";z.style.top=L+"px";z.style.display="true"==g?"none":"block";V.appendChild(z);z.onclick=function(){z.style.display="none";b.Play()};z.onmouseover=
function(){z.style.color=S;z.style.border="4px solid "+S};z.onmouseout=function(){z.style.color=C;z.style.border="4px solid "+C};if(""!=m){var F=document.createElement("a");F.style.position="absolute";F.style.padding="5px";F.style.textAlign="right";F.style.cursor="pointer";F.style.borderRadius="5px";F.style.backgroundColor="rgba("+r.r+","+r.g+","+r.b+","+U+")";F.style.textShadow="1px 1px 1px #000";F.style.font="normal normal 11px/11px verdana,tahoma,arial,sans-serif";F.style.color=C;F.textContent=
"true"==o?"Sound On":"Sound Off";F.style.left=e-i-60-10+"px";F.style.top=h+5+"px";a.appendChild(F);F.onclick=function(){"Sound On"==this.textContent?(this.textContent="Sound Off",b.MusicPause()):(this.textContent="Sound On",b.MusicPlay())};F.onmouseover=function(){this.style.color=S};F.onmouseout=function(){this.style.color=C}}b.commandDispatcher.addEventListener("playCurrent",function(a){ca=a.index;f();la=ca;if(ca>=ma-1&&"false"==b.continuum&&"false"==b.randomPlayingPhotos)z.style.display="block"});
b.commandDispatcher.addEventListener("soundPlayComplete",function(){if("false"==p)F.textContent="Sound Off"});b.commandDispatcher.addEventListener("videoStartPlay",function(){});b.commandDispatcher.addEventListener("videoPlayEnded",function(){z.style.display="none"})}})();(function(){aJSsTemplate.JsMenu=function(b,a){var d=b.movieWidth,c=b.movieHeight,f=b.bottomPadding,e=b.rightPadding,h=b.copyright;if(null==b.anvsoftMenu||"anvsoftPFMTheme"!=h&&"anvsoftUSSTheme"!=h&&"anvsoftHSMTheme"!=h){var j;switch(h){case "anvsoftPFMTheme":j="Photo Slideshow Maker";break;case "anvsoftUSSTheme":j="Ultra Slideshow";break;case "anvsoftHSMTheme":j="HTML5 Slideshow Maker";break;case "anvsoftSWWTheme":j="SlideWow";break;default:j="Anvsoft Photo Slideshow"}var i=document.createElement("div");
i.style.position="absolute";i.style.cursor="pointer";i.style.padding="5px";i.style.backgroundColor="rgba(0, 0, 0, 0.3)";i.style.textShadow="1px 1px 1px #000";i.style.borderRadius="5px";i.style.color="#FFF";i.style.font="normal normal 10px/12px verdana,tahoma,arial,sans-serif";i.textContent=j;a.appendChild(i);i.style.left=d-e-i.scrollWidth-5+"px";i.style.top=c-f-i.scrollHeight-5+"px";i.onclick=function(){switch(h){case "anvsoftPFMTheme":window.open("http://www.photo-flash-maker.com/","_self");break;
case "anvsoftUSSTheme":window.open("http://www.ultraslideshow.com/","_self");break;case "anvsoftHSMTheme":window.open("http://www.html5-slideshow-maker.com/","_self");break;case "anvsoftSWWTheme":window.open("http://www.slidewow.com/","_self");break;default:window.open("http://www.anvsoft.com/","_self")}}}}})();(function(){aJSsTemplate.Main=function(b){var b=new aJSsTemplate.ExternalInterface(b),a=b.container;new aJSsTemplate.JsBackground(b,a);new aJSsTemplate.JsDescription(b,a);new aJSsTemplate.JsPhotoTitle(b,a);new aJSsTemplate.JsThumbnail(b,a);new aJSsTemplate.JsMenu(b,a)}})();(function(b){function a(a,d,b){for(var c=a.length,i=d.length,g,k,m,p,o,n,l=0,q=0;q<c;q++){g=a[q];k=a[q<c-1?q+1:0];l=g.y-k.y;g=k.x-g.x;k=Math.sqrt(l*l+g*g);l/=k;g/=k;k=m=a[0].x*l+a[0].y*g;for(var s=1;s<c;s++)n=a[s].x*l+a[s].y*g,n>m?m=n:n<k&&(k=n);p=o=d[0].x*l+d[0].y*g;for(s=1;s<i;s++)n=d[s].x*l+d[s].y*g,n>o?o=n:n<p&&(p=n);k<p?(k=p-m,l=-l,g=-g):k-=o;if(0<=k)return!1;if(k>b.overlap)b.overlap=k,b.normal.x=l,b.normal.y=g}return b}var d=b.Quark=b.Quark||{version:"1.0.0",global:b},c=function(){};d.inherit=
function(a,d){c.prototype=d.prototype;a.superClass=d.prototype;a.prototype=new c;a.prototype.constructor=a};d.merge=function(a,d,b){for(var c in d)if(!b||a.hasOwnProperty(c)||void 0!==a[c])a[c]=d[c];return a};d.delegate=function(a,d){var c=d||b;if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.concat.apply(j,arguments);return a.apply(c,d)}}return function(){return a.apply(c,arguments)}};d.getDOM=function(a){return document.getElementById(a)};
d.createDOM=function(a,d){var b=document.createElement(a),c;for(c in d){var i=d[c];if("style"==c)for(var g in i)b.style[g]=i[g];else b[c]=i}return b};d.use=function(a){for(var a=a.split("."),d=b,c=0;c<a.length;c++)var j=a[c],d=d[j]||(d[j]={});return d};(function(a){var d=a.ua=navigator.userAgent;a.isWebKit=/webkit/i.test(d);a.isMozilla=/mozilla/i.test(d);a.isIE=/msie/i.test(d);a.isFirefox=/firefox/i.test(d);a.isChrome=/chrome/i.test(d);a.isSafari=/safari/i.test(d)&&!this.isChrome;a.isMobile=/mobile/i.test(d);
a.isOpera=/opera/i.test(d);a.isIOS=/ios/i.test(d);a.isIpad=/ipad/i.test(d);a.isIpod=/ipod/i.test(d);a.isIphone=/iphone/i.test(d)&&!this.isIpod;a.isAndroid=/android/i.test(d);a.supportStorage="localStorage"in b;a.supportOrientation="orientation"in b;a.supportDeviceMotion="ondevicemotion"in b;a.supportTouch="ontouchstart"in b;a.supportCanvas=null!=document.createElement("canvas").getContext;a.cssPrefix=a.isWebKit?"webkit":a.isFirefox?"Moz":a.isOpera?"O":a.isIE?"ms":""})(d);d.getElementOffset=function(a){for(var d=
a.offsetLeft,b=a.offsetTop;(a=a.offsetParent)&&a!=document.body&&a!=document;)d+=a.offsetLeft,b+=a.offsetTop;return{left:d,top:b}};d.createDOMDrawable=function(a,b){var c=a.tagName||"div",j=b.image,i=a.width||j&&j.width,g=a.height||j&&j.height,k=d.createDOM(c);if(a.id)k.id=a.id;k.style.position="absolute";k.style.left=(a.left||0)+"px";k.style.top=(a.top||0)+"px";k.style.width=i+"px";k.style.height=g+"px";if("canvas"==c)k.width=i,k.height=g,j&&(c=k.getContext("2d"),i=b.rect||[0,0,i,g],c.drawImage(j,
i[0],i[1],i[2],i[3],a.x||0,a.y||0,a.width||i[2],a.height||i[3]));else if(k.style.opacity=void 0!=a.alpha?a.alpha:1,k.style.overflow="hidden",j&&j.src)k.style.backgroundImage="url("+j.src+")",k.style.backgroundPosition=-(a.rectX||0)+"px "+-(a.rectY||0)+"px";return k};d.DEG_TO_RAD=Math.PI/180;d.RAD_TO_DEG=180/Math.PI;d.hitTestPoint=function(a,d,b,c){var a=a.getBounds(),i=a.length,g=d>=a.x&&d<=a.x+a.width&&b>=a.y&&b<=a.y+a.height;if(g&&c){for(var c=0,g=!1,k,m,p,o,n=0;n<i;n++){var l=a[n],q=a[(n+1)%i];
l.y==q.y&&b==l.y&&(l.x>q.x?(k=q.x,m=l.x):(k=l.x,m=q.x),d>=k&&d<=m)?g=!0:(l.y>q.y?(p=q.y,o=l.y):(p=l.y,o=q.y),b<p||b>o||(l=(b-l.y)*(q.x-l.x)/(q.y-l.y)+l.x,l>d?c++:l==d&&(g=!0)))}return g?0:1==c%2?1:-1}return g?1:-1};d.hitTestObject=function(a,b,c){a=a.getBounds();b=b.getBounds();return(a=a.x<=b.x+b.width&&b.x<=a.x+a.width&&a.y<=b.y+b.height&&b.y<=a.y+a.height)&&c?(a=d.polygonCollision(b,b),!1!==a):a};d.polygonCollision=function(d,b){var c=a(d,b,{overlap:-Infinity,normal:{x:0,y:0}});return c?a(b,d,
c):!1};d.toString=function(){return"Quark"};d.trace=function(){var a=Array.prototype.slice.call(arguments);"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(a.join(" "))};if(void 0==b.Q)b.Q=d;if(void 0==b.trace)b.trace=d.trace})(window);
(function(){var b=Quark.Matrix=function(a,d,b,f,e,h){this.a=a;this.b=d;this.c=b;this.d=f;this.tx=e;this.ty=h};b.prototype.concat=function(a){var d=this.a,b=this.c,f=this.tx;this.a=d*a.a+this.b*a.c;this.b=d*a.b+this.b*a.d;this.c=b*a.a+this.d*a.c;this.d=b*a.b+this.d*a.d;this.tx=f*a.a+this.ty*a.c+a.tx;this.ty=f*a.b+this.ty*a.d+a.ty;return this};b.prototype.rotate=function(a){var d=Math.cos(a),a=Math.sin(a),b=this.a,f=this.c,e=this.tx;this.a=b*d-this.b*a;this.b=b*a+this.b*d;this.c=f*d-this.d*a;this.d=
f*a+this.d*d;this.tx=e*d-this.ty*a;this.ty=e*a+this.ty*d;return this};b.prototype.scale=function(a,d){this.a*=a;this.d*=d;this.tx*=a;this.ty*=d;return this};b.prototype.translate=function(a,d){this.tx+=a;this.ty+=d;return this};b.prototype.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};b.prototype.invert=function(){var a=this.a,d=this.b,b=this.c,f=this.d,e=this.tx,h=a*f-d*b;this.a=f/h;this.b=-d/h;this.c=-b/h;this.d=a/h;this.tx=(b*this.ty-f*e)/h;this.ty=-(a*this.ty-
d*e)/h;return this};b.prototype.transformPoint=function(a,d,b){var f=a.x*this.a+a.y*this.c+this.tx,e=a.x*this.b+a.y*this.d+this.ty;d&&(f=f+0.5>>0,e=e+0.5>>0);if(b)return{x:f,y:e};a.x=f;a.y=e;return a};b.prototype.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};b.prototype.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}})();
(function(){var b=Quark.Rectangle=function(a,d,b,f){this.x=a;this.y=d;this.width=b;this.height=f};b.prototype.intersects=function(a){return this.x<=a.x+a.width&&a.x<=this.x+this.width&&this.y<=a.y+a.height&&a.y<=this.y+this.height};b.prototype.intersection=function(a){var d=Math.max(this.x,a.x),c=Math.min(this.x+this.width,a.x+a.width);if(d<=c){var f=Math.max(this.y,a.y),a=Math.min(this.y+this.height,a.y+a.height);if(f<=a)return new b(d,f,c-d,a-f)}return null};b.prototype.union=function(a,d){var c=
Math.max(this.x+this.width,a.x+a.width),f=Math.max(this.y+this.height,a.y+a.height),e=Math.min(this.x,a.x),h=Math.min(this.y,a.y),c=c-e,f=f-h;if(d)return new b(e,h,c,f);this.x=e;this.y=h;this.width=c;this.height=f};b.prototype.containsPoint=function(a,d){return this.x<=a&&a<=this.x+this.width&&this.y<=d&&d<=this.y+this.height};b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)};b.prototype.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+
this.height+")"}})();
(function(){Quark.KEY={MOUSE_LEFT:1,MOUSE_MID:2,MOUSE_RIGHT:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,
CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123}})();
(function(){var b=Quark.EventManager=function(){this.keyState={};this._evtHandlers={}};b.prototype.registerStage=function(a,d,b,f){this.register(a.context.canvas,d,{host:a,func:a._onEvent},b,f)};b.prototype.unregisterStage=function(a,d){this.unregister(a.context.canvas,d,a.onEvent)};b.prototype.register=function(a,d,b,f,e){if(null==b||"function"==typeof b)b={host:null,func:b};for(var h={prevent:f,stop:e},j=this,f=function(a){j._onEvent(a,h,b)},e=0;e<d.length;e++){for(var i=d[e],g=this._evtHandlers[i]||
(this._evtHandlers[i]=[]),k=0,m=!1;k<g.length;k++){var p=g[k];if(p.target==a&&p.callback.func==b.func){trace("duplicate callback");m=!0;break}}m||(g.push({target:a,callback:b,handler:f}),a.addEventListener(i,f,!1))}};b.prototype.unregister=function(a,d,b){for(var f=0;f<d.length;f++)for(var e=d[f],h=this._evtHandlers[e],j=0;j<h.length;j++){var i=h[j];if(i.target==a&&(i.callback.func==b||null==b)){a.removeEventListener(e,i.handler);h.splice(j,1);break}}};b.prototype._onEvent=function(a,d,c){var f=a,
e=a.type;if(0==a.type.indexOf("touch"))f=a.touches&&0<a.touches.length?a.touches[0]:a.changedTouches&&0<a.changedTouches.length?a.changedTouches[0]:a,f.type=e;if("keydown"==e||"keyup"==e||"keypress"==e)this.keyState[a.keyCode]=e;null!=c.func&&c.func.call(c.host,f);b.stop(a,!d.prevent,!d.stop)};b.stop=function(a,d,b){d||a.preventDefault();b||(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation())}})();
(function(){var b=Quark.EventDispatcher=function(){this._eventMap={}};b.prototype.addEventListener=function(a,d){var b=this._eventMap[a];null==b&&(b=this._eventMap[a]=[]);return-1==b.indexOf(d)?(b.push(d),!0):!1};b.prototype.removeEventListener=function(a,d){var b=this._eventMap[a];if(null==b)return!1;for(var f=0;f<b.length;f++)if(b[f]===d)return b.splice(f,1),0==b.length&&delete this._eventMap[a],!0;return!1};b.prototype.removeEventListenerByType=function(a){return null!=this._eventMap[a]?(delete this._eventMap[a],
!0):!1};b.prototype.removeAllEventListeners=function(){this._eventMap={}};b.prototype.dispatchEvent=function(a){var d=this._eventMap[a.type];if(null==d)return!1;if(!a.target)a.target=this;for(var d=d.slice(),b=0;b<d.length;b++){var f=d[b];"function"==typeof f&&f.call(this,a)}return!0};b.prototype.hasEventListener=function(a){a=this._eventMap[a];return null!=a&&0<a.length};b.prototype.on=b.prototype.addEventListener;b.prototype.un=b.prototype.removeEventListener;b.prototype.fire=b.prototype.dispatchEvent})();
(function(){var b=Quark.UIDUtil={_counter:0};b.createUID=function(a){var d=a.charCodeAt(a.length-1);48<=d&&57>=d&&(a+="_");return a+this._counter++};b.displayObjectToString=function(a){for(var d;null!=a;a=a.parent){var b=null!=a.id?a.id:a.name;d=null==d?b:b+"."+d;if(a==a.parent)break}return d}})();
(function(){function b(a,d){for(var c=0;c<a.children.length;c++){var j=a.children[c];if(j.children)b(j,d);else if(null!=d){j=j.getBounds();d.globalAlpha=0.2;d.beginPath();var i=j[0];d.moveTo(i.x-0.5,i.y-0.5);for(var g=1;g<j.length;g++){var k=j[g];d.lineTo(k.x-0.5,k.y-0.5)}d.lineTo(i.x-0.5,i.y-0.5);d.stroke();d.closePath();d.globalAlpha=0.5;d.beginPath();d.rect((j.x>>0)-0.5,(j.y>>0)-0.5,j.width>>0,j.height>>0);d.stroke();d.closePath()}else if(j.drawable.domDrawable)j.drawable.domDrawable.style.border=
"1px solid #f00"}}Quark.getUrlParams=function(){var a,d={},b=window.location.href,c=b.indexOf("?");if(0<c)for(var b=b.substring(c+1).split("&"),c=0,i;i=b[c];c++)a=b[c]=i.split("="),i=a,d[i[0]]=1<i.length?i[1]:!0;return d};var a=document.getElementsByTagName("head")[0],d=a.getElementsByTagName("meta"),c=0<d.length?d[d.length-1].nextSibling:a.childNodes[0];Quark.addMeta=function(d){var b=document.createElement("meta"),h;for(h in d)b.setAttribute(h,d[h]);a.insertBefore(b,c)};Quark.toggleDebugRect=function(a){a.debug=
!a.debug;a._render=a.debug?function(d){null!=d.clear&&d.clear(0,0,a.width,a.height);Quark.Stage.superClass._render.call(a,d);d=a.context.context;if(null!=d)d.save(),d.lineWidth=1,d.strokeStyle="#f00",d.globalAlpha=0.5;b(a,d);null!=d&&d.restore()}:function(d){null!=d.clear&&d.clear(0,0,a.width,a.height);Quark.Stage.superClass._render.call(a,d)}}})();
(function(){var b=Quark.Timer=function(a){this.interval=a||50;this.paused=!1;this.info={lastTime:0,currentTime:0,deltaTime:0,realDeltaTime:0};this._startTime=0;this._intervalID=null;this._listeners=[]};b.prototype.start=function(){if(null==this._intervalID){this._startTime=this.info.lastTime=this.info.currentTime=Date.now();var a=this,d=function(){a._intervalID=setTimeout(d,a.interval);a._run()};d()}};b.prototype.stop=function(){clearTimeout(this._intervalID);this._intervalID=null;this._startTime=
0};b.prototype.pause=function(){this.paused=!0};b.prototype.resume=function(){this.paused=!1};b.prototype._run=function(){if(!this.paused){var a=this.info,d=a.currentTime=Date.now();a.deltaTime=a.realDeltaTime=d-a.lastTime;for(var b=0,f=this._listeners.length,e,h;b<f;b++)e=this._listeners[b],h=e.__runTime||0,0==h?e.step(this.info):d>h&&(e.step(this.info),this._listeners.splice(b,1),b--,f--);a.lastTime=d}};b.prototype.delay=function(a,d){this.addListener({step:a,__runTime:Date.now()+d})};b.prototype.addListener=
function(a){if(null==a||"function"!=typeof a.step)throw"Timer Error: The listener object must implement a step() method!";this._listeners.push(a)};b.prototype.removeListener=function(a){a=this._listeners.indexOf(a);-1<a&&this._listeners.splice(a,1)}})();
(function(){var b=Quark.ImageLoader=function(a){b.superClass.constructor.call(this);this.loading=!1;this._index=-1;this._loaded=0;this._images={};this._totalSize=0;this._loadHandler=Quark.delegate(this._loadHandler,this);this._addSource(a)};Quark.inherit(b,Quark.EventDispatcher);b.prototype.load=function(a){this._addSource(a);this.loading||this._loadNext()};b.prototype._addSource=function(a){if(a){for(var a=a instanceof Array?a:[a],d=0;d<a.length;d++)this._totalSize+=a[d].size||0;this._source=this._source?
this._source.concat(a):a}};b.prototype._loadNext=function(){this._index++;if(this._index>=this._source.length)this.dispatchEvent({type:"complete",target:this,images:this._images}),this._source=[],this.loading=!1,this._index=-1;else{var a=new Image;a.onload=this._loadHandler;a.src=this._source[this._index].src;this.loading=!0}};b.prototype._loadHandler=function(a){this._loaded++;var d=this._source[this._index];d.image=a.target;this._images[d.id||d.src]=d;this.dispatchEvent({type:"loaded",target:this,
image:d});this._loadNext()};b.prototype.getLoaded=function(){return this._loaded};b.prototype.getTotal=function(){return this._source.length};b.prototype.getLoadedSize=function(){var a=0,d;for(d in this._images)a+=this._images[d].size||0;return a};b.prototype.getTotalSize=function(){return this._totalSize}})();
(function(){var b=Quark.Tween=function(d,b,f){this.target=d;this.delay=this.time=0;this.reverse=this.loop=this.paused=!1;this.interval=0;this.ease=a.Linear.EaseNone;this.onComplete=this.onUpdate=this.onStart=this.next=null;this._oldProps={};this._newProps={};this._deltaProps={};this._pausedStartTime=this._pausedTime=this._lastTime=this._startTime=0;this._reverseFlag=1;this._frameCount=this._frameTotal=0;for(var e in b){var h=d[e],j=b[e];void 0!==h&&"number"==typeof h&&"number"==typeof j&&(this._oldProps[e]=
h,this._newProps[e]=j,this._deltaProps[e]=j-h)}for(e in f)this[e]=f[e]};b.prototype.setProps=function(a,b){for(var f in a)this.target[f]=this._oldProps[f]=a[f];for(f in b)this._newProps[f]=b[f],this._deltaProps[f]=b[f]-this.target[f]};b.prototype._init=function(){this._startTime=Date.now()+this.delay;this._pausedTime=0;if(0<this.interval)this._frameTotal=Math.round(this.time/this.interval);b.add(this)};b.prototype.start=function(){this._init();this.paused=!1};b.prototype.stop=function(){b.remove(this)};
b.prototype.pause=function(){this.paused=!0;this._pausedStartTime=Date.now()};b.prototype.resume=function(){this.paused=!1;this._pausedTime+=Date.now()-this._pausedStartTime};b.prototype._update=function(){if(!this.paused){var a=Date.now(),c=a-this._startTime-this._pausedTime;if(!(0>c)){if(0==this._lastTime&&null!=this.onStart)this.onStart(this);this._lastTime=a;a=0<this._frameTotal?++this._frameCount/this._frameTotal:c/this.time;1<a&&(a=1);var c=this.ease(a),f;for(f in this._oldProps)this.target[f]=
this._oldProps[f]+this._deltaProps[f]*this._reverseFlag*c;if(null!=this.onUpdate)this.onUpdate(this,c);if(1<=a){if(this.reverse){if(f=this._oldProps,this._oldProps=this._newProps,this._newProps=f,this._startTime=Date.now(),this._frameCount=0,this._reverseFlag*=-1,!this.loop)this.reverse=!1}else if(this.loop){for(f in this._oldProps)this.target[f]=this._oldProps[f];this._startTime=Date.now();this._frameCount=0}else if(b.remove(this),f=this.next,null!=f&&(f instanceof b?(a=f,f=null):a=f.shift(),null!=
a))a.next=f,a.start();if(null!=this.onComplete)this.onComplete(this)}}}};b._tweens=[];b.step=function(){for(var a=this._tweens,b=a.length;0<=--b;)a[b]._update()};b.add=function(a){-1==this._tweens.indexOf(a)&&this._tweens.push(a);return this};b.remove=function(a){var b=this._tweens,a=b.indexOf(a);-1<a&&b.splice(a,1);return this};b.to=function(a,c,f){a=new b(a,c,f);a._init();return a};b.from=function(a,c,f){c=new b(a,c,f);f=c._oldProps;c._oldProps=c._newProps;c._newProps=f;c._reverseFlag=-1;for(var e in c._oldProps)a[e]=
c._oldProps[e];c._init();return c};var a=Quark.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};a.Linear.EaseNone=function(a){return a};a.Quadratic.EaseIn=function(a){return a*a};a.Quadratic.EaseOut=function(a){return-a*(a-2)};a.Quadratic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)};a.Cubic.EaseIn=function(a){return a*a*a};a.Cubic.EaseOut=function(a){return--a*a*a+1};a.Cubic.EaseInOut=function(a){return 1>
(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)};a.Quartic.EaseIn=function(a){return a*a*a*a};a.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};a.Quartic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};a.Quintic.EaseIn=function(a){return a*a*a*a*a};a.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};a.Quintic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};a.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};a.Sinusoidal.EaseOut=function(a){return Math.sin(a*
Math.PI/2)};a.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};a.Exponential.EaseIn=function(a){return 0==a?0:Math.pow(2,10*(a-1))};a.Exponential.EaseOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};a.Exponential.EaseInOut=function(a){return 0==a?0:1==a?1:1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};a.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};a.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};a.Circular.EaseInOut=function(a){return 1>
(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};a.Elastic.EaseIn=function(a){var b,f=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!f||1>f?(f=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/f);return-(f*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e))};a.Elastic.EaseOut=function(a){var b,f=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!f||1>f?(f=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/f);return f*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/e)+1};a.Elastic.EaseInOut=function(a){var b,
f=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!f||1>f?(f=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/f);return 1>(a*=2)?-0.5*f*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e):0.5*f*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e)+1};a.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};a.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};a.Back.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};a.Bounce.EaseIn=function(b){return 1-
a.Bounce.EaseOut(1-b)};a.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};a.Bounce.EaseInOut=function(b){return 0.5>b?0.5*a.Bounce.EaseIn(2*b):0.5*a.Bounce.EaseOut(2*b-1)+0.5}})();
(function(){var b=Quark.Audio=function(a,d,c,f){b.superClass.constructor.call(this);this.src=a;this.autoPlay=d&&c;this.loop=f;this._playing=this._loaded=!1;this._evtHandler=Quark.delegate(this._evtHandler,this);this._element=document.createElement("audio");this._element.preload=d;a=a.substr(0,a.lastIndexOf("."));c=document.createElement("source");this._element.canPlayType("audio/mpeg")?(c.type="audio/mpeg",c.src=a+".mp3"):(c.type="audio/ogg",c.src=a+".ogg");this._element.appendChild(c);d&&this.load()};
Quark.inherit(b,Quark.EventDispatcher);b.prototype.load=function(){this._element.addEventListener("progress",this._evtHandler,!1);this._element.addEventListener("ended",this._evtHandler,!1);this._element.addEventListener("error",this._evtHandler,!1);try{this._element.load()}catch(a){trace(a)}this.progressCheck=setTimeout(function(){b._element.removeEventListener("progress",b._evtHandler);b._element.removeEventListener("error",b._evtHandler);b._loaded=!0;b.dispatchEvent({type:"loaded",target:b});b.autoPlay&&
b.play();clearTimeout(b.progressCheck);b=b.progressCheck=null},1E3);var b=this};b.prototype._evtHandler=function(a){clearTimeout(this.progressCheck);if("progress"==a.type){var b=0,c=0,f=a.target.buffered;if(f&&0<f.length)for(b=f.length-1;0<=b;b--)c=f.end(b)-f.start(b);if(1<=c/a.target.duration||isNaN(a.target.duration))this._element.removeEventListener("progress",this._evtHandler),this._element.removeEventListener("error",this._evtHandler),this._loaded=!0,this.dispatchEvent({type:"loaded",target:this}),
this.autoPlay&&this.play()}else"ended"==a.type?(this.dispatchEvent({type:"ended",target:this}),this.loop?this.play():this._playing=!1):"error"==a.type&&trace("Quark.Audio Error: "+a.target.src)};b.prototype.play=function(){this._loaded?(this._element.play(),this._playing=!0):(this.autoPlay=!0,this.load())};b.prototype.stop=function(){if(this._playing)this._element.pause(),this._playing=!1};b.prototype.loaded=function(){return this._loaded};b.prototype.playing=function(){return this._playing}})();
(function(){var b=Quark.Drawable=function(a,b){this.domDrawable=this.rawDrawable=null;this.set(a,b)};b.prototype.get=function(a,b){if(null==b||null!=b.canvas.getContext)return this.rawDrawable;if(null==this.domDrawable)this.domDrawable=Quark.createDOMDrawable(a,{image:this.rawDrawable});return this.domDrawable};b.prototype.set=function(a,b){if(null==a?0:a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement)this.rawDrawable=a;if(!0===b)this.domDrawable=a;else if(this.domDrawable)this.domDrawable.style.backgroundImage=
"url("+this.rawDrawable.src+")"}})();
(function(){var b=Quark.DisplayObject=function(a){this.id=Quark.UIDUtil.createUID("DisplayObject");this.name=null;this.height=this.width=this.regY=this.regX=this.y=this.x=0;this.scaleY=this.scaleX=this.alpha=1;this.rotation=0;this.transformEnabled=this.eventEnabled=this.visible=!0;this.useHandCursor=!1;this.context=this.parent=this.drawable=this.polyArea=null;this._depth=0;this._lastState={};this._stateList="x,y,regX,regY,width,height,alpha,scaleX,scaleY,rotation,visible,_depth".split(",");Quark.merge(this,
a,!0);a.mixin&&Quark.merge(this,a.mixin,!1)};b.prototype.setDrawable=function(a){null==this.drawable?this.drawable=new Quark.Drawable(a):this.drawable.rawDrawable!=a&&this.drawable.set(a)};b.prototype.getDrawable=function(a){return this.drawable&&this.drawable.get(this,a)};b.prototype._update=function(a){this.update(a)};b.prototype.update=function(){};b.prototype._render=function(a){a=this.context||a;!this.visible||0>=this.alpha?(null!=a.hide&&a.hide(this),this.saveState(["visible","alpha"])):(a.startDraw(),
a.transform(this),this.render(a),a.endDraw(),this.saveState())};b.prototype.render=function(a){a.draw(this,0,0,this.width,this.height,0,0,this.width,this.height)};b.prototype._onEvent=function(a){if(null!=this.onEvent)this.onEvent(a)};b.prototype.onEvent=null;b.prototype.saveState=function(a){for(var a=a||this._stateList,b=this._lastState,c=0,f=a.length;c<f;c++){var e=a[c];b["last"+e]=this[e]}};b.prototype.getState=function(a){return this._lastState["last"+a]};b.prototype.propChanged=function(){for(var a=
0<arguments.length?arguments:this._stateList,b=0,c=a.length;b<c;b++){var f=a[b];if(this._lastState["last"+f]!=this[f])return!0}return!1};b.prototype.hitTestPoint=function(a,b,c){return Quark.hitTestPoint(this,a,b,c)};b.prototype.hitTestObject=function(a,b){return Quark.hitTestObject(this,a,b)};b.prototype.localToGlobal=function(a,b){var c=this.getConcatenatedMatrix();return{x:c.tx+a,y:c.ty+b}};b.prototype.globalToLocal=function(a,b){var c=this.getConcatenatedMatrix().invert();return{x:c.tx+a,y:c.ty+
b}};b.prototype.localToTarget=function(a,b,c){a=this.localToGlobal(a,b);return c.globalToLocal(a.x,a.y)};b.prototype.getConcatenatedMatrix=function(a){var b=new Quark.Matrix(1,0,0,1,0,0);if(a==this)return b;for(var c=this;null!=c.parent&&c.parent!=a;c=c.parent){var f=1,e=0;0!=c.rotation%360&&(e=c.rotation*Quark.DEG_TO_RAD,f=Math.cos(e),e=Math.sin(e));0!=c.regX&&(b.tx-=c.regX);0!=c.regY&&(b.ty-=c.regY);b.concat(new Quark.Matrix(f*c.scaleX,e*c.scaleX,-e*c.scaleY,f*c.scaleY,c.x,c.y))}return b};b.prototype.getBounds=
function(){var a=this.width,b=this.height,c=this.getConcatenatedMatrix(),a=this.polyArea||[{x:0,y:0},{x:a,y:0},{x:a,y:b},{x:0,y:b}],b=[],f=a.length,e,h,j,i,g;e=c.transformPoint(a[0],!0,!0);h=j=e.x;i=g=e.y;b[0]=e;for(var k=1;k<f;k++){e=c.transformPoint(a[k],!0,!0);if(h>e.x)h=e.x;else if(j<e.x)j=e.x;if(i>e.y)i=e.y;else if(g<e.y)g=e.y;b[k]=e}b.x=h;b.y=i;b.width=j-h;b.height=g-i;return b};b.prototype.getCurrentWidth=function(){return Math.abs(this.width*this.scaleX)};b.prototype.getCurrentHeight=function(){return Math.abs(this.height*
this.scaleY)};b.prototype.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof Quark.Stage?a:null};b.prototype.toString=function(){return Quark.UIDUtil.displayObjectToString(this)}})();
(function(){var b=Quark.DisplayObjectContainer=function(a){this.eventChildren=!0;this.autoSize=!1;this.children=[];a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("DisplayObjectContainer");this.setDrawable(a.drawable||a.image||null);if(a.children)for(var d=0;d<a.children.length;d++)this.addChild(a.children[d])};Quark.inherit(b,Quark.DisplayObject);b.prototype.addChildAt=function(a,b){if(0>b)b=0;else if(b>this.children.length)b=this.children.length;var c=this.getChildIndex(a);
if(-1!=c){if(c==b)return this;this.children.splice(c,1)}else a.parent&&a.parent.removeChild(a);this.children.splice(b,0,a);a.parent=this;if(this.autoSize){var c=new Quark.Rectangle(0,0,this.rectWidth||this.width,this.rectHeight||this.height),f=new Quark.Rectangle(a.x,a.y,a.rectWidth||a.width,a.rectHeight||a.height);c.union(f);this.width=c.width;this.height=c.height}return this};b.prototype.addChild=function(a){for(var b=this.children.length,c=0;c<arguments.length;c++)a=arguments[c],this.addChildAt(a,
b+c);return this};b.prototype.removeChildAt=function(a){if(0>a||a>=this.children.length)return!1;var b=this.children[a];if(null!=b)this.getStage().context.remove(b),b.parent=null;this.children.splice(a,1);return!0};b.prototype.removeChild=function(a){return this.removeChildAt(this.children.indexOf(a))};b.prototype.removeAllChildren=function(){for(;0<this.children.length;)this.removeChildAt(0)};b.prototype.getChildAt=function(a){return 0>a||a>=this.children.length?null:this.children[a]};b.prototype.getChildIndex=
function(a){return this.children.indexOf(a)};b.prototype.setChildIndex=function(a,b){if(a.parent==this){var c=this.children.indexOf(a);b!=c&&(this.children.splice(c,1),this.children.splice(b,0,a))}};b.prototype.swapChildren=function(a,b){var c=this.getChildIndex(a),f=this.getChildIndex(b);this.children[c]=b;this.children[f]=a};b.prototype.swapChildrenAt=function(a,b){var c=this.getChildAt(a),f=this.getChildAt(b);this.children[a]=f;this.children[b]=c};b.prototype.getChildById=function(a){for(var b=
0,c=this.children.length;b<c;b++){var f=this.children[b];if(f.id==a)return f}return null};b.prototype.removeChildById=function(a){for(var b=0,c=this.children.length;b<c;b++)if(this.children[b].id==a)return this.removeChildAt(b);return null};b.prototype.sortChildren=function(a){var b=a;"string"==typeof b&&(b=function(a,f){return f[b]-a[b]});this.children.sort(b)};b.prototype.contains=function(a){return-1!=this.getChildIndex(a)};b.prototype.getNumChildren=function(){return this.children.length};b.prototype._update=
function(a){null!=this.update&&this.update(a);for(var b=this.children.slice(0),c=0,f=b.length;c<f;c++){var e=b[c];e._depth=c+1;e._update(a)}};b.prototype.render=function(a){b.superClass.render.call(this,a);for(var d=0,c=this.children.length;d<c;d++)this.children[d]._render(a)};b.prototype.getObjectUnderPoint=function(a,b,c,f){if(f)var e=[];for(var h=this.children.length-1;0<=h;h--){var j=this.children[h];if(!(null==j||!j.eventEnabled&&void 0==j.children||!j.visible||0>=j.alpha))if(void 0!=j.children&&
j.eventChildren&&0<j.getNumChildren()){var i=j.getObjectUnderPoint(a,b,c,f);if(i)if(f)0<i.length&&(e=e.concat(i));else return i;else if(0<=j.hitTestPoint(a,b,c))if(f)e.push(j);else return j}else if(0<=j.hitTestPoint(a,b,c))if(f)e.push(j);else return j}return f?e:null}})();
(function(){var b=Quark.Stage=function(a){this.stageY=this.stageX=0;this.paused=!1;this._eventTarget=null;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Stage");if(null==this.context)throw"Quark.Stage Error: context is required.";this.updatePosition()};Quark.inherit(b,Quark.DisplayObjectContainer);b.prototype.step=function(a){this.paused||(this._update(a),this._render(this.context))};b.prototype._update=function(a){for(var b=this.children.slice(0),c=0,f=b.length;c<
f;c++){var e=b[c];e._depth=c+1;e._update(a)}null!=this.update&&this.update(a)};b.prototype._render=function(a){null!=a.clear&&a.clear(0,0,this.width,this.height);b.superClass._render.call(this,a)};b.prototype._onEvent=function(a){var b=a.pageX||a.clientX,c=a.pageY||a.clientY,b=(b-this.stageX)/this.scaleX,c=(c-this.stageY)/this.scaleY,f=this.getObjectUnderPoint(b,c,!0),e=this._eventTarget;a.eventX=b;a.eventY=c;if(null!=e&&e!=f)a.lastEventTarget=e,(b="mousemove"==a.type?"mouseout":"touchmove"==a.type?
"touchout":null)&&e._onEvent({type:b}),this._eventTarget=null;if(null!=f&&f.eventEnabled)a.eventTarget=e=this._eventTarget=f,f._onEvent(a);if(!Quark.supportTouch)this.context.canvas.style.cursor=e&&e.useHandCursor&&e.eventEnabled?"pointer":"";if(null!=this.onEvent)this.onEvent(a)};b.prototype.updatePosition=function(){var a=Quark.getElementOffset(this.context.canvas);this.stageX=a.left;this.stageY=a.top}})();
(function(){var b=Quark.Bitmap=function(a){this.image=null;this.rectHeight=this.rectWidth=this.rectY=this.rectX=0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Bitmap");this.setRect(a.rect||[0,0,this.image.width,this.image.height]);this.setDrawable(this.image);this._stateList.push("rectX","rectY","rectWidth","rectHeight")};Quark.inherit(b,Quark.DisplayObject);b.prototype.setRect=function(a){this.rectX=a[0];this.rectY=a[1];this.rectWidth=this.width=a[2];this.rectHeight=
this.height=a[3]};b.prototype.render=function(a){a.draw(this,this.rectX,this.rectY,this.rectWidth,this.rectHeight,0,0,this.width,this.height)}})();
(function(){var b=Quark.MovieClip=function(a){this.interval=0;this.useFrames=this.paused=!1;this.currentFrame=0;this._frames=[];this._frameLabels={};this._frameDisObj=null;this._displayedCount=0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("MovieClip");a.frames&&this.addFrame(a.frames)};Quark.inherit(b,Quark.Bitmap);b.prototype.addFrame=function(a){var b=this._frames.length;if(a instanceof Array)for(var c=0;c<a.length;c++)this.setFrame(a[c],b+c);else this.setFrame(a,
b);return this};b.prototype.setFrame=function(a,b){void 0==b||b>this._frames.length?b=this._frames.length:0>b&&(b=0);this._frames[b]=a;a.label&&(this._frameLabels[a.label]=a);if(void 0==a.interval)a.interval=this.interval;0==b&&0==this.currentFrame&&this.setRect(a.rect)};b.prototype.getFrame=function(a){return"number"==typeof a?this._frames[a]:this._frameLabels[a]};b.prototype.play=function(){this.paused=!1};b.prototype.stop=function(){this.paused=!0};b.prototype.gotoAndStop=function(a){this.currentFrame=
this.getFrameIndex(a);this.paused=!0};b.prototype.gotoAndPlay=function(a){this.currentFrame=this.getFrameIndex(a);this.paused=!1};b.prototype.getFrameIndex=function(a){if("number"==typeof a)return a;for(var a=this._frameLabels[a],b=this._frames,c=0;c<b.length;c++)if(a==b[c])return c;return-1};b.prototype.nextFrame=function(a){var b=this._frames[this.currentFrame];if(0<b.interval)a=this._displayedCount+a,this._displayedCount=b.interval>a?a:0;if(0<=b.jump||"string"==typeof b.jump)if(0==this._displayedCount||
!b.interval)return this.currentFrame=this.getFrameIndex(b.jump);return 0<b.interval&&0<this._displayedCount?this.currentFrame:this.currentFrame>=this._frames.length-1?this.currentFrame=0:++this.currentFrame};b.prototype._update=function(a){var d=this._frames[this.currentFrame];d.stop?this.stop():(this.paused||this.nextFrame(this.useFrames?1:a&&a.deltaTime),this.setRect(d.rect),b.superClass._update.call(this,a))};b.prototype.render=function(a){var b=this._frames[this.currentFrame].rect;a.draw(this,
b[0],b[1],b[2],b[3],0,0,this.width,this.height)}})();
(function(){var b=Quark.Button=function(a){this.state=b.UP;this.enabled=!0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Button");this._skin=new Quark.MovieClip({id:"skin",image:a.image});this.addChild(this._skin);this._skin.stop();this.eventChildren=!1;if(void 0===a.useHandCursor)this.useHandCursor=!0;a.up&&this.setUpState(a.up);a.over&&this.setOverState(a.over);a.down&&this.setDownState(a.down);a.disabled&&this.setDisabledState(a.disabled)};Quark.inherit(b,
Quark.DisplayObjectContainer);b.UP="up";b.OVER="over";b.DOWN="down";b.DISABLED="disabled";b.prototype.setUpState=function(a){a.label=b.UP;this._skin.setFrame(a,0);this.upState=a;return this};b.prototype.setOverState=function(a){a.label=b.OVER;this._skin.setFrame(a,1);this.overState=a;return this};b.prototype.setDownState=function(a){a.label=b.DOWN;this._skin.setFrame(a,2);this.downState=a;return this};b.prototype.setDisabledState=function(a){a.label=b.DISABLED;this._skin.setFrame(a,3);this.disabledState=
a;return this};b.prototype.setEnabled=function(a){if(this.enabled==a)return this;(this.eventEnabled=this.enabled=a)?3==this.currentFrame&&this._skin.gotoAndStop(b.UP):this.disabledState?this._skin.gotoAndStop(b.DISABLED):this._skin.gotoAndStop(b.state.UP);return this};b.prototype.changeState=function(a){if(this.state!=a){this.state=a;switch(a){case b.OVER:case b.DOWN:case b.UP:if(!this.enabled)this.eventEnabled=this.enabled=!0;this._skin.gotoAndStop(a);break;case b.DISABLED:this.setEnabled(!1)}return this}};
b.prototype._onEvent=function(a){if(this.enabled){switch(a.type){case "mousemove":this.overState&&this.changeState(b.OVER);break;case "mousedown":case "touchstart":case "touchmove":this.downState&&this.changeState(b.DOWN);break;case "mouseup":this.overState?this.changeState(b.OVER):this.changeState(b.UP);break;case "mouseout":case "touchout":case "touchend":this.upState&&this.changeState(b.UP)}b.superClass._onEvent.call(this,a)}};b.prototype.setDrawable=function(){b.superClass.setDrawable.call(this,
null)}})();
(function(){var b=Quark.Graphics=function(a){a=a||{};b.superClass.constructor.call(this,a);this.id=Quark.UIDUtil.createUID("Graphics");this.lineWidth=1;this.strokeStyle="0";this.lineAlpha=1;this.lineJoin=this.lineCap=null;this.miterLimit=10;this.fillStyle="0";this.fillAlpha=1;this._actions=[];this._cache=null};Quark.inherit(b,Quark.DisplayObject);b.prototype.lineStyle=function(a,b,c,f,e,h){this._addAction(["lineWidth",this.lineWidth=a||1]);this._addAction(["strokeStyle",this.strokeStyle=b||"0"]);
this._addAction(["lineAlpha",this.lineAlpha=c||1]);if(void 0!=f)this._addAction(["lineCap",this.lineCap=f]);if(void 0!=e)this._addAction(["lineJoin",this.lineJoin=e]);if(void 0!=h)this._addAction(["miterLimit",this.miterLimit=h]);return this};b.prototype.beginFill=function(a,b){this._addAction(["fillStyle",this.fillStyle=a]);this._addAction(["fillAlpha",this.fillAlpha=b||1]);return this};b.prototype.endFill=function(){this._addAction(["stroke"]);this._addAction(["fill"]);return this};b.prototype.beginLinearGradientFill=
function(a,d,c,f,e,h){a=b._getContext().createLinearGradient(a,d,c,f);d=0;for(c=e.length;d<c;d++)a.addColorStop(h[d],e[d]);return this._addAction(["fillStyle",this.fillStyle=a])};b.prototype.beginRadialGradientFill=function(a,d,c,f,e,h,j,i){a=b._getContext().createRadialGradient(a,d,c,f,e,h);d=0;for(c=j.length;d<c;d++)a.addColorStop(i[d],j[d]);return this._addAction(["fillStyle",this.fillStyle=a])};b.prototype.beginBitmapFill=function(a,d){return this._addAction(["fillStyle",this.fillStyle=b._getContext().createPattern(a,
d||"")])};b.prototype.beginPath=function(){return this._addAction(["beginPath"])};b.prototype.closePath=function(){return this._addAction(["closePath"])};b.prototype.drawRect=function(a,b,c,f){return this._addAction(["rect",a,b,c,f])};b.prototype.drawRoundRectComplex=function(a,b,c,f,e,h,j,i){this._addAction(["moveTo",a+e,b]);this._addAction(["lineTo",a+c-h,b]);this._addAction(["arc",a+c-h,b+h,h,-Math.PI/2,0,!1]);this._addAction(["lineTo",a+c,b+f-j]);this._addAction(["arc",a+c-j,b+f-j,j,0,Math.PI/
2,!1]);this._addAction(["lineTo",a+i,b+f]);this._addAction(["arc",a+i,b+f-i,i,Math.PI/2,Math.PI,!1]);this._addAction(["lineTo",a,b+e]);this._addAction(["arc",a+e,b+e,e,Math.PI,3*Math.PI/2,!1]);return this};b.prototype.drawRoundRect=function(a,b,c,f,e){return this.drawRoundRectComplex(a,b,c,f,e,e,e,e)};b.prototype.drawCircle=function(a,b,c){return this._addAction(["arc",a+c,b+c,c,0,2*Math.PI,0])};b.prototype.drawEllipse=function(a,b,c,f){if(c==f)return this.drawCircle(a,b,c);var c=c/2,f=f/2,e=0.5522847498307933*
c,h=0.5522847498307933*f,a=a+c,b=b+f;this._addAction(["moveTo",a+c,b]);this._addAction(["bezierCurveTo",a+c,b-h,a+e,b-f,a,b-f]);this._addAction(["bezierCurveTo",a-e,b-f,a-c,b-h,a-c,b]);this._addAction(["bezierCurveTo",a-c,b+h,a-e,b+f,a,b+f]);this._addAction(["bezierCurveTo",a+e,b+f,a+c,b+h,a+c,b]);return this};b.prototype.render=function(a){var d=a.context;null==d?b.superClass.render.call(this,a):null!=this._cache?d.drawImage(this._cache,0,0):this._draw(d)};b.prototype._draw=function(a){for(var b=
0,c=this._actions.length;b<c;b++){var f=this._actions[b],e=f[0],h=1<f.length?f.slice(1):null;"function"==typeof a[e]?a[e].apply(a,h):a[e]=f[1]}};b.prototype.getDrawable=function(a){null==this.drawable&&this.setDrawable(this.toImage());return this.drawable.get(this,a)};b.prototype.cache=function(a){var b=Quark.createDOM("canvas",{width:this.width,height:this.height});this._draw(b.getContext("2d"));this._cache=b;if(a)this._cache=this.toImage();return this._cache};b.prototype.uncache=function(){this._cache=
null};b.prototype.toImage=function(a){var b=this._cache||this.cache(!0);if(b instanceof HTMLImageElement)return b;var c=new Image;c.src=b.toDataURL(a||"image/png");c.width=this.width;c.height=this.height;return c};b.prototype.clear=function(){this._cache=this._actions.length=0;this.lineWidth=1;this.strokeStyle="0";this.lineAlpha=1;this.lineJoin=this.lineCap=null;this.miterLimit=10;this.fillStyle="0";this.fillAlpha=1};b.prototype._addAction=function(a){this._actions.push(a);return this};b._getContext=
function(){var a=Quark.createDOM("canvas").getContext("2d");this._getContext=function(){return a};return a}})();(function(){var b=Quark.Context=function(a){if(null==a.canvas)throw"Quark.Context Error: canvas is required.";this.canvas=null;Quark.merge(this,a)};b.prototype.startDraw=function(){};b.prototype.draw=function(){};b.prototype.endDraw=function(){};b.prototype.transform=function(){};b.prototype.remove=function(){}})();
(function(){var b=Quark.CanvasContext=function(a){b.superClass.constructor.call(this,a);this.context=this.canvas.getContext("2d")};Quark.inherit(b,Quark.Context);b.prototype.startDraw=function(){this.context.save()};b.prototype.draw=function(a){var b=a.getDrawable(this);null!=b&&(arguments[0]=b,this.context.drawImage.apply(this.context,arguments))};b.prototype.endDraw=function(){this.context.restore()};b.prototype.transform=function(a){var b=this.context;if(a instanceof Q.Stage){if(a._scaleX!=a.scaleX)a._scaleX=
a.scaleX,this.canvas.style.width=a._scaleX*a.width+"px";if(a._scaleY!=a.scaleY)a._scaleY=a.scaleY,this.canvas.style.height=a._scaleY*a.height+"px"}else(0!=a.x||0!=a.y)&&b.translate(a.x,a.y),0!=a.rotation%360&&b.rotate(a.rotation%360*Quark.DEG_TO_RAD),(1!=a.scaleX||1!=a.scaleY)&&b.scale(a.scaleX,a.scaleY),(0!=a.regX||0!=a.regY)&&b.translate(-a.regX,-a.regY);0<a.alpha&&(b.globalAlpha*=a.alpha)};b.prototype.clear=function(a,b,c,f){this.context.clearRect(a,b,c,f)}})();
(function(){function b(a,b){return b?""+("translate3d("+(a.x-a.regX)+"px, "+(a.y-a.regY)+"px, 0px)rotate3d(0, 0, 1, "+a.rotation+"deg)scale3d("+a.scaleX+", "+a.scaleY+", 1)"):""+("translate("+(a.x-a.regX)+"px, "+(a.y-a.regY)+"px)rotate("+a.rotation+"deg)scale("+a.scaleX+", "+a.scaleY+")")}var a=document.createElement("div"),d=void 0!=a.style[Quark.cssPrefix+"Transform"],c=void 0!=a.style[Quark.cssPrefix+"Perspective"],f=document.documentElement;if(c&&"webkitPerspective"in f.style){a.id="test3d";var e=
document.createElement("style");e.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}";document.head.appendChild(e);f.appendChild(a);c=3===a.offsetHeight;e.parentNode.removeChild(e);a.parentNode.removeChild(a)}Quark.supportTransform=d;Quark.supportTransform3D=c;if(d){var h=Quark.DOMContext=function(a){h.superClass.constructor.call(this,a)};Quark.inherit(h,Quark.Context);h.prototype.draw=function(a){if(!a._addedToDOM){var b=a.parent,c=a.getDrawable(this);null==b&&null==c.parentNode?this.canvas.appendChild(c):
(b=b.getDrawable(this),c.parentNode!=b&&b.appendChild(c));a._addedToDOM=!0}};h.prototype.transform=function(a){var c=a.getDrawable(this);if(a.transformEnabled||!a._addedToDOM){var d=Quark.cssPrefix,e=d+"TransformOrigin",d=d+"Transform",c=c.style;if(!c.display||a.propChanged("visible","alpha"))c.display=!a.visible||0>=a.alpha?"none":"";if(!c.opacity||a.propChanged("alpha"))c.opacity=a.alpha;if(!c.backgroundPosition||a.propChanged("rectX","rectY"))c.backgroundPosition=-a.rectX+"px "+-a.rectY+"px";if(!c.width||
a.propChanged("width","height"))c.width=a.width+"px",c.height=a.height+"px";if(!c[e]||a.propChanged("regX","regY"))c[e]=a.regX+"px "+a.regY+"px";if(!c[d]||a.propChanged("x","y","regX","regY","scaleX","scaleY","rotation"))e=Quark.supportTransform3D?b(a,!0):b(a,!1),c[d]=e;if(!c.zIndex||a.propChanged("_depth"))c.zIndex=a._depth}};h.prototype.hide=function(a){a.getDrawable(this).style.display="none"};h.prototype.remove=function(a){var b=a.getDrawable(this),c=b.parentNode;null!=c&&c.removeChild(b);a._addedToDOM=
!1}}else trace("Warn: DOMContext requires css transfrom support.")})();(function(b){b.anvsoftJavaScriptSlideshow=b.aJSs=b.aJSs||{version:"1.0.0",global:b}})(window);
(function(){aJSs.Events={TRANSITION_OVER:"transitionOver",PLAY_CURRENT:"playCurrent",SOUND_PLAY_COMPLETE:"soundPlayComplete",PHOTO_MOUSE_OVER:"photoMouseOver",PHOTO_MOUSE_OUT:"photoMouseOut",PHOTO_LOAD_COMPLETE:"photoLoadComplete",PLAY_VIDEO:"playVideo",VIDEO_PLAY_ENDED:"videoPlayEnded",VIDEO_CLEAR:"videoClear",VIDEO_START_PLAY:"videoStartPlay",PLAY_NEXT:"playNext"}})();
(function(){aJSs.CommandDispatcher=function(){function b(){this.handlers={}}b.prototype={constructor:b,addEventListener:function(a,b){if(void 0!=a)"undefined"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b);else throw Error("undefined property events.");},dispatchEvent:function(a){if(!a.target)a.target=this;if(this.handlers[a.type]instanceof Array)for(var b=this.handlers[a.type],f=0,e=b.length;f<e;f++)b[f](a)},removeEventListener:function(a,b){if(this.handlers[a]instanceof
Array){for(var f=this.handlers[a],e=0,h=f.length;e<h&&f[e]!==b;e++);f.splice(e,1)}}};var a=new b;return{getInstance:function(){return a}}}()})();(function(){aJSs.getParameters={parameters:function(){var b=document.getElementsByTagName("script");try{for(var a=b[b.length-1].src.split("?")[1].split("&"),b={},d,c,f,e=0,h=a.length;e<h;e++)d=a[e].split("="),c=d[0],f=d[1],"undefined"==typeof b[c]?b[c]=f:("string"==typeof b[c]&&(b[c]=[b[c]]),b[c].push(f));return b}catch(j){return[]}}}})();
(function(){aJSs.Music=function(b,a,d,c){var f="true"==c?!0:!1;this.soundAudio=new Quark.Audio(b,"true"==a?!0:!1,"true"==d?!0:!1,f);this.soundAudio.addEventListener("ended",function(){f||aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.SOUND_PLAY_COMPLETE})},!1);this.Playing=function(){return this.soundAudio.playing()};this.Play=function(){this.soundAudio.play()};this.Pause=function(){this.soundAudio.stop()}}})();
(function(){aJSs.Video=function(b,a,d,c,f,e){var a="true"==a?!0:!1,c="true"==c?!0:!1,b=b.substr(0,b.lastIndexOf(".")),h=document.createElement("video");h.width=f;h.height=e;try{h.buffered=d}catch(j){}h.autoplay=a;h.controls=c;h.loop=!1;h.preload="none";d=document.createElement("source");h.appendChild(d);if(h.canPlayType)""!=h.canPlayType("video/mp4")?(d.type="video/mp4",d.src=b+".mp4"):""!=h.canPlayType("video/ogg")?(d.type="video/ogg",d.src=b+".ogg"):""!=h.canPlayType("video/webm")?(d.type="video/webm",
d.src=b+".webm"):alert("Your browser does not support the video tag.");a?h.play():h.pause();h.addEventListener("ended",function(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_PLAY_ENDED})},!1);h.addEventListener("playing",function(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_START_PLAY})},!1);return h}})();
(function(){aJSs.MaskEffect=function(b){this.transTotal=68;this.maskerFull=0;var a=this,d,c;this.transition=function(a,b,c,d,i){this.maskerFull=0;if(a<=this.transTotal)this["mask"+a](b,c,d,i);else this.transition(68,b,c,d,i)};this.mask1=function(f,e,h,j){function i(){p=e*l*c;o=h*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.setRect([0,0,e,h]),clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=0,p=0,o=
0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask2=function(f,e,h,j){function i(){p=e*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask3=function(f,e,h,j){function i(){o=h*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
g.setRect([0,0,e,h]),clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=0,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask4=function(f,e,h,j){function i(){k=e*(1-l*c);p=e*l*c;g.x=e*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=e,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask5=function(f,e,h,j){function i(){m=
h*(1-l*c);o=h*l*c;g.y=h*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.y=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=h,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask6=function(f,e,h,j){function i(){o=e*r*c;g.setRect([m,p,o,n]);l=e*(1-r*c);s=e*r*c;k.x=e*(1-r*c);k.setRect([l,q,s,u]);r++;if(r>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
g.setRect([0,0,e,h]),f.removeChild(k),clearInterval(t),t=null}var g=f.getChildAt(0),k=new Quark.Bitmap({id:"targetBitmap2",image:g.image,rect:[0,0,0,0]});f.addChild(k);var m=0,p=0,o=0,n=h,l=e,q=0,s=0,u=h;d=j*b;c=1/(2*d);var t=setInterval(i,1E3/b),r=1;i()};this.mask7=function(f,e,h,j){function i(){n=h*r*c;g.setRect([m,p,o,n]);q=h*(1-r*c);u=h*r*c;k.y=h*(1-r*c);k.setRect([l,q,s,u]);r++;if(r>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,
e,h]),f.removeChild(k),clearInterval(t),t=null}var g=f.getChildAt(0),k=new Quark.Bitmap({id:"targetBitmap2",image:g.image,rect:[0,0,0,0]});f.addChild(k);var m=0,p=0,o=e,n=0,l=0,q=h,s=e,u=0;d=j*b;c=1/(2*d);var t=setInterval(i,1E3/b),r=1;i()};this.mask8=function(f,e,h,j){function i(){k=e/2*(1-l*c);p=e*l*c;g.x=e/2*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,clearInterval(n),n=null}var g=
f.getChildAt(0),k=e/2,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask9=function(f,e,h,j){function i(){m=h/2*(1-l*c);o=h*l*c;g.y=h/2*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.y=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=h/2,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask10=function(f,e,h,j){function i(){for(var b=0;b<m;b++){var j=b*p,i=
p*q*c,k=h;f.getChildById("maskBitmap"+b).setRect([j,0,i,k])}q++;if(q>d||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"});for(g.setRect([0,0,e,h]);1<f.getNumChildren();)f.removeChildAt(f.getNumChildren()-1);clearInterval(l);l=null}}for(var g=f.getChildAt(0),k=g.image,m=16,p=e/m,o=0;o<m;o++){var n=new Quark.Bitmap({id:"maskBitmap"+o,image:k,rect:[0,0,0,0]});n.x=o*p;f.addChild(n)}d=j*b;c=1/d;var l=setInterval(i,1E3/b),q=1;i()};this.mask11=function(f,e,h,j){function i(){for(var b=
0;b<m;b++){var j=b*p,i=e,k=p*q*c;f.getChildById("maskBitmap"+b).setRect([0,j,i,k])}q++;if(q>d||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"});for(g.setRect([0,0,e,h]);1<f.getNumChildren();)f.removeChildAt(f.getNumChildren()-1);clearInterval(l);l=null}}for(var g=f.getChildAt(0),k=g.image,m=16,p=h/m,o=0;o<m;o++){var n=new Quark.Bitmap({id:"maskBitmap"+o,image:k,rect:[0,0,0,0]});n.y=o*p;f.addChild(n)}d=j*b;c=1/d;var l=setInterval(i,1E3/b),q=1;i()};this.mask12=
function(f,e,h,j){function i(){for(o=0;o<I;o++)D=l.length,0<D?(H=Math.floor(Math.random()*D),l[H].visible=!0,l.splice(H,1)):o=I;v++;if(v>d||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(g.setRect([0,0,e,h]);1<f.getNumChildren();)f.removeChildAt(f.getNumChildren()-1);clearInterval(r);r=null}}for(var g=f.getChildAt(0),k=g.image,m=Math.ceil(e/20),p=Math.ceil(h/20),o=0,n=0,l=[],o=0;20>o;o++)for(n=0;20>n;n++){var q=m*o,s=p*n,u=m,t=p;if(q<e&&
s<h)q>e-m&&(u=e-q),s>h-p&&(t=h-s),u=new Quark.Bitmap({id:"maskBitmap"+o+n,image:k,rect:[q,s,u,t]}),u.x=q,u.y=s,u.visible=!1,f.addChild(u),l.push(u)}d=j*b;c=1/d;var r=setInterval(i,1E3/b),v=1,D=l.length,H,I=Math.round(D/d);1>I&&(I=1);i()};this.mask13=function(f,e,h,j){function i(){k=e/2*(1-l*c);m=h/2*(1-l*c);p=e*l*c;o=h*l*c;g.x=e/2*(1-l*c);g.y=h/2*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),
g.x=0,g.y=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=e/2,m=h/2,p=0,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask14=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask15=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask16=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask17=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask18=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask19=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask20=function(a,
b,c,d){this.transition(68,a,b,c,d)};this.mask21=function(f,e,h,j){function i(){k=e*(1-l*c);m=h*(1-l*c);p=e*l*c;o=h*l*c;g.x=e*(1-l*c);g.y=h*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,g.y=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=e,m=h,p=0,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask22=function(f,e,h,j){function i(){k=e*(1-l*c);m=0;p=e*l*c;o=h*l*c;g.x=e*(1-l*
c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=e,m=0,p=0,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask23=function(f,e,h,j){function i(){k=0;m=h*(1-l*c);p=e*l*c;o=h*l*c;g.y=h*(1-l*c);g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.y=
0,clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=h,p=0,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask24=function(f,e,h,j){function i(){q=e/2*x*c;s=h/2*x*c;g.setRect([n,l,q,s]);u=e/2+e/2*(1-x*c);t=0;r=e/2*x*c;v=h/2*x*c;m.x=e/2+e/2*(1-x*c);m.setRect([u,t,r,v]);D=0;H=h/2+h/2*(1-x*c);I=e/2*x*c;M=h/2*x*c;p.y=h/2+h/2*(1-x*c);p.setRect([D,H,I,M]);O=e/2+e/2*(1-x*c);P=h/2+h/2*(1-x*c);J=e/2*x*c;K=h/2*x*c;o.x=e/2+e/2*(1-x*c);o.y=h/2+h/2*(1-x*c);o.setRect([O,P,J,K]);x++;if(x>d||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});
for(g.setRect([0,0,e,h]);1<f.getNumChildren();)f.removeChildAt(f.getNumChildren()-1);clearInterval(A);A=null}}var g=f.getChildAt(0),k=g.image,m=new Quark.Bitmap({id:"targetBitmap2",image:k,rect:[0,0,0,0]});f.addChild(m);var p=new Quark.Bitmap({id:"targetBitmap3",image:k,rect:[0,0,0,0]});f.addChild(p);var o=new Quark.Bitmap({id:"targetBitmap4",image:k,rect:[0,0,0,0]});f.addChild(o);var n=0,l=0,q=0,s=0,u=e,t=0,r=0,v=0,D=0,H=h,I=0,M=0,O=e,P=h,J=0,K=0;d=j*b;c=1/d;var A=setInterval(i,1E3/b),x=1;i()};this.mask25=
function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask26=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask27=function(f,e,h,j){function i(){for(var b=0;b<m;b++){var i=p*b,j=p;o[b].x>e-p&&(j=e-o[b].x);var k=n[b]+(h-n[b])*r*c*h/(h-n[b]);k<h&&o[b].setRect([i,0,j,k])}r++;if(r>d||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(g.setRect([0,0,e,h]);1<f.getNumChildren();)f.removeChildAt(f.getNumChildren()-1);clearInterval(t);t=null}}for(var g=
f.getChildAt(0),k=g.image,m=20,p=Math.ceil(e/m),o=[],n=[],l=0;l<m;l++){n[l]=h/2*Math.random();var q=p*l,s=p,u=n[l];q>e-p&&(s=e-q);s=new Quark.Bitmap({id:"maskBitmap"+l,image:k,rect:[q,0,s,u]});s.x=q;f.addChild(s);o.push(s)}d=j*b;c=1/d;var t=setInterval(i,1E3/b),r=1;i()};this.mask28=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask29=function(f,e,h,j){function i(){g.alpha=m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.alpha=
1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.alpha=0;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask30=function(f,e,h,j){function i(){k=e*(1-l*c);p=e*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=e,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask31=function(f,e,h,j){function i(){g.alpha=
l*c;k=e*(1-l*c);p=e*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,g.alpha=1,clearInterval(n),n=null}var g=f.getChildAt(0);g.alpha=0;var k=e,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask32=function(f,e,h,j){function i(){p=e*l*c;g.setRect([k,m,p,o]);g.x=e*(1-l*c);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,
0,e,h]),g.x=0,clearInterval(n),n=null}var g=f.getChildAt(0);g.x=e;var k=0,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask33=function(f,e,h,j){function i(){g.alpha=l*c;p=e*l*c;g.setRect([k,m,p,o]);g.x=e*(1-l*c);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.x=0,g.alpha=1,clearInterval(n),n=null}var g=f.getChildAt(0);g.x=e;var k=g.alpha=0,m=0,p=0,o=h;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};
this.mask34=function(f,e,h,j){function i(){m=h*(1-l*c);o=h*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.y=0,clearInterval(n),n=null}var g=f.getChildAt(0),k=0,m=h,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask35=function(f,e,h,j){function i(){g.alpha=l*c;m=h*(1-l*c);o=h*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
g.setRect([0,0,e,h]),g.y=0,g.alpha=1,clearInterval(n),n=null}var g=f.getChildAt(0),k=g.alpha=0,m=h,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask36=function(f,e,h,j){function i(){g.y=h*(1-l*c);o=h*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.y=0,clearInterval(n),n=null}var g=f.getChildAt(0);g.y=h;var k=0,m=0,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask37=
function(f,e,h,j){function i(){g.alpha=l*c;g.y=h*(1-l*c);o=h*l*c;g.setRect([k,m,p,o]);l++;if(l>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),g.setRect([0,0,e,h]),g.y=0,g.alpha=1,clearInterval(n),n=null}var g=f.getChildAt(0);g.alpha=0;g.y=h;var k=0,m=0,p=e,o=0;d=j*b;c=1/d;var n=setInterval(i,1E3/b),l=1;i()};this.mask38=function(f,e,h,j){function i(){g.width=e*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
g.width=e,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.width=0;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask39=function(f,e,h,j){function i(){g.alpha=m*c;g.width=e*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.width=e,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.alpha=0;g.width=0;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask40=function(f,e,h,
j){function i(){g.x=e/2*(1-m*c);g.width=e*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.width=e,g.x=0,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.width=0;g.x=e/2;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask41=function(f,e,h,j){function i(){g.alpha=m*c;g.x=e/2*(1-m*c);g.width=e*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
g.width=e,g.x=0,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.width=0;g.alpha=0;g.x=e/2;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask42=function(f,e,h,j){function i(){g.x=e*(1-m*c);g.width=e*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.width=e,g.x=0,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.width=0;g.x=e;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};
this.mask43=function(f,e,h,j){function i(){g.alpha=m*c;g.x=e*(1-m*c);g.width=e*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.width=e,g.x=0,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.width=0;g.alpha=0;g.x=e;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask44=function(f,e,h,j){function i(){g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
g.height=h,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.height=0;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask45=function(f,e,h,j){function i(){g.alpha=m*c;g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.height=h,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.height=0;g.alpha=0;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask46=function(f,
e,h,j){function i(){g.y=h/2*(1-m*c);g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.height=h,g.y=0,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.height=0;g.y=h/2;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask47=function(f,e,h,j){function i(){g.alpha=m*c;g.y=h/2*(1-m*c);g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
g.height=h,g.y=0,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.height=0;g.alpha=0;g.y=h/2;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask48=function(f,e,h,j){function i(){g.y=h*(1-m*c);g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.height=h,g.y=0,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.height=0;g.y=h;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;
i()};this.mask49=function(f,e,h,j){function i(){g.alpha=m*c;g.y=h*(1-m*c);g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.height=h,g.y=0,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.height=0;g.alpha=0;g.y=h;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask50=function(f,e,h,j){function i(){g.x=e/2*(1-m*c);g.y=h/2*(1-m*c);g.width=e*m*c;g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
g.width=e,g.height=h,g.x=0,g.y=0,clearInterval(k),k=null}var g=f.getChildAt(0);g.setRect([0,0,e,h]);g.width=0;g.height=0;g.x=e/2;g.y=h/2;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask51=function(f,e,h,j){function i(){g.alpha=m*c;g.x=e/2*(1-m*c);g.y=h/2*(1-m*c);g.width=e*m*c;g.height=h*m*c;m++;if(m>d||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),g.width=e,g.height=h,g.x=0,g.y=0,g.alpha=1,clearInterval(k),k=null}var g=f.getChildAt(0);
g.setRect([0,0,e,h]);g.width=0;g.height=0;g.alpha=0;g.x=e/2;g.y=h/2;d=j*b;c=1/d;var k=setInterval(i,1E3/b),m=1;i()};this.mask52=function(a,b,c){a.getChildAt(0).setRect([0,0,b,c]);aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER})};this.mask53=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask54=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask55=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask56=function(a,b,c,d){this.transition(68,a,b,c,d)};
this.mask57=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask58=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask59=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask60=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask61=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask62=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask63=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask64=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask65=function(a,b,c,d){this.transition(68,
a,b,c,d)};this.mask66=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask67=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask68=function(f,e,h,j){function i(){for(o=0;o<x;o++)l[o].width=r[o]*A*c,l[o].height=v[o]*A*c,l[o].x=u[o]+(q[o]-u[o])*A*c,l[o].y=t[o]+(s[o]-t[o])*A*c;A++;if(A>d||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(g.setRect([0,0,e,h]);1<f.getNumChildren();)f.removeChildAt(f.getNumChildren()-1);clearInterval(K);
K=null}}for(var g=f.getChildAt(0),k=g.image,m=Math.ceil(e/12),p=Math.ceil(h/12),o=0,n=0,l=[],q=[],s=[],u=[],t=[],r=[],v=[],o=0;12>o;o++)for(n=0;12>n;n++){var D=m*o,H=p*n,I=m,M=p,O=Math.random()*(e-m),P=Math.random()*(h-p);if(D<e&&H<h){D>e-m&&(I=e-D);H>h-p&&(M=h-H);var J=new Quark.Bitmap({id:"maskBitmap"+o+n,image:k,rect:[D,H,I,M]});J.x=O;J.y=P;J.width=0;J.height=0;f.addChild(J);l.push(J);q.push(D);s.push(H);r.push(I);v.push(M);u.push(O);t.push(P)}}d=j*b;c=1/d;var K=setInterval(i,1E3/b),A=1,x=l.length;
i()}}})();
(function(){aJSs.JsXmlLoad=function(b){var a=this;a.copyright="Anvsoft";a.movieWidth=0;a.movieHeight=0;a.startAutoPlay="";a.continuum="";a.clickToAutoPlay="";a.randomPlayingPhotos="";a.enableURL="";a.movieBackgroundColor="";a.loadStyle="";a.anvsoftMenu="";a.frameRate=0;a.globalTitleXml="";a.musicPath="";a.musicStream="";a.musicLoop="";a.musicAutoPlay="";a.topPadding=0;a.bottomPadding=0;a.leftPadding=0;a.rightPadding=0;a.globalDescriptionXml="";a.videoAutoPlay="";a.bufferTime="";a.videoControls="";
a.thumbnailBasicXml="";a.thumbnailArray=[];a.photoArray=[];a.photoUrlArray=[];a.URLTarget=[];a.videoArray=[];a.transitionArray=[];a.photoTimeArray=[];a.transitionTimeArray=[];a.defineTransitionArray=[];a.photoTitleArray=[];a.descriptionText=[];var d=function(b){b=b.documentElement;a.copyright=b.getAttribute("copyright");var c=b.getElementsByTagName("global")[0],d=c.getElementsByTagName("basic_property")[0];a.movieWidth=d.getAttribute("movieWidth");a.movieHeight=d.getAttribute("movieHeight");a.startAutoPlay=
d.getAttribute("startAutoPlay");a.continuum=d.getAttribute("continuum");a.clickToAutoPlay=d.getAttribute("clickToAutoPlay");a.randomPlayingPhotos=d.getAttribute("randomPlayingPhotos");a.enableURL=d.getAttribute("enableURL");a.movieBackgroundColor=d.getAttribute("backgroundColor").replace(/0x/g,"#");a.loadStyle=d.getAttribute("loadStyle");a.anvsoftMenu=d.getAttribute("anvsoftMenu");a.frameRate=d.getAttribute("frameRate");d=d.getAttribute("transitionArray");a.defineTransitionArray=""==d?null:d.split(",");
a.globalTitleXml=c.getElementsByTagName("title_property")[0];d=c.getElementsByTagName("music_property")[0];a.musicPath=d.getAttribute("path");a.musicStream=d.getAttribute("stream");a.musicLoop=d.getAttribute("loop");a.musicAutoPlay=d.getAttribute("autoPlay");d=c.getElementsByTagName("photo_property")[0];a.topPadding=Number(d.getAttribute("topPadding"));a.bottomPadding=Number(d.getAttribute("bottomPadding"));a.leftPadding=Number(d.getAttribute("leftPadding"));a.rightPadding=Number(d.getAttribute("rightPadding"));
a.globalDescriptionXml=c.getElementsByTagName("description_property")[0];c=c.getElementsByTagName("video_property")[0];a.videoAutoPlay=c.getAttribute("autoPlay");a.bufferTime=Number(c.getAttribute("bufferTime"));a.videoControls=c.getAttribute("controls");c=b.getElementsByTagName("thumbnail")[0];if(void 0!=c)a.thumbnailBasicXml=c.getElementsByTagName("basic_property")[0];b=b.getElementsByTagName("album")[0].getElementsByTagName("slide");c=b.length;for(d=0;d<c;d++){a.thumbnailArray[d]=b[d].getAttribute("jpegURL");
a.photoArray[d]=b[d].getAttribute("d_URL");a.photoUrlArray[d]=b[d].getAttribute("url");a.URLTarget[d]=b[d].getAttribute("URLTarget");a.videoArray[d]=b[d].getAttribute("v_URL");a.transitionArray[d]=b[d].getAttribute("transition");a.photoTimeArray[d]=b[d].getAttribute("phototime");a.transitionTimeArray[d]=b[d].getAttribute("transitiontime");a.photoTitleArray[d]=b[d].getAttribute("title");var e=b[d].childNodes[0];a.descriptionText[d]=void 0!=e?e.nodeValue:""}};try{var c=new ActiveXObject("Microsoft.XMLDOM")}catch(f){try{c=
document.implementation.createDocument("","",null)}catch(e){alert(e.message)}}try{c.async=!1,c.load(b),d(c)}catch(h){try{var j=new window.XMLHttpRequest;j.open("GET",b,!1);j.send(null);c=j.responseXML;d(c)}catch(i){c=(new DOMParser).parseFromString(window.anvsoftJavaScriptSlideshowData,"text/xml"),d(c)}}}})();
(function(){aJSs.JsCompatibleTheme=function(b,a,d){function c(){n--;if(0>=n)clearInterval(q),l++,l>o-1&&(l=0),u.src=d+e[l]}var f=b.movieBackgroundColor,e=b.photoArray,h=b.photoUrlArray,j=b.photoTimeArray,i=b.transitionTimeArray,g=b.URLTarget,k=b.topPadding,m=b.bottomPadding,p=b.leftPadding,b=b.rightPadding,o=e.length,n=0,l=0,q=null,s=document.getElementById(a);s.style.backgroundColor=f;var a=s.offsetWidth,f=s.offsetHeight,p=a-p-b,k=f-k-m,m=Math.round((a-p)/2),b=Math.round((f-k)/2),u=new Image;s.appendChild(u);
u.style.position="absolute";u.style.width=p+"px";u.style.height=k+"px";u.style.left=m+"px";u.style.top=b+"px";u.src=d+e[l];u.onload=function(){n=parseInt(i[l])+parseInt(j[l]);q=setInterval(c,1E3)};u.onclick=function(){var a;switch(g[l]){case "0":a="_blank";break;case "1":a="_parent";break;case "2":a="_self";break;case "3":a="_top";break;default:a="_blank"}window.open(h[l],a)};var t=document.createElement("div");s.appendChild(t);t.style.position="absolute";t.style.width="250px";t.style.padding="8px";
t.style.backgroundColor="#333";t.style.color="#FFF";t.style.textAlign="left";t.style.font="normal normal 12px/16px verdana,tahoma,arial,sans-serif";t.innerHTML="The browser you are using does not support HTML5. Now you are using the simple compatible mode. To get better user experience, please use HTML5 supported browser.";t.style.left=Math.round((a-t.offsetWidth)/2)+"px";t.style.top=Math.round((f-t.offsetHeight)/2)+"px";var r=setTimeout(function(){clearTimeout(r);r=null;s.removeChild(t)},1E4)}})();
(function(){aJSs.JsBackground=function(b,a){var d=b.movieBackgroundColor,c=new Quark.DisplayObjectContainer({id:"backgroundBox"});c.autoSize=!0;a.addChild(c);if(""!=d){var f=Quark.Bitmap,e=a.width,h=a.height,j=document.createElement("canvas");j.width=e;j.height=h;var i=j.getContext("2d");i.fillStyle=d;i.rect(0,0,e,h);i.fill();d=new Image;d.src=j.toDataURL("image/png");d.width=e;d.height=h;f=new f({id:"background",image:d});f.autoSize=!0;c.addChild(f)}}})();
(function(){aJSs.JsPhoto=function(b,a,d){function c(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_CLEAR});e();x=A=0;S&&S.removeAllChildren();C.swapChildren(U,L);C.getChildIndex(U)>C.getChildIndex(L)?($=U,S=L):($=L,S=U);var a=new Image;a.onload=function(){h();A=1;a.width=Y;a.height=Z;var b=new Quark.Bitmap({id:"targetBitmap",image:a,rect:[0,0,0.0010,0.0010]});b.useHandCursor="true"==k&&""!=g[w]?!0:!1;$.addChild(b);da=0==o[w]?null==n?Math.floor(Math.random()*W.transTotal)+
1:n[Math.floor(Math.random()*n.length)]:o[w];W.transition(da,$,Y,Z,l[w]);b.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type){if("true"==k&&""!=g[w]){switch(m[w]){case "0":a="_blank";break;case "1":a="_parent";break;case "2":a="_self";break;case "3":a="_top";break;default:a="_blank"}window.open(g[w],a)}}else"mousemove"==a.type||"touchmove"==a.type?aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_MOUSE_OVER}):("mouseout"==a.type||"touchout"==a.type)&&aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_MOUSE_OUT})};
aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_LOAD_COMPLETE,index:w})};a.src=d+i[w];aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_CURRENT,index:w});w>=R-1&&"false"==H&&"false"==r&&J.Pause()}function f(){X--;try{Quark.getDOM("debugInfo").value=X}catch(a){}if(0>=X||1==E)clearInterval(B),B=null,0==E?"true"==r?w=Math.floor(Math.random()*R):w<R-1?w++:w=0:E=0,c()}function e(){if(""!=v){h();var a=new Image;a.src=d+v;a=new Quark.MovieClip({image:a,
id:"preloader",interval:100});a.addFrame([{rect:[0,0,25,25]},{rect:[25,0,25,25]},{rect:[50,0,25,25]},{rect:[75,0,25,25]},{rect:[100,0,25,25]},{rect:[125,0,25,25]}]);a.x=u+(O-a.width)/2;a.y=q+(P-a.height)/2;T.addChild(a)}}function h(){if(""!=v){var a=T.getChildById("preloader");null!=a&&T.removeChild(a)}}var j=b.frameRate,i=b.photoArray,g=b.photoUrlArray,k=b.enableURL,m=b.URLTarget,p=b.photoTimeArray,o=b.transitionArray,n=b.defineTransitionArray,l=b.transitionTimeArray,q=b.topPadding,s=b.bottomPadding,
u=b.leftPadding,t=b.rightPadding,r=b.randomPlayingPhotos,v=b.loadStyle,D=b.startAutoPlay,H=b.continuum,I=b.videoAutoPlay,M=b.videoArray,O=a.width-u-t,P=a.height-q-s,J=this,K=0,A=1,x=1,E=0,da=0,X=0,w=0,B=null,R=i.length;aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.TRANSITION_OVER,function(){x=1;if(1==K||1==E)X=p[w]*j,B=setInterval(f,1E3/j);""!=M[w]&&void 0!=M[w]&&0==E&&("true"==I&&(clearInterval(B),B=null),aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_VIDEO,
index:w,width:O,height:P}))});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_NEXT,function(){J.Play()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_START_PLAY,function(){J.Pause()});var W=new aJSs.MaskEffect(j),T=new Quark.DisplayObjectContainer({id:"container"});T.autoSize=!0;a.addChild(T);var Y=a.width-u-t,Z=a.height-q-s,b=u,a=q,s=new Quark.Bitmap({id:"photoBoxBg",image:function(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=
b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}(Y,Z,"#DDD")});s.autoSize=!0;s.x=b;s.y=a;T.addChild(s);var C=new Quark.DisplayObjectContainer({id:"photoBox",x:b,y:a,width:Y,height:Z});C.autoSize=!0;T.addChild(C);var S,$,U=new Quark.DisplayObjectContainer({id:"aPhoto"}),L=new Quark.DisplayObjectContainer({id:"bPhoto"});C.addChild(U);C.addChild(L);this.Play=function(){K=1;1==A&&1==x?(clearInterval(B),B=null,w<
R-1?w++:w=0,c()):1==A&&0==x?(E=1,w<R-1?w++:w=0,W.maskerFull=1):(w<R-1?w++:w=0,E=1)};this.Pause=function(){K=0;null!=B&&(clearInterval(B),B=null)};this.Previous=function(a){K=a;0<w?w--:w=R-1;1==A&&1==x?(clearInterval(B),B=null,c()):1==A&&0==x?(E=1,W.maskerFull=1):E=1};this.Next=function(a){K=a;w<R-1?w++:w=0;1==A&&1==x?(clearInterval(B),B=null,c()):1==A&&0==x?(E=1,W.maskerFull=1):E=1};this.Show=function(a,b){K=b;1==A&&1==x?(clearInterval(B),B=null,w=a,c()):1==A&&0==x?(E=1,w=a,W.maskerFull=1):(w=a,E=
1)};"true"==D?this.Show(0,1):this.Show(0,0)}})();
(function(){aJSs.JsMediaConsole=function(b,a,d,c){function f(){void 0!=q&&(b.removeChild(q),void 0!=l&&"videoCallPause"==s&&(l.Play(),s=""),q=void 0,e())}function e(){var a=document.getElementById("videoLoadText");a&&b.removeChild(a)}var h=a.topPadding,j=a.leftPadding,d=a.musicPath,i=a.musicAutoPlay,g=a.musicLoop,k=a.musicStream,m=a.videoAutoPlay,p=a.bufferTime,o=a.videoArray,n=a.videoControls;if(""!=d)var l=new aJSs.Music(c+d,k,i,g);var q,s="";aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_VIDEO,function(a){var d=
a.index,e=a.width,a=a.height;void 0!=l&&l.Playing()&&(l.Pause(),s="videoCallPause");q=new aJSs.Video(c+o[d],m,p,n,e,a);q.style.backgroundColor="#000";q.style.position="absolute";q.style.top=h+"px";q.style.left=j+"px";b.appendChild(q);d=document.getElementById("videoLoadText");if(null==d)d=document.createElement("div"),d.id="videoLoadText",d.style.position="absolute",d.style.top=h+5+"px",d.style.left=j+5+"px",d.style.font="normal normal 11px/13px verdana,tahoma,arial,sans-serif",d.style.color="#FFF",
d.textContent="Waiting...",b.appendChild(d)});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_PLAY_ENDED,function(){f();aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_NEXT})});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_CLEAR,function(){f()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_START_PLAY,function(){e()});this.MusicPlay=function(){l.Play()};this.MusicPause=function(){l.Pause()}}})();
(function(){aJSs.JsMenu=function(b,a){function d(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}function c(a,b,c,d,e,f){var g,h=document.createElement("canvas");h.width=a;h.height=b;a=h.getContext("2d");a.font=d+"px "+e;a.textAlign="start";a.textBaseline="middle";a.fillStyle=c;a.fillText(f,0,b/2);g=k=a.measureText(f).width;a=g;c=new Image;c.src=
h.toDataURL("image/png");c.width=a;c.height=b;return c}var f=b.topPadding,e=b.leftPadding,h=b.copyright;if(null==b.anvsoftMenu||"anvsoftPFMTheme"!=h&&"anvsoftUSSTheme"!=h&&"anvsoftHSMTheme"!=h){var j,i;switch(h){case "anvsoftPFMTheme":i="Powered by photo-flash-maker.com";j=186;break;case "anvsoftUSSTheme":i="Powered by ultraslideshow.com";j=168;break;case "anvsoftHSMTheme":i="Powered by html5-slideshow-maker.com";j=210;break;case "anvsoftSWWTheme":i="Powered by slidewow.com";j=142;break;default:i=
"Powered by anvsoft.com",j=136}var g=new Quark.DisplayObjectContainer({id:"menudBox"});g.autoSize=!0;g.x=e;g.y=f;a.addChild(g);f=new Quark.Bitmap({id:"copyrightBg",image:d(j,20,"#000")});f.autoSize=!0;f.alpha=0.3;g.addChild(f);var k=j;i=new Quark.Bitmap({id:"copyrightText",image:c(k,20,"#FFF",11,"arial, sans-serif",i)});i.useHandCursor=!0;i.autoSize=!0;i.x=Math.round((j-k)/2);g.addChild(i);i.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type)switch(h){case "anvsoftPFMTheme":window.open("http://www.photo-flash-maker.com/",
"_self");break;case "anvsoftUSSTheme":window.open("http://www.ultraslideshow.com/","_self");break;case "anvsoftHSMTheme":window.open("http://www.html5-slideshow-maker.com/","_self");break;case "anvsoftSWWTheme":window.open("http://www.slidewow.com/","_self");break;default:window.open("http://www.anvsoft.com/","_self")}}}}})();
(function(){aJSs.JsInterface=function(b,a,d,c,f){this.globalPath=f;this.container=b;this.commandDispatcher=aJSs.CommandDispatcher.getInstance();this.copyright=a.copyright;this.movieWidth=a.movieWidth;this.movieHeight=a.movieHeight;this.startAutoPlay=a.startAutoPlay;this.continuum=a.continuum;this.clickToAutoPlay=a.clickToAutoPlay;this.randomPlayingPhotos=a.randomPlayingPhotos;this.enableURL=a.enableURL;this.movieBackgroundColor=a.movieBackgroundColor;this.loadStyle=a.loadStyle;this.anvsoftMenu=a.anvsoftMenu;
this.frameRate=a.frameRate;this.globalTitleXml=a.globalTitleXml;this.musicPath=a.musicPath;this.musicStream=a.musicStream;this.musicLoop=a.musicLoop;this.musicAutoPlay=a.musicAutoPlay;this.topPadding=a.topPadding;this.bottomPadding=a.bottomPadding;this.leftPadding=a.leftPadding;this.rightPadding=a.rightPadding;this.globalDescriptionXml=a.globalDescriptionXml;this.videoAutoPlay=a.videoAutoPlay;this.bufferTime=a.bufferTime;this.videoControls=a.videoControls;this.thumbnailBasicXml=a.thumbnailBasicXml;
this.thumbnailArray=a.thumbnailArray;this.photoArray=a.photoArray;this.photoUrlArray=a.photoUrlArray;this.URLTarget=a.URLTarget;this.videoArray=a.videoArray;this.transitionArray=a.transitionArray;this.photoTimeArray=a.photoTimeArray;this.transitionTimeArray=a.transitionTimeArray;this.defineTransitionArray=a.defineTransitionArray;this.photoTitleArray=a.photoTitleArray;this.descriptionText=a.descriptionText;this.Play=function(){d.Play()};this.Pause=function(){d.Pause()};this.Previous=function(){d.Previous()};
this.Next=function(){d.Next()};this.Show=function(a,b){d.Show(a,b)};this.MusicPlay=function(){c.MusicPlay()};this.MusicPause=function(){c.MusicPause()}}})();
(function(b){var a=aJSs.getParameters.parameters().xml_path,d=aJSs.getParameters.parameters().fs_path,c,f;void 0==a?void 0==d?(c="slides.xml",f=""):(c=d+"/slides.xml",f=d+"/"):(c=a,f=a.substr(0,a.lastIndexOf("/")+1));anvsoftJavaScriptSlideshow.init=function(a){var d,j,i,g;if(b.document.createElement("canvas").getContext)(function(){g=Quark.getDOM(a);var b=Quark.supportTouch?["touchstart","touchmove","touchend","touchout"]:["mousedown","mousemove","mouseup","mouseout"],c=Quark.getUrlParams();if(void 0==
c.mode)c.mode=1;var f=g.clientWidth||g.offsetWidth,k=g.clientHeight||g.offsetHeight;1==c.mode?(d=Quark.createDOM("canvas",{width:f,height:k}),g.appendChild(d),j=new Quark.CanvasContext({canvas:d})):j=new Quark.DOMContext({canvas:g});i=new Quark.Stage({width:f,height:k,context:j});(new Q.EventManager).registerStage(i,b)})(),function(){var a=new aJSs.JsXmlLoad(c),b=new aJSs.JsPhoto(a,i,f),d=new aJSs.JsMediaConsole(g,a,i,f);new aJSs.JsMenu(a,i);var e=new Q.Timer(1E3/a.frameRate);e.addListener(i);e.start();
a=new aJSs.JsInterface(g,a,b,d,f);new aJSsTemplate.Main(a)}();else{var k=new aJSs.JsXmlLoad(c);new aJSs.JsCompatibleTheme(k,a,f)}}})(window);
