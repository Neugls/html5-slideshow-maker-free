(function(b){function a(a,c,d){for(var b=a.length,i=c.length,f,k,m,p,n,o,l=0,q=0;q<b;q++){f=a[q];k=a[q<b-1?q+1:0];l=f.y-k.y;f=k.x-f.x;k=Math.sqrt(l*l+f*f);l/=k;f/=k;k=m=a[0].x*l+a[0].y*f;for(var r=1;r<b;r++)o=a[r].x*l+a[r].y*f,o>m?m=o:o<k&&(k=o);p=n=c[0].x*l+c[0].y*f;for(r=1;r<i;r++)o=c[r].x*l+c[r].y*f,o>n?n=o:o<p&&(p=o);k<p?(k=p-m,l=-l,f=-f):k-=n;if(0<=k)return!1;if(k>d.overlap)d.overlap=k,d.normal.x=l,d.normal.y=f}return d}var c=b.Quark=b.Quark||{version:"1.0.0",global:b},d=function(){};c.inherit=
function(a,c){d.prototype=c.prototype;a.superClass=c.prototype;a.prototype=new d;a.prototype.constructor=a};c.merge=function(a,c,d){for(var b in c)if(!d||a.hasOwnProperty(b)||void 0!==a[b])a[b]=c[b];return a};c.delegate=function(a,c){var d=c||b;if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.concat.apply(j,arguments);return a.apply(d,c)}}return function(){return a.apply(d,arguments)}};c.getDOM=function(a){return document.getElementById(a)};
c.createDOM=function(a,c){var d=document.createElement(a),b;for(b in c){var i=c[b];if("style"==b)for(var f in i)d.style[f]=i[f];else d[b]=i}return d};c.use=function(a){for(var a=a.split("."),c=b,d=0;d<a.length;d++)var j=a[d],c=c[j]||(c[j]={});return c};(function(a){var c=a.ua=navigator.userAgent;a.isWebKit=/webkit/i.test(c);a.isMozilla=/mozilla/i.test(c);a.isIE=/msie/i.test(c);a.isFirefox=/firefox/i.test(c);a.isChrome=/chrome/i.test(c);a.isSafari=/safari/i.test(c)&&!this.isChrome;a.isMobile=/mobile/i.test(c);
a.isOpera=/opera/i.test(c);a.isIOS=/ios/i.test(c);a.isIpad=/ipad/i.test(c);a.isIpod=/ipod/i.test(c);a.isIphone=/iphone/i.test(c)&&!this.isIpod;a.isAndroid=/android/i.test(c);a.supportStorage="localStorage"in b;a.supportOrientation="orientation"in b;a.supportDeviceMotion="ondevicemotion"in b;a.supportTouch="ontouchstart"in b;a.supportCanvas=null!=document.createElement("canvas").getContext;a.cssPrefix=a.isWebKit?"webkit":a.isFirefox?"Moz":a.isOpera?"O":a.isIE?"ms":""})(c);c.getElementOffset=function(a){for(var c=
a.offsetLeft,d=a.offsetTop;(a=a.offsetParent)&&a!=document.body&&a!=document;)c+=a.offsetLeft,d+=a.offsetTop;return{left:c,top:d}};c.createDOMDrawable=function(a,d){var b=a.tagName||"div",j=d.image,i=a.width||j&&j.width,f=a.height||j&&j.height,k=c.createDOM(b);if(a.id)k.id=a.id;k.style.position="absolute";k.style.left=(a.left||0)+"px";k.style.top=(a.top||0)+"px";k.style.width=i+"px";k.style.height=f+"px";if("canvas"==b)k.width=i,k.height=f,j&&(b=k.getContext("2d"),i=d.rect||[0,0,i,f],b.drawImage(j,
i[0],i[1],i[2],i[3],a.x||0,a.y||0,a.width||i[2],a.height||i[3]));else if(k.style.opacity=void 0!=a.alpha?a.alpha:1,k.style.overflow="hidden",j&&j.src)k.style.backgroundImage="url("+j.src+")",k.style.backgroundPosition=-(a.rectX||0)+"px "+-(a.rectY||0)+"px";return k};c.DEG_TO_RAD=Math.PI/180;c.RAD_TO_DEG=180/Math.PI;c.hitTestPoint=function(a,c,d,b){var a=a.getBounds(),i=a.length,f=c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height;if(f&&b){for(var b=0,f=!1,k,m,p,n,o=0;o<i;o++){var l=a[o],q=a[(o+1)%i];
l.y==q.y&&d==l.y&&(l.x>q.x?(k=q.x,m=l.x):(k=l.x,m=q.x),c>=k&&c<=m)?f=!0:(l.y>q.y?(p=q.y,n=l.y):(p=l.y,n=q.y),d<p||d>n||(l=(d-l.y)*(q.x-l.x)/(q.y-l.y)+l.x,l>c?b++:l==c&&(f=!0)))}return f?0:1==b%2?1:-1}return f?1:-1};c.hitTestObject=function(a,d,b){a=a.getBounds();d=d.getBounds();return(a=a.x<=d.x+d.width&&d.x<=a.x+a.width&&a.y<=d.y+d.height&&d.y<=a.y+a.height)&&b?(a=c.polygonCollision(d,d),!1!==a):a};c.polygonCollision=function(c,d){var b=a(c,d,{overlap:-Infinity,normal:{x:0,y:0}});return b?a(d,c,
b):!1};c.toString=function(){return"Quark"};c.trace=function(){var a=Array.prototype.slice.call(arguments);"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(a.join(" "))};if(void 0==b.Q)b.Q=c;if(void 0==b.trace)b.trace=c.trace})(window);
(function(){var b=Quark.Matrix=function(a,c,d,b,e,h){this.a=a;this.b=c;this.c=d;this.d=b;this.tx=e;this.ty=h};b.prototype.concat=function(a){var c=this.a,d=this.c,b=this.tx;this.a=c*a.a+this.b*a.c;this.b=c*a.b+this.b*a.d;this.c=d*a.a+this.d*a.c;this.d=d*a.b+this.d*a.d;this.tx=b*a.a+this.ty*a.c+a.tx;this.ty=b*a.b+this.ty*a.d+a.ty;return this};b.prototype.rotate=function(a){var c=Math.cos(a),a=Math.sin(a),d=this.a,b=this.c,e=this.tx;this.a=d*c-this.b*a;this.b=d*a+this.b*c;this.c=b*c-this.d*a;this.d=
b*a+this.d*c;this.tx=e*c-this.ty*a;this.ty=e*a+this.ty*c;return this};b.prototype.scale=function(a,c){this.a*=a;this.d*=c;this.tx*=a;this.ty*=c;return this};b.prototype.translate=function(a,c){this.tx+=a;this.ty+=c;return this};b.prototype.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};b.prototype.invert=function(){var a=this.a,c=this.b,d=this.c,b=this.d,e=this.tx,h=a*b-c*d;this.a=b/h;this.b=-c/h;this.c=-d/h;this.d=a/h;this.tx=(d*this.ty-b*e)/h;this.ty=-(a*this.ty-
c*e)/h;return this};b.prototype.transformPoint=function(a,c,d){var b=a.x*this.a+a.y*this.c+this.tx,e=a.x*this.b+a.y*this.d+this.ty;c&&(b=b+0.5>>0,e=e+0.5>>0);if(d)return{x:b,y:e};a.x=b;a.y=e;return a};b.prototype.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};b.prototype.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}})();
(function(){var b=Quark.Rectangle=function(a,c,d,b){this.x=a;this.y=c;this.width=d;this.height=b};b.prototype.intersects=function(a){return this.x<=a.x+a.width&&a.x<=this.x+this.width&&this.y<=a.y+a.height&&a.y<=this.y+this.height};b.prototype.intersection=function(a){var c=Math.max(this.x,a.x),d=Math.min(this.x+this.width,a.x+a.width);if(c<=d){var g=Math.max(this.y,a.y),a=Math.min(this.y+this.height,a.y+a.height);if(g<=a)return new b(c,g,d-c,a-g)}return null};b.prototype.union=function(a,c){var d=
Math.max(this.x+this.width,a.x+a.width),g=Math.max(this.y+this.height,a.y+a.height),e=Math.min(this.x,a.x),h=Math.min(this.y,a.y),d=d-e,g=g-h;if(c)return new b(e,h,d,g);this.x=e;this.y=h;this.width=d;this.height=g};b.prototype.containsPoint=function(a,c){return this.x<=a&&a<=this.x+this.width&&this.y<=c&&c<=this.y+this.height};b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)};b.prototype.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+
this.height+")"}})();
(function(){Quark.KEY={MOUSE_LEFT:1,MOUSE_MID:2,MOUSE_RIGHT:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,
CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123}})();
(function(){var b=Quark.EventManager=function(){this.keyState={};this._evtHandlers={}};b.prototype.registerStage=function(a,c,d,b){this.register(a.context.canvas,c,{host:a,func:a._onEvent},d,b)};b.prototype.unregisterStage=function(a,c){this.unregister(a.context.canvas,c,a.onEvent)};b.prototype.register=function(a,c,d,b,e){if(null==d||"function"==typeof d)d={host:null,func:d};for(var h={prevent:b,stop:e},j=this,b=function(a){j._onEvent(a,h,d)},e=0;e<c.length;e++){for(var i=c[e],f=this._evtHandlers[i]||
(this._evtHandlers[i]=[]),k=0,m=!1;k<f.length;k++){var p=f[k];if(p.target==a&&p.callback.func==d.func){trace("duplicate callback");m=!0;break}}m||(f.push({target:a,callback:d,handler:b}),a.addEventListener(i,b,!1))}};b.prototype.unregister=function(a,c,d){for(var b=0;b<c.length;b++)for(var e=c[b],h=this._evtHandlers[e],j=0;j<h.length;j++){var i=h[j];if(i.target==a&&(i.callback.func==d||null==d)){a.removeEventListener(e,i.handler);h.splice(j,1);break}}};b.prototype._onEvent=function(a,c,d){var g=a,
e=a.type;if(0==a.type.indexOf("touch"))g=a.touches&&0<a.touches.length?a.touches[0]:a.changedTouches&&0<a.changedTouches.length?a.changedTouches[0]:a,g.type=e;if("keydown"==e||"keyup"==e||"keypress"==e)this.keyState[a.keyCode]=e;null!=d.func&&d.func.call(d.host,g);b.stop(a,!c.prevent,!c.stop)};b.stop=function(a,c,d){c||a.preventDefault();d||(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation())}})();
(function(){var b=Quark.EventDispatcher=function(){this._eventMap={}};b.prototype.addEventListener=function(a,c){var d=this._eventMap[a];null==d&&(d=this._eventMap[a]=[]);return-1==d.indexOf(c)?(d.push(c),!0):!1};b.prototype.removeEventListener=function(a,c){var d=this._eventMap[a];if(null==d)return!1;for(var b=0;b<d.length;b++)if(d[b]===c)return d.splice(b,1),0==d.length&&delete this._eventMap[a],!0;return!1};b.prototype.removeEventListenerByType=function(a){return null!=this._eventMap[a]?(delete this._eventMap[a],
!0):!1};b.prototype.removeAllEventListeners=function(){this._eventMap={}};b.prototype.dispatchEvent=function(a){var c=this._eventMap[a.type];if(null==c)return!1;if(!a.target)a.target=this;for(var c=c.slice(),d=0;d<c.length;d++){var b=c[d];"function"==typeof b&&b.call(this,a)}return!0};b.prototype.hasEventListener=function(a){a=this._eventMap[a];return null!=a&&0<a.length};b.prototype.on=b.prototype.addEventListener;b.prototype.un=b.prototype.removeEventListener;b.prototype.fire=b.prototype.dispatchEvent})();
(function(){var b=Quark.UIDUtil={_counter:0};b.createUID=function(a){var c=a.charCodeAt(a.length-1);48<=c&&57>=c&&(a+="_");return a+this._counter++};b.displayObjectToString=function(a){for(var c;null!=a;a=a.parent){var d=null!=a.id?a.id:a.name;c=null==c?d:d+"."+c;if(a==a.parent)break}return c}})();
(function(){function b(a,c){for(var d=0;d<a.children.length;d++){var j=a.children[d];if(j.children)b(j,c);else if(null!=c){j=j.getBounds();c.globalAlpha=0.2;c.beginPath();var i=j[0];c.moveTo(i.x-0.5,i.y-0.5);for(var f=1;f<j.length;f++){var k=j[f];c.lineTo(k.x-0.5,k.y-0.5)}c.lineTo(i.x-0.5,i.y-0.5);c.stroke();c.closePath();c.globalAlpha=0.5;c.beginPath();c.rect((j.x>>0)-0.5,(j.y>>0)-0.5,j.width>>0,j.height>>0);c.stroke();c.closePath()}else if(j.drawable.domDrawable)j.drawable.domDrawable.style.border=
"1px solid #f00"}}Quark.getUrlParams=function(){var a,c={},d=window.location.href,b=d.indexOf("?");if(0<b)for(var d=d.substring(b+1).split("&"),b=0,i;i=d[b];b++)a=d[b]=i.split("="),i=a,c[i[0]]=1<i.length?i[1]:!0;return c};var a=document.getElementsByTagName("head")[0],c=a.getElementsByTagName("meta"),d=0<c.length?c[c.length-1].nextSibling:a.childNodes[0];Quark.addMeta=function(c){var b=document.createElement("meta"),h;for(h in c)b.setAttribute(h,c[h]);a.insertBefore(b,d)};Quark.toggleDebugRect=function(a){a.debug=
!a.debug;a._render=a.debug?function(c){null!=c.clear&&c.clear(0,0,a.width,a.height);Quark.Stage.superClass._render.call(a,c);c=a.context.context;if(null!=c)c.save(),c.lineWidth=1,c.strokeStyle="#f00",c.globalAlpha=0.5;b(a,c);null!=c&&c.restore()}:function(c){null!=c.clear&&c.clear(0,0,a.width,a.height);Quark.Stage.superClass._render.call(a,c)}}})();
(function(){var b=Quark.Timer=function(a){this.interval=a||50;this.paused=!1;this.info={lastTime:0,currentTime:0,deltaTime:0,realDeltaTime:0};this._startTime=0;this._intervalID=null;this._listeners=[]};b.prototype.start=function(){if(null==this._intervalID){this._startTime=this.info.lastTime=this.info.currentTime=Date.now();var a=this,c=function(){a._intervalID=setTimeout(c,a.interval);a._run()};c()}};b.prototype.stop=function(){clearTimeout(this._intervalID);this._intervalID=null;this._startTime=
0};b.prototype.pause=function(){this.paused=!0};b.prototype.resume=function(){this.paused=!1};b.prototype._run=function(){if(!this.paused){var a=this.info,c=a.currentTime=Date.now();a.deltaTime=a.realDeltaTime=c-a.lastTime;for(var d=0,b=this._listeners.length,e,h;d<b;d++)e=this._listeners[d],h=e.__runTime||0,0==h?e.step(this.info):c>h&&(e.step(this.info),this._listeners.splice(d,1),d--,b--);a.lastTime=c}};b.prototype.delay=function(a,c){this.addListener({step:a,__runTime:Date.now()+c})};b.prototype.addListener=
function(a){if(null==a||"function"!=typeof a.step)throw"Timer Error: The listener object must implement a step() method!";this._listeners.push(a)};b.prototype.removeListener=function(a){a=this._listeners.indexOf(a);-1<a&&this._listeners.splice(a,1)}})();
(function(){var b=Quark.ImageLoader=function(a){b.superClass.constructor.call(this);this.loading=!1;this._index=-1;this._loaded=0;this._images={};this._totalSize=0;this._loadHandler=Quark.delegate(this._loadHandler,this);this._addSource(a)};Quark.inherit(b,Quark.EventDispatcher);b.prototype.load=function(a){this._addSource(a);this.loading||this._loadNext()};b.prototype._addSource=function(a){if(a){for(var a=a instanceof Array?a:[a],c=0;c<a.length;c++)this._totalSize+=a[c].size||0;this._source=this._source?
this._source.concat(a):a}};b.prototype._loadNext=function(){this._index++;if(this._index>=this._source.length)this.dispatchEvent({type:"complete",target:this,images:this._images}),this._source=[],this.loading=!1,this._index=-1;else{var a=new Image;a.onload=this._loadHandler;a.src=this._source[this._index].src;this.loading=!0}};b.prototype._loadHandler=function(a){this._loaded++;var c=this._source[this._index];c.image=a.target;this._images[c.id||c.src]=c;this.dispatchEvent({type:"loaded",target:this,
image:c});this._loadNext()};b.prototype.getLoaded=function(){return this._loaded};b.prototype.getTotal=function(){return this._source.length};b.prototype.getLoadedSize=function(){var a=0,c;for(c in this._images)a+=this._images[c].size||0;return a};b.prototype.getTotalSize=function(){return this._totalSize}})();
(function(){var b=Quark.Tween=function(c,d,b){this.target=c;this.delay=this.time=0;this.reverse=this.loop=this.paused=!1;this.interval=0;this.ease=a.Linear.EaseNone;this.onComplete=this.onUpdate=this.onStart=this.next=null;this._oldProps={};this._newProps={};this._deltaProps={};this._pausedStartTime=this._pausedTime=this._lastTime=this._startTime=0;this._reverseFlag=1;this._frameCount=this._frameTotal=0;for(var e in d){var h=c[e],j=d[e];void 0!==h&&"number"==typeof h&&"number"==typeof j&&(this._oldProps[e]=
h,this._newProps[e]=j,this._deltaProps[e]=j-h)}for(e in b)this[e]=b[e]};b.prototype.setProps=function(a,b){for(var g in a)this.target[g]=this._oldProps[g]=a[g];for(g in b)this._newProps[g]=b[g],this._deltaProps[g]=b[g]-this.target[g]};b.prototype._init=function(){this._startTime=Date.now()+this.delay;this._pausedTime=0;if(0<this.interval)this._frameTotal=Math.round(this.time/this.interval);b.add(this)};b.prototype.start=function(){this._init();this.paused=!1};b.prototype.stop=function(){b.remove(this)};
b.prototype.pause=function(){this.paused=!0;this._pausedStartTime=Date.now()};b.prototype.resume=function(){this.paused=!1;this._pausedTime+=Date.now()-this._pausedStartTime};b.prototype._update=function(){if(!this.paused){var a=Date.now(),d=a-this._startTime-this._pausedTime;if(!(0>d)){if(0==this._lastTime&&null!=this.onStart)this.onStart(this);this._lastTime=a;a=0<this._frameTotal?++this._frameCount/this._frameTotal:d/this.time;1<a&&(a=1);var d=this.ease(a),g;for(g in this._oldProps)this.target[g]=
this._oldProps[g]+this._deltaProps[g]*this._reverseFlag*d;if(null!=this.onUpdate)this.onUpdate(this,d);if(1<=a){if(this.reverse){if(g=this._oldProps,this._oldProps=this._newProps,this._newProps=g,this._startTime=Date.now(),this._frameCount=0,this._reverseFlag*=-1,!this.loop)this.reverse=!1}else if(this.loop){for(g in this._oldProps)this.target[g]=this._oldProps[g];this._startTime=Date.now();this._frameCount=0}else if(b.remove(this),g=this.next,null!=g&&(g instanceof b?(a=g,g=null):a=g.shift(),null!=
a))a.next=g,a.start();if(null!=this.onComplete)this.onComplete(this)}}}};b._tweens=[];b.step=function(){for(var a=this._tweens,b=a.length;0<=--b;)a[b]._update()};b.add=function(a){-1==this._tweens.indexOf(a)&&this._tweens.push(a);return this};b.remove=function(a){var b=this._tweens,a=b.indexOf(a);-1<a&&b.splice(a,1);return this};b.to=function(a,d,g){a=new b(a,d,g);a._init();return a};b.from=function(a,d,g){d=new b(a,d,g);g=d._oldProps;d._oldProps=d._newProps;d._newProps=g;d._reverseFlag=-1;for(var e in d._oldProps)a[e]=
d._oldProps[e];d._init();return d};var a=Quark.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};a.Linear.EaseNone=function(a){return a};a.Quadratic.EaseIn=function(a){return a*a};a.Quadratic.EaseOut=function(a){return-a*(a-2)};a.Quadratic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)};a.Cubic.EaseIn=function(a){return a*a*a};a.Cubic.EaseOut=function(a){return--a*a*a+1};a.Cubic.EaseInOut=function(a){return 1>
(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)};a.Quartic.EaseIn=function(a){return a*a*a*a};a.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};a.Quartic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};a.Quintic.EaseIn=function(a){return a*a*a*a*a};a.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};a.Quintic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};a.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};a.Sinusoidal.EaseOut=function(a){return Math.sin(a*
Math.PI/2)};a.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};a.Exponential.EaseIn=function(a){return 0==a?0:Math.pow(2,10*(a-1))};a.Exponential.EaseOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};a.Exponential.EaseInOut=function(a){return 0==a?0:1==a?1:1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};a.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};a.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};a.Circular.EaseInOut=function(a){return 1>
(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};a.Elastic.EaseIn=function(a){var b,g=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!g||1>g?(g=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e))};a.Elastic.EaseOut=function(a){var b,g=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!g||1>g?(g=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/g);return g*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/e)+1};a.Elastic.EaseInOut=function(a){var b,
g=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!g||1>g?(g=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/g);return 1>(a*=2)?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e):0.5*g*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e)+1};a.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};a.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};a.Back.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};a.Bounce.EaseIn=function(c){return 1-
a.Bounce.EaseOut(1-c)};a.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};a.Bounce.EaseInOut=function(c){return 0.5>c?0.5*a.Bounce.EaseIn(2*c):0.5*a.Bounce.EaseOut(2*c-1)+0.5}})();
(function(){var b=Quark.Audio=function(a,c,d,g){b.superClass.constructor.call(this);this.src=a;this.autoPlay=c&&d;this.loop=g;this._playing=this._loaded=!1;this._evtHandler=Quark.delegate(this._evtHandler,this);this._element=document.createElement("audio");this._element.preload=c;a=a.substr(0,a.lastIndexOf("."));d=document.createElement("source");this._element.canPlayType("audio/mpeg")?(d.type="audio/mpeg",d.src=a+".mp3"):(d.type="audio/ogg",d.src=a+".ogg");this._element.appendChild(d);c&&this.load()};
Quark.inherit(b,Quark.EventDispatcher);b.prototype.load=function(){this._element.addEventListener("progress",this._evtHandler,!1);this._element.addEventListener("ended",this._evtHandler,!1);this._element.addEventListener("error",this._evtHandler,!1);try{this._element.load()}catch(a){trace(a)}this.progressCheck=setTimeout(function(){c._element.removeEventListener("progress",c._evtHandler);c._element.removeEventListener("error",c._evtHandler);c._loaded=!0;c.dispatchEvent({type:"loaded",target:c});c.autoPlay&&
c.play();clearTimeout(c.progressCheck);c=c.progressCheck=null},1E3);var c=this};b.prototype._evtHandler=function(a){clearTimeout(this.progressCheck);if("progress"==a.type){var c=0,b=0,g=a.target.buffered;if(g&&0<g.length)for(c=g.length-1;0<=c;c--)b=g.end(c)-g.start(c);if(1<=b/a.target.duration||isNaN(a.target.duration))this._element.removeEventListener("progress",this._evtHandler),this._element.removeEventListener("error",this._evtHandler),this._loaded=!0,this.dispatchEvent({type:"loaded",target:this}),
this.autoPlay&&this.play()}else"ended"==a.type?(this.dispatchEvent({type:"ended",target:this}),this.loop?this.play():this._playing=!1):"error"==a.type&&trace("Quark.Audio Error: "+a.target.src)};b.prototype.play=function(){this._loaded?(this._element.play(),this._playing=!0):(this.autoPlay=!0,this.load())};b.prototype.stop=function(){if(this._playing)this._element.pause(),this._playing=!1};b.prototype.loaded=function(){return this._loaded};b.prototype.playing=function(){return this._playing}})();
(function(){var b=Quark.Drawable=function(a,c){this.domDrawable=this.rawDrawable=null;this.set(a,c)};b.prototype.get=function(a,c){if(null==c||null!=c.canvas.getContext)return this.rawDrawable;if(null==this.domDrawable)this.domDrawable=Quark.createDOMDrawable(a,{image:this.rawDrawable});return this.domDrawable};b.prototype.set=function(a,c){if(null==a?0:a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement)this.rawDrawable=a;if(!0===c)this.domDrawable=a;else if(this.domDrawable)this.domDrawable.style.backgroundImage=
"url("+this.rawDrawable.src+")"}})();
(function(){var b=Quark.DisplayObject=function(a){this.id=Quark.UIDUtil.createUID("DisplayObject");this.name=null;this.height=this.width=this.regY=this.regX=this.y=this.x=0;this.scaleY=this.scaleX=this.alpha=1;this.rotation=0;this.transformEnabled=this.eventEnabled=this.visible=!0;this.useHandCursor=!1;this.context=this.parent=this.drawable=this.polyArea=null;this._depth=0;this._lastState={};this._stateList="x,y,regX,regY,width,height,alpha,scaleX,scaleY,rotation,visible,_depth".split(",");Quark.merge(this,
a,!0);a.mixin&&Quark.merge(this,a.mixin,!1)};b.prototype.setDrawable=function(a){null==this.drawable?this.drawable=new Quark.Drawable(a):this.drawable.rawDrawable!=a&&this.drawable.set(a)};b.prototype.getDrawable=function(a){return this.drawable&&this.drawable.get(this,a)};b.prototype._update=function(a){this.update(a)};b.prototype.update=function(){};b.prototype._render=function(a){a=this.context||a;!this.visible||0>=this.alpha?(null!=a.hide&&a.hide(this),this.saveState(["visible","alpha"])):(a.startDraw(),
a.transform(this),this.render(a),a.endDraw(),this.saveState())};b.prototype.render=function(a){a.draw(this,0,0,this.width,this.height,0,0,this.width,this.height)};b.prototype._onEvent=function(a){if(null!=this.onEvent)this.onEvent(a)};b.prototype.onEvent=null;b.prototype.saveState=function(a){for(var a=a||this._stateList,c=this._lastState,b=0,g=a.length;b<g;b++){var e=a[b];c["last"+e]=this[e]}};b.prototype.getState=function(a){return this._lastState["last"+a]};b.prototype.propChanged=function(){for(var a=
0<arguments.length?arguments:this._stateList,c=0,b=a.length;c<b;c++){var g=a[c];if(this._lastState["last"+g]!=this[g])return!0}return!1};b.prototype.hitTestPoint=function(a,c,b){return Quark.hitTestPoint(this,a,c,b)};b.prototype.hitTestObject=function(a,c){return Quark.hitTestObject(this,a,c)};b.prototype.localToGlobal=function(a,c){var b=this.getConcatenatedMatrix();return{x:b.tx+a,y:b.ty+c}};b.prototype.globalToLocal=function(a,c){var b=this.getConcatenatedMatrix().invert();return{x:b.tx+a,y:b.ty+
c}};b.prototype.localToTarget=function(a,c,b){a=this.localToGlobal(a,c);return b.globalToLocal(a.x,a.y)};b.prototype.getConcatenatedMatrix=function(a){var c=new Quark.Matrix(1,0,0,1,0,0);if(a==this)return c;for(var b=this;null!=b.parent&&b.parent!=a;b=b.parent){var g=1,e=0;0!=b.rotation%360&&(e=b.rotation*Quark.DEG_TO_RAD,g=Math.cos(e),e=Math.sin(e));0!=b.regX&&(c.tx-=b.regX);0!=b.regY&&(c.ty-=b.regY);c.concat(new Quark.Matrix(g*b.scaleX,e*b.scaleX,-e*b.scaleY,g*b.scaleY,b.x,b.y))}return c};b.prototype.getBounds=
function(){var a=this.width,c=this.height,b=this.getConcatenatedMatrix(),a=this.polyArea||[{x:0,y:0},{x:a,y:0},{x:a,y:c},{x:0,y:c}],c=[],g=a.length,e,h,j,i,f;e=b.transformPoint(a[0],!0,!0);h=j=e.x;i=f=e.y;c[0]=e;for(var k=1;k<g;k++){e=b.transformPoint(a[k],!0,!0);if(h>e.x)h=e.x;else if(j<e.x)j=e.x;if(i>e.y)i=e.y;else if(f<e.y)f=e.y;c[k]=e}c.x=h;c.y=i;c.width=j-h;c.height=f-i;return c};b.prototype.getCurrentWidth=function(){return Math.abs(this.width*this.scaleX)};b.prototype.getCurrentHeight=function(){return Math.abs(this.height*
this.scaleY)};b.prototype.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof Quark.Stage?a:null};b.prototype.toString=function(){return Quark.UIDUtil.displayObjectToString(this)}})();
(function(){var b=Quark.DisplayObjectContainer=function(a){this.eventChildren=!0;this.autoSize=!1;this.children=[];a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("DisplayObjectContainer");this.setDrawable(a.drawable||a.image||null);if(a.children)for(var c=0;c<a.children.length;c++)this.addChild(a.children[c])};Quark.inherit(b,Quark.DisplayObject);b.prototype.addChildAt=function(a,c){if(0>c)c=0;else if(c>this.children.length)c=this.children.length;var b=this.getChildIndex(a);
if(-1!=b){if(b==c)return this;this.children.splice(b,1)}else a.parent&&a.parent.removeChild(a);this.children.splice(c,0,a);a.parent=this;if(this.autoSize){var b=new Quark.Rectangle(0,0,this.rectWidth||this.width,this.rectHeight||this.height),g=new Quark.Rectangle(a.x,a.y,a.rectWidth||a.width,a.rectHeight||a.height);b.union(g);this.width=b.width;this.height=b.height}return this};b.prototype.addChild=function(a){for(var c=this.children.length,b=0;b<arguments.length;b++)a=arguments[b],this.addChildAt(a,
c+b);return this};b.prototype.removeChildAt=function(a){if(0>a||a>=this.children.length)return!1;var c=this.children[a];if(null!=c)this.getStage().context.remove(c),c.parent=null;this.children.splice(a,1);return!0};b.prototype.removeChild=function(a){return this.removeChildAt(this.children.indexOf(a))};b.prototype.removeAllChildren=function(){for(;0<this.children.length;)this.removeChildAt(0)};b.prototype.getChildAt=function(a){return 0>a||a>=this.children.length?null:this.children[a]};b.prototype.getChildIndex=
function(a){return this.children.indexOf(a)};b.prototype.setChildIndex=function(a,c){if(a.parent==this){var b=this.children.indexOf(a);c!=b&&(this.children.splice(b,1),this.children.splice(c,0,a))}};b.prototype.swapChildren=function(a,c){var b=this.getChildIndex(a),g=this.getChildIndex(c);this.children[b]=c;this.children[g]=a};b.prototype.swapChildrenAt=function(a,c){var b=this.getChildAt(a),g=this.getChildAt(c);this.children[a]=g;this.children[c]=b};b.prototype.getChildById=function(a){for(var c=
0,b=this.children.length;c<b;c++){var g=this.children[c];if(g.id==a)return g}return null};b.prototype.removeChildById=function(a){for(var c=0,b=this.children.length;c<b;c++)if(this.children[c].id==a)return this.removeChildAt(c);return null};b.prototype.sortChildren=function(a){var c=a;"string"==typeof c&&(c=function(a,b){return b[c]-a[c]});this.children.sort(c)};b.prototype.contains=function(a){return-1!=this.getChildIndex(a)};b.prototype.getNumChildren=function(){return this.children.length};b.prototype._update=
function(a){null!=this.update&&this.update(a);for(var c=this.children.slice(0),b=0,g=c.length;b<g;b++){var e=c[b];e._depth=b+1;e._update(a)}};b.prototype.render=function(a){b.superClass.render.call(this,a);for(var c=0,d=this.children.length;c<d;c++)this.children[c]._render(a)};b.prototype.getObjectUnderPoint=function(a,c,b,g){if(g)var e=[];for(var h=this.children.length-1;0<=h;h--){var j=this.children[h];if(!(null==j||!j.eventEnabled&&void 0==j.children||!j.visible||0>=j.alpha))if(void 0!=j.children&&
j.eventChildren&&0<j.getNumChildren()){var i=j.getObjectUnderPoint(a,c,b,g);if(i)if(g)0<i.length&&(e=e.concat(i));else return i;else if(0<=j.hitTestPoint(a,c,b))if(g)e.push(j);else return j}else if(0<=j.hitTestPoint(a,c,b))if(g)e.push(j);else return j}return g?e:null}})();
(function(){var b=Quark.Stage=function(a){this.stageY=this.stageX=0;this.paused=!1;this._eventTarget=null;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Stage");if(null==this.context)throw"Quark.Stage Error: context is required.";this.updatePosition()};Quark.inherit(b,Quark.DisplayObjectContainer);b.prototype.step=function(a){this.paused||(this._update(a),this._render(this.context))};b.prototype._update=function(a){for(var c=this.children.slice(0),b=0,g=c.length;b<
g;b++){var e=c[b];e._depth=b+1;e._update(a)}null!=this.update&&this.update(a)};b.prototype._render=function(a){null!=a.clear&&a.clear(0,0,this.width,this.height);b.superClass._render.call(this,a)};b.prototype._onEvent=function(a){var b=a.pageX||a.clientX,d=a.pageY||a.clientY,b=(b-this.stageX)/this.scaleX,d=(d-this.stageY)/this.scaleY,g=this.getObjectUnderPoint(b,d,!0),e=this._eventTarget;a.eventX=b;a.eventY=d;if(null!=e&&e!=g)a.lastEventTarget=e,(b="mousemove"==a.type?"mouseout":"touchmove"==a.type?
"touchout":null)&&e._onEvent({type:b}),this._eventTarget=null;if(null!=g&&g.eventEnabled)a.eventTarget=e=this._eventTarget=g,g._onEvent(a);if(!Quark.supportTouch)this.context.canvas.style.cursor=e&&e.useHandCursor&&e.eventEnabled?"pointer":"";if(null!=this.onEvent)this.onEvent(a)};b.prototype.updatePosition=function(){var a=Quark.getElementOffset(this.context.canvas);this.stageX=a.left;this.stageY=a.top}})();
(function(){var b=Quark.Bitmap=function(a){this.image=null;this.rectHeight=this.rectWidth=this.rectY=this.rectX=0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Bitmap");this.setRect(a.rect||[0,0,this.image.width,this.image.height]);this.setDrawable(this.image);this._stateList.push("rectX","rectY","rectWidth","rectHeight")};Quark.inherit(b,Quark.DisplayObject);b.prototype.setRect=function(a){this.rectX=a[0];this.rectY=a[1];this.rectWidth=this.width=a[2];this.rectHeight=
this.height=a[3]};b.prototype.render=function(a){a.draw(this,this.rectX,this.rectY,this.rectWidth,this.rectHeight,0,0,this.width,this.height)}})();
(function(){var b=Quark.MovieClip=function(a){this.interval=0;this.useFrames=this.paused=!1;this.currentFrame=0;this._frames=[];this._frameLabels={};this._frameDisObj=null;this._displayedCount=0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("MovieClip");a.frames&&this.addFrame(a.frames)};Quark.inherit(b,Quark.Bitmap);b.prototype.addFrame=function(a){var b=this._frames.length;if(a instanceof Array)for(var d=0;d<a.length;d++)this.setFrame(a[d],b+d);else this.setFrame(a,
b);return this};b.prototype.setFrame=function(a,b){void 0==b||b>this._frames.length?b=this._frames.length:0>b&&(b=0);this._frames[b]=a;a.label&&(this._frameLabels[a.label]=a);if(void 0==a.interval)a.interval=this.interval;0==b&&0==this.currentFrame&&this.setRect(a.rect)};b.prototype.getFrame=function(a){return"number"==typeof a?this._frames[a]:this._frameLabels[a]};b.prototype.play=function(){this.paused=!1};b.prototype.stop=function(){this.paused=!0};b.prototype.gotoAndStop=function(a){this.currentFrame=
this.getFrameIndex(a);this.paused=!0};b.prototype.gotoAndPlay=function(a){this.currentFrame=this.getFrameIndex(a);this.paused=!1};b.prototype.getFrameIndex=function(a){if("number"==typeof a)return a;for(var a=this._frameLabels[a],b=this._frames,d=0;d<b.length;d++)if(a==b[d])return d;return-1};b.prototype.nextFrame=function(a){var b=this._frames[this.currentFrame];if(0<b.interval)a=this._displayedCount+a,this._displayedCount=b.interval>a?a:0;if(0<=b.jump||"string"==typeof b.jump)if(0==this._displayedCount||
!b.interval)return this.currentFrame=this.getFrameIndex(b.jump);return 0<b.interval&&0<this._displayedCount?this.currentFrame:this.currentFrame>=this._frames.length-1?this.currentFrame=0:++this.currentFrame};b.prototype._update=function(a){var c=this._frames[this.currentFrame];c.stop?this.stop():(this.paused||this.nextFrame(this.useFrames?1:a&&a.deltaTime),this.setRect(c.rect),b.superClass._update.call(this,a))};b.prototype.render=function(a){var b=this._frames[this.currentFrame].rect;a.draw(this,
b[0],b[1],b[2],b[3],0,0,this.width,this.height)}})();
(function(){var b=Quark.Button=function(a){this.state=b.UP;this.enabled=!0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Button");this._skin=new Quark.MovieClip({id:"skin",image:a.image});this.addChild(this._skin);this._skin.stop();this.eventChildren=!1;if(void 0===a.useHandCursor)this.useHandCursor=!0;a.up&&this.setUpState(a.up);a.over&&this.setOverState(a.over);a.down&&this.setDownState(a.down);a.disabled&&this.setDisabledState(a.disabled)};Quark.inherit(b,
Quark.DisplayObjectContainer);b.UP="up";b.OVER="over";b.DOWN="down";b.DISABLED="disabled";b.prototype.setUpState=function(a){a.label=b.UP;this._skin.setFrame(a,0);this.upState=a;return this};b.prototype.setOverState=function(a){a.label=b.OVER;this._skin.setFrame(a,1);this.overState=a;return this};b.prototype.setDownState=function(a){a.label=b.DOWN;this._skin.setFrame(a,2);this.downState=a;return this};b.prototype.setDisabledState=function(a){a.label=b.DISABLED;this._skin.setFrame(a,3);this.disabledState=
a;return this};b.prototype.setEnabled=function(a){if(this.enabled==a)return this;(this.eventEnabled=this.enabled=a)?3==this.currentFrame&&this._skin.gotoAndStop(b.UP):this.disabledState?this._skin.gotoAndStop(b.DISABLED):this._skin.gotoAndStop(b.state.UP);return this};b.prototype.changeState=function(a){if(this.state!=a){this.state=a;switch(a){case b.OVER:case b.DOWN:case b.UP:if(!this.enabled)this.eventEnabled=this.enabled=!0;this._skin.gotoAndStop(a);break;case b.DISABLED:this.setEnabled(!1)}return this}};
b.prototype._onEvent=function(a){if(this.enabled){switch(a.type){case "mousemove":this.overState&&this.changeState(b.OVER);break;case "mousedown":case "touchstart":case "touchmove":this.downState&&this.changeState(b.DOWN);break;case "mouseup":this.overState?this.changeState(b.OVER):this.changeState(b.UP);break;case "mouseout":case "touchout":case "touchend":this.upState&&this.changeState(b.UP)}b.superClass._onEvent.call(this,a)}};b.prototype.setDrawable=function(){b.superClass.setDrawable.call(this,
null)}})();
(function(){var b=Quark.Graphics=function(a){a=a||{};b.superClass.constructor.call(this,a);this.id=Quark.UIDUtil.createUID("Graphics");this.lineWidth=1;this.strokeStyle="0";this.lineAlpha=1;this.lineJoin=this.lineCap=null;this.miterLimit=10;this.fillStyle="0";this.fillAlpha=1;this._actions=[];this._cache=null};Quark.inherit(b,Quark.DisplayObject);b.prototype.lineStyle=function(a,b,d,g,e,h){this._addAction(["lineWidth",this.lineWidth=a||1]);this._addAction(["strokeStyle",this.strokeStyle=b||"0"]);
this._addAction(["lineAlpha",this.lineAlpha=d||1]);if(void 0!=g)this._addAction(["lineCap",this.lineCap=g]);if(void 0!=e)this._addAction(["lineJoin",this.lineJoin=e]);if(void 0!=h)this._addAction(["miterLimit",this.miterLimit=h]);return this};b.prototype.beginFill=function(a,b){this._addAction(["fillStyle",this.fillStyle=a]);this._addAction(["fillAlpha",this.fillAlpha=b||1]);return this};b.prototype.endFill=function(){this._addAction(["stroke"]);this._addAction(["fill"]);return this};b.prototype.beginLinearGradientFill=
function(a,c,d,g,e,h){a=b._getContext().createLinearGradient(a,c,d,g);c=0;for(d=e.length;c<d;c++)a.addColorStop(h[c],e[c]);return this._addAction(["fillStyle",this.fillStyle=a])};b.prototype.beginRadialGradientFill=function(a,c,d,g,e,h,j,i){a=b._getContext().createRadialGradient(a,c,d,g,e,h);c=0;for(d=j.length;c<d;c++)a.addColorStop(i[c],j[c]);return this._addAction(["fillStyle",this.fillStyle=a])};b.prototype.beginBitmapFill=function(a,c){return this._addAction(["fillStyle",this.fillStyle=b._getContext().createPattern(a,
c||"")])};b.prototype.beginPath=function(){return this._addAction(["beginPath"])};b.prototype.closePath=function(){return this._addAction(["closePath"])};b.prototype.drawRect=function(a,b,d,g){return this._addAction(["rect",a,b,d,g])};b.prototype.drawRoundRectComplex=function(a,b,d,g,e,h,j,i){this._addAction(["moveTo",a+e,b]);this._addAction(["lineTo",a+d-h,b]);this._addAction(["arc",a+d-h,b+h,h,-Math.PI/2,0,!1]);this._addAction(["lineTo",a+d,b+g-j]);this._addAction(["arc",a+d-j,b+g-j,j,0,Math.PI/
2,!1]);this._addAction(["lineTo",a+i,b+g]);this._addAction(["arc",a+i,b+g-i,i,Math.PI/2,Math.PI,!1]);this._addAction(["lineTo",a,b+e]);this._addAction(["arc",a+e,b+e,e,Math.PI,3*Math.PI/2,!1]);return this};b.prototype.drawRoundRect=function(a,b,d,g,e){return this.drawRoundRectComplex(a,b,d,g,e,e,e,e)};b.prototype.drawCircle=function(a,b,d){return this._addAction(["arc",a+d,b+d,d,0,2*Math.PI,0])};b.prototype.drawEllipse=function(a,b,d,g){if(d==g)return this.drawCircle(a,b,d);var d=d/2,g=g/2,e=0.5522847498307933*
d,h=0.5522847498307933*g,a=a+d,b=b+g;this._addAction(["moveTo",a+d,b]);this._addAction(["bezierCurveTo",a+d,b-h,a+e,b-g,a,b-g]);this._addAction(["bezierCurveTo",a-e,b-g,a-d,b-h,a-d,b]);this._addAction(["bezierCurveTo",a-d,b+h,a-e,b+g,a,b+g]);this._addAction(["bezierCurveTo",a+e,b+g,a+d,b+h,a+d,b]);return this};b.prototype.render=function(a){var c=a.context;null==c?b.superClass.render.call(this,a):null!=this._cache?c.drawImage(this._cache,0,0):this._draw(c)};b.prototype._draw=function(a){for(var b=
0,d=this._actions.length;b<d;b++){var g=this._actions[b],e=g[0],h=1<g.length?g.slice(1):null;"function"==typeof a[e]?a[e].apply(a,h):a[e]=g[1]}};b.prototype.getDrawable=function(a){null==this.drawable&&this.setDrawable(this.toImage());return this.drawable.get(this,a)};b.prototype.cache=function(a){var b=Quark.createDOM("canvas",{width:this.width,height:this.height});this._draw(b.getContext("2d"));this._cache=b;if(a)this._cache=this.toImage();return this._cache};b.prototype.uncache=function(){this._cache=
null};b.prototype.toImage=function(a){var b=this._cache||this.cache(!0);if(b instanceof HTMLImageElement)return b;var d=new Image;d.src=b.toDataURL(a||"image/png");d.width=this.width;d.height=this.height;return d};b.prototype.clear=function(){this._cache=this._actions.length=0;this.lineWidth=1;this.strokeStyle="0";this.lineAlpha=1;this.lineJoin=this.lineCap=null;this.miterLimit=10;this.fillStyle="0";this.fillAlpha=1};b.prototype._addAction=function(a){this._actions.push(a);return this};b._getContext=
function(){var a=Quark.createDOM("canvas").getContext("2d");this._getContext=function(){return a};return a}})();(function(){var b=Quark.Context=function(a){if(null==a.canvas)throw"Quark.Context Error: canvas is required.";this.canvas=null;Quark.merge(this,a)};b.prototype.startDraw=function(){};b.prototype.draw=function(){};b.prototype.endDraw=function(){};b.prototype.transform=function(){};b.prototype.remove=function(){}})();
(function(){var b=Quark.CanvasContext=function(a){b.superClass.constructor.call(this,a);this.context=this.canvas.getContext("2d")};Quark.inherit(b,Quark.Context);b.prototype.startDraw=function(){this.context.save()};b.prototype.draw=function(a){var b=a.getDrawable(this);null!=b&&(arguments[0]=b,this.context.drawImage.apply(this.context,arguments))};b.prototype.endDraw=function(){this.context.restore()};b.prototype.transform=function(a){var b=this.context;if(a instanceof Q.Stage){if(a._scaleX!=a.scaleX)a._scaleX=
a.scaleX,this.canvas.style.width=a._scaleX*a.width+"px";if(a._scaleY!=a.scaleY)a._scaleY=a.scaleY,this.canvas.style.height=a._scaleY*a.height+"px"}else(0!=a.x||0!=a.y)&&b.translate(a.x,a.y),0!=a.rotation%360&&b.rotate(a.rotation%360*Quark.DEG_TO_RAD),(1!=a.scaleX||1!=a.scaleY)&&b.scale(a.scaleX,a.scaleY),(0!=a.regX||0!=a.regY)&&b.translate(-a.regX,-a.regY);0<a.alpha&&(b.globalAlpha*=a.alpha)};b.prototype.clear=function(a,b,d,g){this.context.clearRect(a,b,d,g)}})();
(function(){function b(a,b){return b?""+("translate3d("+(a.x-a.regX)+"px, "+(a.y-a.regY)+"px, 0px)rotate3d(0, 0, 1, "+a.rotation+"deg)scale3d("+a.scaleX+", "+a.scaleY+", 1)"):""+("translate("+(a.x-a.regX)+"px, "+(a.y-a.regY)+"px)rotate("+a.rotation+"deg)scale("+a.scaleX+", "+a.scaleY+")")}var a=document.createElement("div"),c=void 0!=a.style[Quark.cssPrefix+"Transform"],d=void 0!=a.style[Quark.cssPrefix+"Perspective"],g=document.documentElement;if(d&&"webkitPerspective"in g.style){a.id="test3d";var e=
document.createElement("style");e.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}";document.head.appendChild(e);g.appendChild(a);d=3===a.offsetHeight;e.parentNode.removeChild(e);a.parentNode.removeChild(a)}Quark.supportTransform=c;Quark.supportTransform3D=d;if(c){var h=Quark.DOMContext=function(a){h.superClass.constructor.call(this,a)};Quark.inherit(h,Quark.Context);h.prototype.draw=function(a){if(!a._addedToDOM){var b=a.parent,c=a.getDrawable(this);null==b&&null==c.parentNode?this.canvas.appendChild(c):
(b=b.getDrawable(this),c.parentNode!=b&&b.appendChild(c));a._addedToDOM=!0}};h.prototype.transform=function(a){var c=a.getDrawable(this);if(a.transformEnabled||!a._addedToDOM){var d=Quark.cssPrefix,e=d+"TransformOrigin",d=d+"Transform",c=c.style;if(!c.display||a.propChanged("visible","alpha"))c.display=!a.visible||0>=a.alpha?"none":"";if(!c.opacity||a.propChanged("alpha"))c.opacity=a.alpha;if(!c.backgroundPosition||a.propChanged("rectX","rectY"))c.backgroundPosition=-a.rectX+"px "+-a.rectY+"px";if(!c.width||
a.propChanged("width","height"))c.width=a.width+"px",c.height=a.height+"px";if(!c[e]||a.propChanged("regX","regY"))c[e]=a.regX+"px "+a.regY+"px";if(!c[d]||a.propChanged("x","y","regX","regY","scaleX","scaleY","rotation"))e=Quark.supportTransform3D?b(a,!0):b(a,!1),c[d]=e;if(!c.zIndex||a.propChanged("_depth"))c.zIndex=a._depth}};h.prototype.hide=function(a){a.getDrawable(this).style.display="none"};h.prototype.remove=function(a){var b=a.getDrawable(this),c=b.parentNode;null!=c&&c.removeChild(b);a._addedToDOM=
!1}}else trace("Warn: DOMContext requires css transfrom support.")})();(function(b){b.anvsoftJavaScriptSlideshow=b.aJSs=b.aJSs||{version:"1.0.0",global:b}})(window);(function(){aJSs.Events={TRANSITION_OVER:"transitionOver",PLAY_CURRENT:"playCurrent",SOUND_PLAY_COMPLETE:"soundPlayComplete",PHOTO_MOUSE_OVER:"photoMouseOver",PHOTO_MOUSE_OUT:"photoMouseOut",PHOTO_LOAD_COMPLETE:"photoLoadComplete",PLAY_VIDEO:"playVideo",VIDEO_PLAY_ENDED:"videoPlayEnded",VIDEO_CLEAR:"videoClear",VIDEO_START_PLAY:"videoStartPlay",PLAY_NEXT:"playNext"}})();(function(){aJSs.CommandDispatcher=function(){function b(){this.handlers={}}b.prototype={constructor:b,addEventListener:function(a,b){if(void 0!=a)"undefined"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b);else throw Error("undefined property events.");},dispatchEvent:function(a){if(!a.target)a.target=this;if(this.handlers[a.type]instanceof Array)for(var b=this.handlers[a.type],g=0,e=b.length;g<e;g++)b[g](a)},removeEventListener:function(a,b){if(this.handlers[a]instanceof
Array){for(var g=this.handlers[a],e=0,h=g.length;e<h&&!(g[e]===b);e++);g.splice(e,1)}}};var a=new b;return{getInstance:function(){return a}}}()})();(function(){aJSs.getParameters={parameters:function(){var b=document.getElementsByTagName("script");try{for(var a=b[b.length-1].src.split("?")[1].split("&"),b={},c,d,g,e=0,h=a.length;e<h;e++)c=a[e].split("="),d=c[0],g=c[1],"undefined"==typeof b[d]?b[d]=g:("string"==typeof b[d]&&(b[d]=[b[d]]),b[d].push(g));return b}catch(j){return[]}}}})();(function(){aJSs.Music=function(b,a,c,d){var g="true"==d?!0:!1;this.soundAudio=new Quark.Audio(b,"true"==a?!0:!1,"true"==c?!0:!1,g);this.soundAudio.addEventListener("ended",function(){g||aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.SOUND_PLAY_COMPLETE})},!1);this.Playing=function(){return this.soundAudio.playing()};this.Play=function(){this.soundAudio.play()};this.Pause=function(){this.soundAudio.stop()}}})();(function(){aJSs.Video=function(b,a,c,d,g,e){var a="true"==a?!0:!1,d="true"==d?!0:!1,b=b.substr(0,b.lastIndexOf(".")),h=document.createElement("video");h.width=g;h.height=e;try{h.buffered=c}catch(j){}h.autoplay=a;h.controls=d;h.loop=!1;h.preload="none";c=document.createElement("source");h.appendChild(c);if(h.canPlayType)""!=h.canPlayType("video/mp4")?(c.type="video/mp4",c.src=b+".mp4"):""!=h.canPlayType("video/ogg")?(c.type="video/ogg",c.src=b+".ogg"):""!=h.canPlayType("video/webm")?(c.type="video/webm",
c.src=b+".webm"):alert("Your browser does not support the video tag.");a?h.play():h.pause();h.addEventListener("ended",function(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_PLAY_ENDED})},!1);h.addEventListener("playing",function(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_START_PLAY})},!1);return h}})();(function(){aJSs.MaskEffect=function(b){this.transTotal=68;this.maskerFull=0;var a=this,c,d;this.transition=function(a,b,c,d,i){this.maskerFull=0;if(a<=this.transTotal)this["mask"+a](b,c,d,i);else this.transition(68,b,c,d,i)};this.mask1=function(g,e,h,j){function i(){p=e*l*d;n=h*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.setRect([0,0,e,h]),clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=0,p=0,n=
0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask2=function(g,e,h,j){function i(){p=e*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask3=function(g,e,h,j){function i(){n=h*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
f.setRect([0,0,e,h]),clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=0,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask4=function(g,e,h,j){function i(){k=e*(1-l*d);p=e*l*d;f.x=e*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=e,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask5=function(g,e,h,j){function i(){m=
h*(1-l*d);n=h*l*d;f.y=h*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.y=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=h,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask6=function(g,e,h,j){function i(){n=e*t*d;f.setRect([m,p,n,o]);l=e*(1-t*d);r=e*t*d;k.x=e*(1-t*d);k.setRect([l,q,r,u]);t++;if(t>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
f.setRect([0,0,e,h]),g.removeChild(k),clearInterval(s),s=null}var f=g.getChildAt(0),k=new Quark.Bitmap({id:"targetBitmap2",image:f.image,rect:[0,0,0,0]});g.addChild(k);var m=0,p=0,n=0,o=h,l=e,q=0,r=0,u=h;c=j*b;d=1/(2*c);var s=setInterval(i,1E3/b),t=1;i()};this.mask7=function(g,e,h,j){function i(){o=h*t*d;f.setRect([m,p,n,o]);q=h*(1-t*d);u=h*t*d;k.y=h*(1-t*d);k.setRect([l,q,r,u]);t++;if(t>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,
e,h]),g.removeChild(k),clearInterval(s),s=null}var f=g.getChildAt(0),k=new Quark.Bitmap({id:"targetBitmap2",image:f.image,rect:[0,0,0,0]});g.addChild(k);var m=0,p=0,n=e,o=0,l=0,q=h,r=e,u=0;c=j*b;d=1/(2*c);var s=setInterval(i,1E3/b),t=1;i()};this.mask8=function(g,e,h,j){function i(){k=e/2*(1-l*d);p=e*l*d;f.x=e/2*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,clearInterval(o),o=null}var f=
g.getChildAt(0),k=e/2,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask9=function(g,e,h,j){function i(){m=h/2*(1-l*d);n=h*l*d;f.y=h/2*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.y=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=h/2,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask10=function(g,e,h,j){function i(){for(var b=0;b<m;b++){var j=b*p,i=
p*q*d,k=h;g.getChildById("maskBitmap"+b).setRect([j,0,i,k])}q++;if(q>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"});for(f.setRect([0,0,e,h]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(l);l=null}}for(var f=g.getChildAt(0),k=f.image,m=16,p=e/m,n=0;n<m;n++){var o=new Quark.Bitmap({id:"maskBitmap"+n,image:k,rect:[0,0,0,0]});o.x=n*p;g.addChild(o)}c=j*b;d=1/c;var l=setInterval(i,1E3/b),q=1;i()};this.mask11=function(g,e,h,j){function i(){for(var b=
0;b<m;b++){var j=b*p,i=e,k=p*q*d;g.getChildById("maskBitmap"+b).setRect([0,j,i,k])}q++;if(q>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"});for(f.setRect([0,0,e,h]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(l);l=null}}for(var f=g.getChildAt(0),k=f.image,m=16,p=h/m,n=0;n<m;n++){var o=new Quark.Bitmap({id:"maskBitmap"+n,image:k,rect:[0,0,0,0]});o.y=n*p;g.addChild(o)}c=j*b;d=1/c;var l=setInterval(i,1E3/b),q=1;i()};this.mask12=
function(g,e,h,j){function i(){for(n=0;n<C;n++)D=l.length,0<D?(y=Math.floor(Math.random()*D),l[y].visible=!0,l.splice(y,1)):n=C;A++;if(A>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(f.setRect([0,0,e,h]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(t);t=null}}for(var f=g.getChildAt(0),k=f.image,m=Math.ceil(e/20),p=Math.ceil(h/20),n=0,o=0,l=[],n=0;20>n;n++)for(o=0;20>o;o++){var q=m*n,r=p*o,u=m,s=p;if(q<e&&
r<h)q>e-m&&(u=e-q),r>h-p&&(s=h-r),u=new Quark.Bitmap({id:"maskBitmap"+n+o,image:k,rect:[q,r,u,s]}),u.x=q,u.y=r,u.visible=!1,g.addChild(u),l.push(u)}c=j*b;d=1/c;var t=setInterval(i,1E3/b),A=1,D=l.length,y,C=Math.round(D/c);1>C&&(C=1);i()};this.mask13=function(g,e,h,j){function i(){k=e/2*(1-l*d);m=h/2*(1-l*d);p=e*l*d;n=h*l*d;f.x=e/2*(1-l*d);f.y=h/2*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),
f.x=0,f.y=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=e/2,m=h/2,p=0,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask14=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask15=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask16=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask17=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask18=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask19=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask20=function(a,
b,c,d){this.transition(68,a,b,c,d)};this.mask21=function(g,e,h,j){function i(){k=e*(1-l*d);m=h*(1-l*d);p=e*l*d;n=h*l*d;f.x=e*(1-l*d);f.y=h*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,f.y=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=e,m=h,p=0,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask22=function(g,e,h,j){function i(){k=e*(1-l*d);m=0;p=e*l*d;n=h*l*d;f.x=e*(1-l*
d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=e,m=0,p=0,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask23=function(g,e,h,j){function i(){k=0;m=h*(1-l*d);p=e*l*d;n=h*l*d;f.y=h*(1-l*d);f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.y=
0,clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=h,p=0,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask24=function(g,e,h,j){function i(){q=e/2*w*d;r=h/2*w*d;f.setRect([o,l,q,r]);u=e/2+e/2*(1-w*d);s=0;t=e/2*w*d;A=h/2*w*d;m.x=e/2+e/2*(1-w*d);m.setRect([u,s,t,A]);D=0;y=h/2+h/2*(1-w*d);C=e/2*w*d;H=h/2*w*d;p.y=h/2+h/2*(1-w*d);p.setRect([D,y,C,H]);E=e/2+e/2*(1-w*d);G=h/2+h/2*(1-w*d);F=e/2*w*d;z=h/2*w*d;n.x=e/2+e/2*(1-w*d);n.y=h/2+h/2*(1-w*d);n.setRect([E,G,F,z]);w++;if(w>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});
for(f.setRect([0,0,e,h]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(x);x=null}}var f=g.getChildAt(0),k=f.image,m=new Quark.Bitmap({id:"targetBitmap2",image:k,rect:[0,0,0,0]});g.addChild(m);var p=new Quark.Bitmap({id:"targetBitmap3",image:k,rect:[0,0,0,0]});g.addChild(p);var n=new Quark.Bitmap({id:"targetBitmap4",image:k,rect:[0,0,0,0]});g.addChild(n);var o=0,l=0,q=0,r=0,u=e,s=0,t=0,A=0,D=0,y=h,C=0,H=0,E=e,G=h,F=0,z=0;c=j*b;d=1/c;var x=setInterval(i,1E3/b),w=1;i()};this.mask25=
function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask26=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask27=function(g,e,h,j){function i(){for(var b=0;b<m;b++){var i=p*b,j=p;n[b].x>e-p&&(j=e-n[b].x);var k=o[b]+(h-o[b])*t*d*h/(h-o[b]);k<h&&n[b].setRect([i,0,j,k])}t++;if(t>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(f.setRect([0,0,e,h]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(s);s=null}}for(var f=
g.getChildAt(0),k=f.image,m=20,p=Math.ceil(e/m),n=[],o=[],l=0;l<m;l++){o[l]=h/2*Math.random();var q=p*l,r=p,u=o[l];q>e-p&&(r=e-q);r=new Quark.Bitmap({id:"maskBitmap"+l,image:k,rect:[q,0,r,u]});r.x=q;g.addChild(r);n.push(r)}c=j*b;d=1/c;var s=setInterval(i,1E3/b),t=1;i()};this.mask28=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask29=function(g,e,h,j){function i(){f.alpha=m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.alpha=
1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.alpha=0;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask30=function(g,e,h,j){function i(){k=e*(1-l*d);p=e*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=e,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask31=function(g,e,h,j){function i(){f.alpha=
l*d;k=e*(1-l*d);p=e*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,f.alpha=1,clearInterval(o),o=null}var f=g.getChildAt(0);f.alpha=0;var k=e,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask32=function(g,e,h,j){function i(){p=e*l*d;f.setRect([k,m,p,n]);f.x=e*(1-l*d);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,
0,e,h]),f.x=0,clearInterval(o),o=null}var f=g.getChildAt(0);f.x=e;var k=0,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask33=function(g,e,h,j){function i(){f.alpha=l*d;p=e*l*d;f.setRect([k,m,p,n]);f.x=e*(1-l*d);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.x=0,f.alpha=1,clearInterval(o),o=null}var f=g.getChildAt(0);f.x=e;var k=f.alpha=0,m=0,p=0,n=h;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};
this.mask34=function(g,e,h,j){function i(){m=h*(1-l*d);n=h*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.y=0,clearInterval(o),o=null}var f=g.getChildAt(0),k=0,m=h,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask35=function(g,e,h,j){function i(){f.alpha=l*d;m=h*(1-l*d);n=h*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
f.setRect([0,0,e,h]),f.y=0,f.alpha=1,clearInterval(o),o=null}var f=g.getChildAt(0),k=f.alpha=0,m=h,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask36=function(g,e,h,j){function i(){f.y=h*(1-l*d);n=h*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.y=0,clearInterval(o),o=null}var f=g.getChildAt(0);f.y=h;var k=0,m=0,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask37=
function(g,e,h,j){function i(){f.alpha=l*d;f.y=h*(1-l*d);n=h*l*d;f.setRect([k,m,p,n]);l++;if(l>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),f.setRect([0,0,e,h]),f.y=0,f.alpha=1,clearInterval(o),o=null}var f=g.getChildAt(0);f.alpha=0;f.y=h;var k=0,m=0,p=e,n=0;c=j*b;d=1/c;var o=setInterval(i,1E3/b),l=1;i()};this.mask38=function(g,e,h,j){function i(){f.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
f.width=e,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.width=0;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask39=function(g,e,h,j){function i(){f.alpha=m*d;f.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.width=e,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.alpha=0;f.width=0;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask40=function(g,e,h,
j){function i(){f.x=e/2*(1-m*d);f.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.width=e,f.x=0,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.width=0;f.x=e/2;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask41=function(g,e,h,j){function i(){f.alpha=m*d;f.x=e/2*(1-m*d);f.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
f.width=e,f.x=0,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.width=0;f.alpha=0;f.x=e/2;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask42=function(g,e,h,j){function i(){f.x=e*(1-m*d);f.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.width=e,f.x=0,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.width=0;f.x=e;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};
this.mask43=function(g,e,h,j){function i(){f.alpha=m*d;f.x=e*(1-m*d);f.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.width=e,f.x=0,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.width=0;f.alpha=0;f.x=e;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask44=function(g,e,h,j){function i(){f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
f.height=h,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.height=0;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask45=function(g,e,h,j){function i(){f.alpha=m*d;f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.height=h,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.height=0;f.alpha=0;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask46=function(g,
e,h,j){function i(){f.y=h/2*(1-m*d);f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.height=h,f.y=0,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.height=0;f.y=h/2;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask47=function(g,e,h,j){function i(){f.alpha=m*d;f.y=h/2*(1-m*d);f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
f.height=h,f.y=0,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.height=0;f.alpha=0;f.y=h/2;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask48=function(g,e,h,j){function i(){f.y=h*(1-m*d);f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.height=h,f.y=0,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.height=0;f.y=h;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;
i()};this.mask49=function(g,e,h,j){function i(){f.alpha=m*d;f.y=h*(1-m*d);f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.height=h,f.y=0,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.height=0;f.alpha=0;f.y=h;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask50=function(g,e,h,j){function i(){f.x=e/2*(1-m*d);f.y=h/2*(1-m*d);f.width=e*m*d;f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
f.width=e,f.height=h,f.x=0,f.y=0,clearInterval(k),k=null}var f=g.getChildAt(0);f.setRect([0,0,e,h]);f.width=0;f.height=0;f.x=e/2;f.y=h/2;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask51=function(g,e,h,j){function i(){f.alpha=m*d;f.x=e/2*(1-m*d);f.y=h/2*(1-m*d);f.width=e*m*d;f.height=h*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),f.width=e,f.height=h,f.x=0,f.y=0,f.alpha=1,clearInterval(k),k=null}var f=g.getChildAt(0);
f.setRect([0,0,e,h]);f.width=0;f.height=0;f.alpha=0;f.x=e/2;f.y=h/2;c=j*b;d=1/c;var k=setInterval(i,1E3/b),m=1;i()};this.mask52=function(a,b,c){a.getChildAt(0).setRect([0,0,b,c]);aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER})};this.mask53=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask54=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask55=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask56=function(a,b,c,d){this.transition(68,a,b,c,d)};
this.mask57=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask58=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask59=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask60=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask61=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask62=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask63=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask64=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask65=function(a,b,c,d){this.transition(68,
a,b,c,d)};this.mask66=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask67=function(a,b,c,d){this.transition(68,a,b,c,d)};this.mask68=function(g,e,h,j){function i(){for(n=0;n<w;n++)l[n].width=t[n]*x*d,l[n].height=A[n]*x*d,l[n].x=u[n]+(q[n]-u[n])*x*d,l[n].y=s[n]+(r[n]-s[n])*x*d;x++;if(x>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(f.setRect([0,0,e,h]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(z);
z=null}}for(var f=g.getChildAt(0),k=f.image,m=Math.ceil(e/12),p=Math.ceil(h/12),n=0,o=0,l=[],q=[],r=[],u=[],s=[],t=[],A=[],n=0;12>n;n++)for(o=0;12>o;o++){var D=m*n,y=p*o,C=m,H=p,E=Math.random()*(e-m),G=Math.random()*(h-p);if(D<e&&y<h){D>e-m&&(C=e-D);y>h-p&&(H=h-y);var F=new Quark.Bitmap({id:"maskBitmap"+n+o,image:k,rect:[D,y,C,H]});F.x=E;F.y=G;F.width=0;F.height=0;g.addChild(F);l.push(F);q.push(D);r.push(y);t.push(C);A.push(H);u.push(E);s.push(G)}}c=j*b;d=1/c;var z=setInterval(i,1E3/b),x=1,w=l.length;
i()}}})();(function(){aJSs.JsXmlLoad=function(b){var a=this;a.copyright="Anvsoft";a.movieWidth=0;a.movieHeight=0;a.startAutoPlay="";a.continuum="";a.clickToAutoPlay="";a.randomPlayingPhotos="";a.enableURL="";a.movieBackgroundColor="";a.loadStyle="";a.anvsoftMenu="";a.frameRate=0;a.showTitle="";a.photoTitleColor="";a.photoTitleBackgroundColor="";a.photoTitleAlpha=1;a.photoTitleAutoHide="";a.titleTextFont="Lucida Sans Unicode";a.titleTextSize=11;a.titleTextHeight=20;a.musicPath="";a.musicStream="";a.musicLoop=
"";a.musicAutoPlay="";a.topPadding=0;a.bottomPadding=0;a.leftPadding=0;a.rightPadding=0;a.enableDes="";a.desAlign="";a.desBackgroundColor="";a.desBackgroundAlpha="";a.desTextFont="Lucida Sans Unicode";a.desTextSize=10;a.desTextColor=0;a.desLineHeight=16;a.videoAutoPlay="";a.bufferTime="";a.videoControls="";a.thumWidth="";a.thumHeight="";a.thumborder="";a.thumbnailBorderColor="";a.currentBorderColor="";a.thumSpacing="";a.buttonColor="";a.thumbnailArray=[];a.photoArray=[];a.photoUrlArray=[];a.URLTarget=
[];a.videoArray=[];a.transitionArray=[];a.photoTimeArray=[];a.transitionTimeArray=[];a.defineTransitionArray=[];a.photoTitleArray=[];a.descriptionText=[];var c=function(b){b=b.documentElement;a.copyright=b.getAttribute("copyright");var c=b.getElementsByTagName("global")[0],d=c.getElementsByTagName("basic_property")[0];a.movieWidth=d.getAttribute("movieWidth");a.movieHeight=d.getAttribute("movieHeight");a.startAutoPlay=d.getAttribute("startAutoPlay");a.continuum=d.getAttribute("continuum");a.clickToAutoPlay=
d.getAttribute("clickToAutoPlay");a.randomPlayingPhotos=d.getAttribute("randomPlayingPhotos");a.enableURL=d.getAttribute("enableURL");a.movieBackgroundColor=d.getAttribute("backgroundColor").replace(/0x/g,"#");a.loadStyle=d.getAttribute("loadStyle");a.anvsoftMenu=d.getAttribute("anvsoftMenu");a.frameRate=d.getAttribute("frameRate");d=d.getAttribute("transitionArray");a.defineTransitionArray=""==d?null:d.split(",");d=c.getElementsByTagName("title_property")[0];a.showTitle=d.getAttribute("showTitle");
a.photoTitleColor=d.getAttribute("photoTitleColor").replace(/0x/g,"#");a.photoTitleBackgroundColor=d.getAttribute("backgroundColor").replace(/0x/g,"#");a.photoTitleAlpha=d.getAttribute("alpha")/100;a.photoTitleAutoHide=d.getAttribute("autoHide");a.titleTextFont=d.getAttribute("titleTextFont");a.titleTextSize=d.getAttribute("titleTextSize");a.titleTextHeight=d.getAttribute("titleTextHeight");d=c.getElementsByTagName("music_property")[0];a.musicPath=d.getAttribute("path");a.musicStream=d.getAttribute("stream");
a.musicLoop=d.getAttribute("loop");a.musicAutoPlay=d.getAttribute("autoPlay");d=c.getElementsByTagName("photo_property")[0];a.topPadding=Number(d.getAttribute("topPadding"));a.bottomPadding=Number(d.getAttribute("bottomPadding"));a.leftPadding=Number(d.getAttribute("leftPadding"));a.rightPadding=Number(d.getAttribute("rightPadding"));d=c.getElementsByTagName("description_property")[0];a.enableDes=d.getAttribute("enable");a.desAlign=d.getAttribute("align");a.desBackgroundColor=d.getAttribute("backgroundColor").replace(/0x/g,
"#");a.desBackgroundAlpha=d.getAttribute("backgroundAlpha")/100;a.desTextFont=d.getAttribute("defaultTextFont");a.desTextSize=d.getAttribute("defaultTextSize");a.desTextColor=d.getAttribute("defaultTextColor").replace(/0x/g,"#");a.desLineHeight=Number(d.getAttribute("lineHeight"));c=c.getElementsByTagName("video_property")[0];a.videoAutoPlay=c.getAttribute("autoPlay");a.bufferTime=Number(c.getAttribute("bufferTime"));a.videoControls=c.getAttribute("controls");c=b.getElementsByTagName("thumbnail")[0].getElementsByTagName("basic_property")[0];
a.thumWidth=Number(c.getAttribute("thumWidth"));a.thumHeight=Number(c.getAttribute("thumHeight"));a.thumbnailBorderColor=c.getAttribute("borderColor").replace(/0x/g,"#");a.currentBorderColor=c.getAttribute("currentBorderColor").replace(/0x/g,"#");a.thumborder=Number(c.getAttribute("thumborder"));a.thumSpacing=Number(c.getAttribute("thumSpacing"));a.buttonColor=c.getAttribute("buttonColor").replace(/0x/g,"#");b=b.getElementsByTagName("album")[0].getElementsByTagName("slide");c=b.length;for(d=0;d<c;d++){a.thumbnailArray[d]=
b[d].getAttribute("jpegURL");a.photoArray[d]=b[d].getAttribute("d_URL");a.photoUrlArray[d]=b[d].getAttribute("url");a.URLTarget[d]=b[d].getAttribute("URLTarget");a.videoArray[d]=b[d].getAttribute("v_URL");a.transitionArray[d]=b[d].getAttribute("transition");a.photoTimeArray[d]=b[d].getAttribute("phototime");a.transitionTimeArray[d]=b[d].getAttribute("transitiontime");a.photoTitleArray[d]=b[d].getAttribute("title");var e=b[d].childNodes[0];a.descriptionText[d]=void 0!=e?e.nodeValue:""}};try{var d=
new ActiveXObject("Microsoft.XMLDOM")}catch(g){try{d=document.implementation.createDocument("","",null)}catch(e){alert(e.message)}}try{d.async=!1,d.load(b),c(d)}catch(h){try{var j=new window.XMLHttpRequest;j.open("GET",b,!1);j.send(null);d=j.responseXML;c(d)}catch(i){d=(new DOMParser).parseFromString(window.anvsoftJavaScriptSlideshowData,"text/xml"),c(d)}}}})();(function(){aJSs.JsCompatibleTheme=function(b,a,c){function d(){o--;if(0>=o)clearInterval(q),l++,l>n-1&&(l=0),u.src=c+e[l]}var g=b.movieBackgroundColor,e=b.photoArray,h=b.photoUrlArray,j=b.photoTimeArray,i=b.transitionTimeArray,f=b.URLTarget,k=b.topPadding,m=b.bottomPadding,p=b.leftPadding,b=b.rightPadding,n=e.length,o=0,l=0,q=null,r=document.getElementById(a);r.style.backgroundColor=g;var a=r.offsetWidth,g=r.offsetHeight,p=a-p-b,k=g-k-m,m=Math.round((a-p)/2),b=Math.round((g-k)/2),u=new Image;r.appendChild(u);
u.style.position="absolute";u.style.width=p+"px";u.style.height=k+"px";u.style.left=m+"px";u.style.top=b+"px";u.src=c+e[l];u.onload=function(){o=parseInt(i[l])+parseInt(j[l]);q=setInterval(d,1E3)};u.onclick=function(){var a;switch(f[l]){case "0":a="_blank";break;case "1":a="_parent";break;case "2":a="_self";break;case "3":a="_top";break;default:a="_blank"}window.open(h[l],a)};var s=document.createElement("div");r.appendChild(s);s.style.position="absolute";s.style.width="250px";s.style.padding="8px";
s.style.backgroundColor="#333";s.style.color="#FFF";s.style.textAlign="left";s.style.font="normal normal 12px/16px verdana,tahoma,arial,sans-serif";s.innerHTML="The browser you are using does not support HTML5. Now you are using the simple compatible mode. To get better user experience, please use HTML5 supported browser.";s.style.left=Math.round((a-s.offsetWidth)/2)+"px";s.style.top=Math.round((g-s.offsetHeight)/2)+"px";var t=setTimeout(function(){clearTimeout(t);t=null;r.removeChild(s)},1E4)}})();(function(){aJSs.JsBackground=function(b,a){var c=b.movieBackgroundColor,d=new Quark.DisplayObjectContainer({id:"backgroundBox"});d.autoSize=!0;a.addChild(d);if(""!=c){var g=Quark.Bitmap,e=a.width,h=a.height,j=document.createElement("canvas");j.width=e;j.height=h;var i=j.getContext("2d");i.fillStyle=c;i.rect(0,0,e,h);i.fill();c=new Image;c.src=j.toDataURL("image/png");c.width=e;c.height=h;g=new g({id:"background",image:c});g.autoSize=!0;d.addChild(g)}}})();(function(){aJSs.JsPhoto=function(b,a,c){function d(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_CLEAR});e();F=G=0;O&&O.removeAllChildren();J.swapChildren(M,N);J.getChildIndex(M)>J.getChildIndex(N)?(P=M,O=N):(P=N,O=M);var a=new Image;a.onload=function(){h();G=1;a.width=R;a.height=S;var b=new Quark.Bitmap({id:"targetBitmap",image:a,rect:[0,0,0.0010,0.0010]});b.useHandCursor="true"==k&&""!=f[v]?!0:!1;P.addChild(b);x=0==n[v]?null==o?Math.floor(Math.random()*L.transTotal)+
1:o[Math.floor(Math.random()*o.length)]:n[v];L.transition(x,P,R,S,l[v]);b.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type){if("true"==k&&""!=f[v]){switch(m[v]){case "0":a="_blank";break;case "1":a="_parent";break;case "2":a="_self";break;case "3":a="_top";break;default:a="_blank"}window.open(f[v],a)}}else"mousemove"==a.type||"touchmove"==a.type?aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_MOUSE_OVER}):("mouseout"==a.type||"touchout"==a.type)&&aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_MOUSE_OUT})};
aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_LOAD_COMPLETE,index:v})};a.src=c+i[v];aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_CURRENT,index:v})}function g(){w--;try{Quark.getDOM("debugInfo").value=w}catch(a){}if(0>=w||1==z)clearInterval(B),B=null,0==z?"true"==t?v=Math.floor(Math.random()*I):v<I-1?v++:v=0:z=0,d()}function e(){if(""!=A){h();var a=new Image;a.src=c+A;a=new Quark.MovieClip({image:a,id:"preloader",interval:100});a.addFrame([{rect:[0,
0,25,25]},{rect:[25,0,25,25]},{rect:[50,0,25,25]},{rect:[75,0,25,25]},{rect:[100,0,25,25]},{rect:[125,0,25,25]}]);a.x=u+(C-a.width)/2;a.y=q+(H-a.height)/2;K.addChild(a)}}function h(){if(""!=A){var a=K.getChildById("preloader");null!=a&&K.removeChild(a)}}var j=b.frameRate,i=b.photoArray,f=b.photoUrlArray,k=b.enableURL,m=b.URLTarget,p=b.photoTimeArray,n=b.transitionArray,o=b.defineTransitionArray,l=b.transitionTimeArray,q=b.topPadding,r=b.bottomPadding,u=b.leftPadding,s=b.rightPadding,t=b.randomPlayingPhotos,
A=b.loadStyle,D=b.videoAutoPlay,y=b.videoArray,C=a.width-u-s,H=a.height-q-r,E=0,G=1,F=1,z=0,x=0,w=0,v=0,B=null,I=i.length;aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.TRANSITION_OVER,function(){F=1;if(1==E||1==z)w=p[v]*j,B=setInterval(g,1E3/j);""!=y[v]&&void 0!=y[v]&&0==z&&("true"==D&&(clearInterval(B),B=null),aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_VIDEO,index:v,width:C,height:H}))});var L=new aJSs.MaskEffect(j),K=new Quark.DisplayObjectContainer({id:"container"});
K.autoSize=!0;a.addChild(K);var R=a.width-u-s,S=a.height-q-r,b=u,a=q,r=new Quark.Bitmap({id:"photoBoxBg",image:function(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}(R,S,"#DDD")});r.autoSize=!0;r.x=b;r.y=a;K.addChild(r);var J=new Quark.DisplayObjectContainer({id:"photoBox",x:b,y:a,width:R,height:S});J.autoSize=!0;K.addChild(J);var O,P,M=new Quark.DisplayObjectContainer({id:"aPhoto"}),
N=new Quark.DisplayObjectContainer({id:"bPhoto"});J.addChild(M);J.addChild(N);this.Play=function(){E=1;1==G&&1==F?(clearInterval(B),B=null,v<I-1?v++:v=0,d()):1==G&&0==F?(z=1,v<I-1?v++:v=0,L.maskerFull=1):(v<I-1?v++:v=0,z=1)};this.Pause=function(){E=0;null!=B&&(clearInterval(B),B=null)};this.Previous=function(a){E=a;0<v?v--:v=I-1;1==G&&1==F?(clearInterval(B),B=null,d()):1==G&&0==F?(z=1,L.maskerFull=1):z=1};this.Next=function(a){E=a;v<I-1?v++:v=0;1==G&&1==F?(clearInterval(B),B=null,d()):1==G&&0==F?
(z=1,L.maskerFull=1):z=1};this.Show=function(a,b){E=b;1==G&&1==F?(clearInterval(B),B=null,v=a,d()):1==G&&0==F?(z=1,v=a,L.maskerFull=1):(v=a,z=1)}}})();(function(){aJSs.JsDescription=function(b,a){function c(b){q=m[b.index];""!=q?(b=C.getChildById("description"),C.removeChild(b),b=new Quark.Bitmap({id:"description",image:g(k,f,i,q)}),C.addChild(b),H.height=s,y.y="top"==e?n:a.height-o-s,y.visible=!0):(y.visible=!1,s=0,H.height=0)}function d(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}function g(b,
c,d,e){var f=document.createElement("canvas");f.width=a.width;f.height=a.height;var g=f.getContext("2d");g.font=c+"px "+d;g.textAlign="start";g.textBaseline="top";g.fillStyle=b;for(var c=b=r,d=A,h=p,e=e.split(" "),i="",m=1,j=0;j<e.length;j++){var l=i+e[j]+" ";g.measureText(l).width>d?(g.fillText(i,b,c),i=e[j]+" ",c+=h,m++):i=l}g.fillText(i,b,c);D=m*h;s=D+2*r;s>t&&(s=t);g=new Image;g.src=f.toDataURL("image/png");g.width=u;g.height=s;return g}var e=b.desAlign,h=b.desBackgroundColor,j=b.desBackgroundAlpha,
i=b.desTextFont,f=b.desTextSize,k=b.desTextColor,m=b.descriptionText,p=b.desLineHeight,n=b.topPadding,o=b.bottomPadding,l=b.leftPadding,q=m[0],r=4,u=a.width-l-b.rightPadding,s=0,t=a.height-n-o,A=u-2*r,D;if("true"==b.enableDes){var y=new Quark.DisplayObjectContainer({id:"desContainer"});y.autoSize=!0;y.visible=!1;y.x=l;y.y="top"==e?n:a.height-o-s;a.addChild(y);var C=new Quark.DisplayObjectContainer({id:"desBox"});C.autoSize=!0;y.addChild(C);var H=new Quark.Bitmap({id:"desBackground",image:d(u,p,h)});
H.autoSize=!0;H.alpha=j;C.addChild(H);h=new Quark.Bitmap({id:"description",image:g(k,f,i,q)});C.addChild(h);aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PHOTO_LOAD_COMPLETE,c)}}})();(function(){aJSs.JsPhotoTitle=function(b,a){function c(a){if("photoMouseOver"==a.type)t.visible=!0;else if("photoMouseOut"==a.type)t.visible=!1}function d(a){r=o[a.index];if(""!=r){a=t.getChildById("photoTitle");t.removeChild(a);a=new Quark.Bitmap({id:"photoTitle",image:e(q,p,h,m,k,r)});if(u<q)a.x=Math.round((q-u)/2);t.addChild(a);s.visible=!0}else s.visible=!1}function g(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();
c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}function e(a,b,c,d,e,f){var g=document.createElement("canvas");g.width=a;g.height=b;var h=g.getContext("2d");h.font=d+"px "+e;h.textAlign="start";h.textBaseline="middle";h.fillStyle=c;h.fillText(f,0,b/2);u=h.measureText(f).width;c=new Image;c.src=g.toDataURL("image/png");c.width=a;c.height=b;return c}var h=b.photoTitleColor,j=b.photoTitleBackgroundColor,i=b.photoTitleAlpha,f=b.photoTitleAutoHide,k=b.titleTextFont,m=b.titleTextSize,
p=b.titleTextHeight,n=b.topPadding,o=b.photoTitleArray,l=b.leftPadding,q=a.width-l-b.rightPadding,r=o[0],u;if("true"==b.showTitle){var s=new Quark.DisplayObjectContainer({id:"photoTitleContainer"});s.autoSize=!0;s.visible=!1;s.x=l;s.y=n;a.addChild(s);var t=new Quark.DisplayObjectContainer({id:"photoTitleBox"});t.autoSize=!0;s.addChild(t);j=new Quark.Bitmap({id:"titleBackground",image:g(q,p,j)});j.autoSize=!0;j.alpha=i;t.addChild(j);i=new Quark.Bitmap({id:"photoTitle",image:e(q,p,h,m,k,r)});if(u<q)i.x=
Math.round((q-u)/2);t.addChild(i);if("true"==f)t.visible=!1,aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PHOTO_MOUSE_OVER,c),aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PHOTO_MOUSE_OUT,c);aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PHOTO_LOAD_COMPLETE,d)}}})();(function(){aJSs.JsMediaConsole=function(b,a,c,d){function g(a,b,c,d){var e=document.createElement("canvas");e.width=2*a;e.height=b;var f=e.getContext("2d");f.strokeStyle=c;f.lineWidth=d;f.moveTo(1,1*b/3);f.lineTo(1*a/2,0);f.lineTo(1*a/2,b);f.lineTo(1,2*b/3);f.lineTo(1,1*b/3);f.moveTo(2*a/3,1*b/3);f.lineTo(5*a/6,0);f.moveTo(2*a/3,1*b/2);f.lineTo(5*a/6,1*b/2);f.moveTo(2*a/3,2*b/3);f.lineTo(5*a/6,b);f.moveTo(a+1,1*b/3);f.lineTo(a+1*a/2,0);f.lineTo(a+1*a/2,b);f.lineTo(a+1,2*b/3);f.lineTo(a+1,1*b/3);
f.moveTo(a+2*a/3,1*b/2);f.lineTo(a+5*a/6,1*b/2);f.stroke();c=new Image;c.src=e.toDataURL("image/png");c.width=a;c.height=b;return c}function e(){void 0!=A&&(b.removeChild(A),void 0!=s&&"videoCallPause"==D&&(t.gotoAndStop(0),s.Play(),D=""),A=void 0,h())}function h(){var a=document.getElementById("videoLoadText");a&&b.removeChild(a)}var j=a.topPadding,i=a.leftPadding,f=a.rightPadding,k=a.musicPath,m=a.musicAutoPlay,p=a.musicLoop,n=a.musicStream,o=a.buttonColor,l=a.videoAutoPlay,q=a.bufferTime,r=a.videoArray,
u=a.videoControls;if(""!=k){var s=new aJSs.Music(d+k,n,m,p),a=new Quark.DisplayObjectContainer({id:"consoleBox"});a.autoSize=!0;c.addChild(a);var t=new Quark.MovieClip({image:g(22,16,o,2),interval:100});t.useHandCursor=!0;t.stop();t.addFrame([{rect:[0,0,22,16],index:0},{rect:[22,0,22,16],index:1}]);a.addChild(t);t.x=c.width-t.width-f-5;t.y=j+5;"true"!=m&&t.gotoAndStop(1);t.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type)s.Playing()?(t.gotoAndStop(1),s.Pause()):(t.gotoAndStop(0),s.Play())};
aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.SOUND_PLAY_COMPLETE,function(){t.gotoAndStop(1)})}var A,D="";aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_VIDEO,function(a){var c=a.index,e=a.width,a=a.height;void 0!=s&&s.Playing()&&(t.gotoAndStop(1),s.Pause(),D="videoCallPause");A=new aJSs.Video(d+r[c],l,q,u,e,a);A.style.backgroundColor="#000";A.style.position="absolute";A.style.top=j+"px";A.style.left=i+"px";b.appendChild(A);c=document.getElementById("videoLoadText");
if(null==c)c=document.createElement("div"),c.id="videoLoadText",c.style.position="absolute",c.style.top=j+5+"px",c.style.left=i+5+"px",c.style.font="normal normal 11px/13px verdana,tahoma,arial,sans-serif",c.style.color="#FFF",c.textContent="Waiting...",b.appendChild(c)});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_PLAY_ENDED,function(){e();aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_NEXT})});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_CLEAR,
function(){e()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_START_PLAY,function(){h()})}})();(function(){aJSs.JsThumbnail=function(b,a,c,d){function g(a){B&&B.removeAllChildren();for(var c=0;c<I;c++){var e=a*I+c;if(e<F){var f=new Quark.DisplayObjectContainer({id:"thumBox_"+c});f.autoSize=!0;f.y=(n+r)*c;B.addChild(f);var g=new Quark.Bitmap({id:"thumBg",image:h(p,n,o)});g.autoSize=!0;f.addChild(g);var i=new Image;i.id="img_"+e;i.onload=function(){i.width=p-2*q;i.height=n-2*q;var a=new Quark.Bitmap({id:"thumImg",image:i});a.useHandCursor=!0;a.index=e;a.x=q;a.y=q;f.addChild(a);a.onEvent=function(a){if("mousedown"==
a.type||"touchend"==a.type)a=a.eventTarget,"true"==A?(x.visible=!1,b.Show(a.index,1)):(x.visible=!0,b.Show(a.index,0))}}();i.src=d+u[e]}}a=new Quark.Bitmap({id:"currentBorder",image:j(p,n,l,q)});a.autoSize=!0;B.addChild(a);Math.floor(G/I)==E?a.y=(n+r)*(G%I):a.visible=!1}function e(){switch(E){case 0:w.alpha=0.5;v.alpha=1;w.useHandCursor=!1;v.useHandCursor=!0;break;case H-1:w.alpha=1;v.alpha=0.5;w.useHandCursor=!0;v.useHandCursor=!1;break;default:w.alpha=1,v.alpha=1,w.useHandCursor=!0,v.useHandCursor=
!0}}function h(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}function j(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.fillStyle=c;f.rect(0,0,a,d);f.rect(a-d,0,d,b);f.rect(0,b-d,a,d);f.rect(0,0,d,b);f.fill();c=new Image;c.src=e.toDataURL("image/png");c.width=a;c.height=b;return c}function i(a,
b,c,d,e){var f=document.createElement("canvas");f.width=a;f.height=b;var g=f.getContext("2d");g.fillStyle=c;g.rect(0,0,a,d);g.rect(a-d,0,d,b);g.rect(0,b-d,a,d);g.rect(0,0,d,b);"prePageButton"==e?(g.moveTo(a/2,b/4),g.lineTo(a/2+8,3*b/4),g.lineTo(a/2-8,3*b/4)):"nextPageButton"==e?(g.moveTo(a/2,3*b/4),g.lineTo(a/2+8,b/4),g.lineTo(a/2-8,b/4)):"playButton"==e&&(g.moveTo(1*a/3+4,1*b/4),g.lineTo(2*a/3,b/2),g.lineTo(1*a/3+4,3*b/4));g.fill();c=new Image;c.src=f.toDataURL("image/png");c.width=a;c.height=b;
return c}var f=a.topPadding,k=a.bottomPadding,m=a.rightPadding,p=a.thumWidth,n=a.thumHeight,o=a.thumbnailBorderColor,l=a.currentBorderColor,q=a.thumborder,r=a.thumSpacing,u=a.thumbnailArray,s=a.startAutoPlay,t=a.continuum,A=a.clickToAutoPlay,D=a.randomPlayingPhotos,y=a.buttonColor,a=c.width-a.leftPadding-m,C=c.height-f-k,H=0,E=0,G=0,F=u.length;aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_CURRENT,function(a){G=a.index;a=Math.floor(G/I);E!=a&&!isNaN(a)&&(E=a,g(E),e());if(B)a=
B.getChildById("currentBorder"),a.y=(n+r)*(G%I),!a.visible&&(a.visible=!0);if(G>=F-1&&"false"==t&&"false"==D)x.visible=!0,b.Pause()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_START_PLAY,function(){x.visible=!0;b.Pause()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_NEXT,function(){x.visible=!1;b.Play()});var z=new Quark.DisplayObjectContainer({id:"thumbnailBox"});z.autoSize=!0;c.addChild(z);z.x=c.width-m+(m-p)/2;z.y=f;var x=new Quark.Bitmap({id:"playButton",
image:i(60,50,y,2,"playButton")});x.autoSize=!0;x.useHandCursor=!0;x.x=-(m-p)/2-a/2-x.width/2;x.y=(C-x.height)/2;z.addChild(x);var w=new Quark.Bitmap({id:"prePageButton",image:i(p,19,y,1,"prePageButton")});w.autoSize=!0;w.useHandCursor=!1;w.alpha=0.5;z.addChild(w);var v=new Quark.Bitmap({id:"nextPageButton",image:i(p,19,y,1,"nextPageButton")});v.autoSize=!0;v.useHandCursor=!0;v.y=w.y+(c.height-f-k)-v.height;z.addChild(v);"true"==s?(x.visible=!1,b.Show(0,1)):(x.visible=!0,b.Show(0,0));x.onEvent=function(a){if("mousedown"==
a.type||"touchend"==a.type)x.alpha=1,x.visible=!1,b.Play();else if("mousemove"==a.type||"touchmove"==a.type)x.alpha=0.5;else if("mouseout"==a.type||"touchout"==a.type)x.alpha=1};w.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type)0<E&&(E--,g(E)),e()};v.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type)E<H-1&&(E++,g(E)),e()};var B=new Quark.DisplayObjectContainer({id:"thumSpBox"});B.autoSize=!0;z.addChild(B);var c=c.height-w.height-v.height-f-k-2*r,I=Math.floor((c+r)/(n+r)),
H=Math.ceil(F/I);B.y=w.y+w.height+r+(c-(I*(n+r)-r))/2;g(0)}})();(function(){aJSs.JsMenu=function(b,a){function c(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;var e=d.getContext("2d");e.fillStyle=c;e.rect(0,0,a,b);e.fill();c=new Image;c.src=d.toDataURL("image/png");c.width=a;c.height=b;return c}function d(a,b,c,d,e,f){var l;var g=document.createElement("canvas");g.width=a;g.height=b;a=g.getContext("2d");a.font=d+"px "+e;a.textAlign="start";a.textBaseline="middle";a.fillStyle=c;a.fillText(f,0,b/2);l=k=a.measureText(f).width,a=l;c=new Image;
c.src=g.toDataURL("image/png");c.width=a;c.height=b;return c}var g=b.topPadding,e=b.leftPadding,h=b.copyright;if(null==b.anvsoftMenu||"anvsoftPFMTheme"!=h&&"anvsoftUSSTheme"!=h&&"anvsoftHSMTheme"!=h){var j,i;switch(h){case "anvsoftPFMTheme":i="Powered by photo-flash-maker.com";j=186;break;case "anvsoftUSSTheme":i="Powered by ultraslideshow.com";j=168;break;case "anvsoftHSMTheme":i="Powered by html5-slideshow-maker.com";j=210;break;case "anvsoftSWWTheme":i="Powered by slidewow.com";j=142;break;default:i=
"Powered by anvsoft.com",j=136}var f=new Quark.DisplayObjectContainer({id:"menudBox"});f.autoSize=!0;f.x=e;f.y=g;a.addChild(f);g=new Quark.Bitmap({id:"copyrightBg",image:c(j,20,"#000")});g.autoSize=!0;g.alpha=0.3;f.addChild(g);var k=j;i=new Quark.Bitmap({id:"copyrightText",image:d(k,20,"#FFF",11,"arial, sans-serif",i)});i.useHandCursor=!0;i.autoSize=!0;i.x=Math.round((j-k)/2);f.addChild(i);i.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type)switch(h){case "anvsoftPFMTheme":window.open("http://www.photo-flash-maker.com/",
"_self");break;case "anvsoftUSSTheme":window.open("http://www.ultraslideshow.com/","_self");break;case "anvsoftHSMTheme":window.open("http://www.html5-slideshow-maker.com/","_self");break;case "anvsoftSWWTheme":window.open("http://www.slidewow.com/","_self");break;default:window.open("http://www.anvsoft.com/","_self")}}}}})();(function(b){var a=aJSs.getParameters.parameters().xml_path,c=aJSs.getParameters.parameters().fs_path,d,g;void 0==a?void 0==c?(d="slides.xml",g=""):(d=c+"/slides.xml",g=c+"/"):(d=a,g=a.substr(0,a.lastIndexOf("/")+1));anvsoftJavaScriptSlideshow.init=function(a){var c,j,i,f;if(b.document.createElement("canvas").getContext)(function(){f=Quark.getDOM(a);var b=Quark.supportTouch?["touchstart","touchmove","touchend","touchout"]:["mousedown","mousemove","mouseup","mouseout"],d=Quark.getUrlParams();if(void 0==
d.mode)d.mode=1;var g=f.clientWidth||f.offsetWidth,k=f.clientHeight||f.offsetHeight;1==d.mode?(c=Quark.createDOM("canvas",{width:g,height:k}),f.appendChild(c),j=new Quark.CanvasContext({canvas:c})):j=new Quark.DOMContext({canvas:f});i=new Quark.Stage({width:g,height:k,context:j});(new Q.EventManager).registerStage(i,b)})(),function(){var a=new aJSs.JsXmlLoad(d);new aJSs.JsBackground(a,i);var b=new aJSs.JsPhoto(a,i,g);new aJSs.JsDescription(a,i);new aJSs.JsPhotoTitle(a,i);new aJSs.JsMediaConsole(f,
a,i,g);new aJSs.JsThumbnail(b,a,i,g);new aJSs.JsMenu(a,i);a=new Q.Timer(1E3/a.frameRate);a.addListener(i);a.start()}();else{var k=new aJSs.JsXmlLoad(d);new aJSs.JsCompatibleTheme(k,a,g)}}})(window);
