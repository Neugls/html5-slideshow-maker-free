(function(b){b.anvsoftJavaScriptSlideshowTemplate=b.aJSsTemplate=b.aJSsTemplate||{version:"1.0.0",global:b}})(window);(function(){aJSsTemplate.ExternalInterface=function(b){this.globalPath=b.globalPath;this.container=b.container;this.commandDispatcher=b.commandDispatcher;this.copyright=b.copyright;this.movieWidth=b.movieWidth;this.movieHeight=b.movieHeight;this.startAutoPlay=b.startAutoPlay;this.continuum=b.continuum;this.clickToAutoPlay=b.clickToAutoPlay;this.randomPlayingPhotos=b.randomPlayingPhotos;this.enableURL=b.enableURL;this.movieBackgroundColor=b.movieBackgroundColor;this.loadStyle=b.loadStyle;this.anvsoftMenu=
b.anvsoftMenu;this.frameRate=b.frameRate;var a=b.globalTitleXml;this.showTitle=a.getAttribute("showTitle");this.photoTitleColor=a.getAttribute("photoTitleColor").replace(/0x/g,"#");this.photoTitleBackgroundColor=a.getAttribute("backgroundColor").replace(/0x/g,"#");this.photoTitleAlpha=a.getAttribute("alpha")/100;this.photoTitleAutoHide=a.getAttribute("autoHide");this.titleTextFont=a.getAttribute("titleTextFont");this.titleTextSize=a.getAttribute("titleTextSize");this.titleTextAlign=a.getAttribute("titleTextAlign");
this.titleTextShadowColor=a.getAttribute("titleTextShadowColor").replace(/0x/g,"#");this.titleTextShadowOffset=Number(a.getAttribute("titleTextShadowOffset"));this.titleTextShadowBlur=Number(a.getAttribute("titleTextShadowBlur"));this.textResize=a.getAttribute("textResize");this.textTransform=Number(a.getAttribute("textTransform"));this.textTransformOriginX=Number(a.getAttribute("textTransformOriginX"));this.textTransformOriginY=Number(a.getAttribute("textTransformOriginY"));this.titleTransform=Number(a.getAttribute("titleTransform"));
this.titleTransformOriginX=Number(a.getAttribute("titleTransformOriginX"));this.titleTransformOriginY=Number(a.getAttribute("titleTransformOriginY"));this.musicPath=b.musicPath;this.musicStream=b.musicStream;this.musicLoop=b.musicLoop;this.musicAutoPlay=b.musicAutoPlay;this.topPadding=b.topPadding;this.bottomPadding=b.bottomPadding;this.leftPadding=b.leftPadding;this.rightPadding=b.rightPadding;var c=b.globalDescriptionXml;this.enableDes=c.getAttribute("enable");this.desTextFont=c.getAttribute("defaultTextFont");
this.desTextSize=c.getAttribute("defaultTextSize");this.desTextColor=c.getAttribute("defaultTextColor").replace(/0x/g,"#");this.desLineHeight=Number(c.getAttribute("lineHeight"));this.desTextAlign=c.getAttribute("desTextAlign");this.desTextShadowColor=c.getAttribute("desTextShadowColor").replace(/0x/g,"#");this.desTextShadowOffset=Number(c.getAttribute("desTextShadowOffset"));this.desTextShadowBlur=Number(c.getAttribute("desTextShadowBlur"));this.desTransform=Number(a.getAttribute("desTransform"));
this.desTransformOriginX=Number(a.getAttribute("desTransformOriginX"));this.desTransformOriginY=Number(a.getAttribute("desTransformOriginY"));this.videoAutoPlay=b.videoAutoPlay;this.bufferTime=b.bufferTime;this.videoControls=b.videoControls;a=b.thumbnailBasicXml;this.thumWidth=Number(a.getAttribute("thumWidth"));this.thumHeight=Number(a.getAttribute("thumHeight"));this.thumborder=Number(a.getAttribute("thumborder"));this.thumSpacing=Number(a.getAttribute("thumSpacing"));this.thumbnailBorderColor=
a.getAttribute("borderColor").replace(/0x/g,"#");this.currentBorderColor=a.getAttribute("currentBorderColor").replace(/0x/g,"#");this.thumBox=Number(a.getAttribute("thumBox"));this.thumBoxColor=a.getAttribute("thumBoxColor").replace(/0x/g,"#");this.thumbnailArray=b.thumbnailArray;this.photoArray=b.photoArray;this.photoUrlArray=b.photoUrlArray;this.URLTarget=b.URLTarget;this.videoArray=b.videoArray;this.transitionArray=b.transitionArray;this.photoTimeArray=b.photoTimeArray;this.transitionTimeArray=
b.transitionTimeArray;this.defineTransitionArray=b.defineTransitionArray;this.photoTitleArray=b.photoTitleArray;this.descriptionText=b.descriptionText;this.photoCount=this.photoArray.length;this.Play=function(){b.Play()};this.Pause=function(){b.Pause()};this.Previous=function(){b.Previous()};this.Next=function(){b.Next()};this.Show=function(a,c){b.Show(a,c)};this.MusicPlay=function(){b.MusicPlay()};this.MusicPause=function(){b.MusicPause()}}})();(function(){aJSsTemplate.ColorConverter={hexToRGB:function(b){var a,c,d;if(/rgb/.test(b))b=b.match(/\d+/g),a=parseInt(b[0]),c=parseInt(b[1]),d=parseInt(b[2]);else if(/#/.test(b)){var g=b.length;7===g?(a=parseInt(b.slice(1,3),16),c=parseInt(b.slice(3,5),16),d=parseInt(b.slice(5),16)):4===g&&(a=parseInt(b.charAt(1)+b.charAt(1),16),c=parseInt(b.charAt(2)+b.charAt(2),16),d=parseInt(b.charAt(3)+b.charAt(3),16))}else return b;return{r:a,g:c,b:d}}}})();(function(){aJSsTemplate.JsBackground=function(){}})();(function(){aJSsTemplate.JsText=function(b,a){function c(a){a=a.index;""!=n[a]?(H.style.display="true"!==q?"block":"none",H.textContent=n[a]):H.style.display="none"}function d(){"true"==q&&(H.style.display="none",C.style.cursor="pointer",a.addEventListener("mouseover",e),a.addEventListener("mouseout",f))}function g(a){a=a.index;""!=O[a]?(F.style.display="block",F.innerHTML=O[a]):F.style.display="none"}function e(){H.style.display="block"}function f(){H.style.display="none"}var i=b.movieWidth,j=b.topPadding,
h=b.leftPadding,l=b.rightPadding,m=b.showTitle,q=b.photoTitleAutoHide,n=b.photoTitleArray,p=b.photoTitleAlpha,k=b.photoTitleColor,r=b.titleTextAlign,u=b.titleTextFont,w=b.titleTextSize,t=b.titleTextShadowColor,z=b.titleTextShadowOffset,J=b.titleTextShadowBlur,E=b.textResize,y=b.textTransform,M=b.textTransformOriginX,L=b.textTransformOriginY,P=b.titleTransform,S=b.titleTransformOriginX,I=b.titleTransformOriginY,N=aJSsTemplate.ColorConverter.hexToRGB(b.photoTitleBackgroundColor),B=b.enableDes,v=b.desLineHeight,
O=b.descriptionText,D=b.desTextFont,s=b.desTextSize,x=b.desTextColor,G=b.desTextAlign,K=b.desTextShadowColor,A=b.desTextShadowOffset,V=b.desTextShadowBlur,T=b.desTransform,U=b.desTransformOriginX,R=b.desTransformOriginY,C=document.createElement("div");a.appendChild(C);C.style.position="absolute";C.style.top=j+"px";C.style.display="block";C.style.width=i-h-l-60+"px";C.style.backgroundColor="rgba("+N.r+","+N.g+","+N.b+","+p+")";C.style.backgroundRepeat="repeat";C.style.marginLeft=h+30+"px";C.style.marginRight=
l+30+"px";C.style.borderRadius="0px 0px 10px 10px";C.style.webkitTransform="rotate("+y+"deg)";C.style.msTransform="rotate("+y+"deg)";C.style.MozTransform="rotate("+y+"deg)";C.style.OTransform="rotate("+y+"deg)";C.style.transform="rotate("+y+"deg)";C.style.transformOrigin=""+L+"px "+M+"px";C.style.webkitTransformOrigin=""+L+"px "+M+"px";C.style.MozTransformOrigin=""+L+"px "+M+"px";C.style.OTransformOrigin=""+L+"px "+M+"px";C.style.resize=""+E+"";C.style.overflow="auto";if("true"==m){var H=document.createElement("div");
C.appendChild(H);H.textContent=n[0];H.style.webkitTransform="rotate("+P+"deg)";H.style.msTransform="rotate("+P+"deg)";H.style.MozTransform="rotate("+P+"deg)";H.style.OTransform="rotate("+P+"deg)";H.style.transform="rotate("+P+"deg)";H.style.transformOrigin=""+I+"px "+S+"px";H.style.webkitTransformOrigin=""+I+"px "+S+"px";H.style.MozTransformOrigin=""+I+"px "+S+"px";H.style.OTransformOrigin=""+I+"px "+S+"px";H.style.color=k;H.style.textAlign=r;H.style.fontFamily=u;H.style.fontSize=w+"px";H.style.textTransform=
"uppercase";H.style.padding="12px 12px 12px 12px";H.style.fontWeight="bold";H.style.textShadow=z+"px "+z+"px "+J+"px "+t;b.commandDispatcher.addEventListener("photoLoadComplete",c);b.commandDispatcher.addEventListener("photoLoadComplete",d)}if("true"==B){var F=document.createElement("div");C.appendChild(F);F.innerHTML=O[0];F.style.webkitTransform="rotate("+T+"deg)";F.style.msTransform="rotate("+T+"deg)";F.style.MozTransform="rotate("+T+"deg)";F.style.OTransform="rotate("+T+"deg)";F.style.transform=
"rotate("+T+"deg)";F.style.transformOrigin=""+R+"px "+U+"px";F.style.webkitTransformOrigin=""+R+"px "+U+"px";F.style.MozTransformOrigin=""+R+"px "+U+"px";F.style.OTransformOrigin=""+R+"px "+U+"px";F.style.textAlign=G;F.style.fontSize=s+"px";F.style.color=x;F.style.padding="12px 12px 12px 12px";F.style.fontFamily=D;F.style.lineHeight=v+"px";F.style.textTransform="none";F.style.textShadow=A+"px "+A+"px "+V+"px "+K;b.commandDispatcher.addEventListener("photoLoadComplete",g)}}})();(function(){aJSsTemplate.JsThumbnail=function(b,a){globalPath=b.globalPath;var c=Number(b.movieWidth),d=Number(b.movieHeight),g=Number(b.topPadding),e=Number(b.bottomPadding),f=Number(b.leftPadding),i=Number(b.rightPadding),j=b.startAutoPlay,h=b.continuum,l=b.clickToAutoPlay,m=b.musicPath,q=b.musicAutoPlay,n=b.photoArray,p=b.thumbnailArray,k=b.thumWidth,r=b.thumHeight,u=b.thumbnailBorderColor,w=b.currentBorderColor,t=b.thumborder,z=b.thumSpacing,J=b.thumBox,E=0,y=aJSsTemplate.ColorConverter.hexToRGB(b.thumBoxColor),
M=r+2*t+10,L=c-f-i-48-2*J,P=0,S=0,I=parseInt((L+z)/(k+2*t+z)),N=S=0,B=document.createElement("div");a.appendChild(B);B.id="thumBody";B.style.position="absolute";B.style.visibility="hidden";B.style.top=d-e-(d-g-e)/2-(r+2*t+10)/2+"px";B.style.left=f+J+"px";B.style.width=c-f-i-2*J+"px";B.style.height=M+"px";B.style.margin="0px auto";B.style.backgroundColor="rgba("+y.r+","+y.g+","+y.b+",0.8)";0<J&&(B.style.borderRadius="5px 5px 5px 5px");var v=document.createElement("div");B.appendChild(v);v.style.position=
"absolute";v.style.background="url("+globalPath+"res/left.png)";v.style.backgroundPosition="0 0";v.style.top=M/2-20+"px";v.style.width="24px";v.style.height="40px";var O=document.createElement("div");B.appendChild(O);O.style.position="absolute";O.style.left=L+24+"px";O.style.background="url("+globalPath+"res/right.png)";O.style.backgroundPosition="0 0";O.style.top=M/2-20+"px";O.style.width="24px";O.style.height="40px";var D=document.createElement("div");a.appendChild(D);D.style.position="absolute";
D.style.display="none";D.style.background="url("+globalPath+"res/prevarrow.png)";D.style.backgroundPosition="0 0";D.style.top=d-e-(d-g-e)/2-(r+2*t+10)/2+(r+2*t+10)+"px";D.style.left=f+(c-f-i)/2-30-60+"px";D.style.width="60px";D.style.height="60px";var s=document.createElement("div");a.appendChild(s);s.style.position="absolute";s.style.display="none";s.style.top=d-e-(d-g-e)/2-(r+2*t+10)/2+(r+2*t+10)+"px";s.style.left=f+(c-f-i)/2+30+"px";s.style.background="url("+globalPath+"res/nextarrow.png)";s.style.backgroundPosition=
"0 0";s.style.width="60px";s.style.height="60px";var x=document.createElement("div");a.appendChild(x);x.style.position="absolute";x.style.backgroundImage="url("+globalPath+"res/play2.png)";x.style.top=d-e-(d-g-e)/2-(r+2*t)/2+"px";x.style.left=f+(c-f-i)/2-30+"px";x.style.width="60px";x.style.height="60px";x.style.display="block";x.style.cursor="pointer";var G=document.createElement("div");a.appendChild(G);G.style.position="absolute";G.style.backgroundImage="url("+globalPath+"res/musicPlay.png)";G.style.top=
g+"px";G.style.left=c-i-30+"px";G.style.width="30px";G.style.height="30px";G.style.display="block";G.style.cursor="pointer";var K=document.createElement("div");B.appendChild(K);K.id="showThumbnails";K.style.position="absolute";K.style.top=(r+2*t+10)/2-(r+2*t)/2+"px";K.style.left="24px";K.style.width=L+"px";K.style.height=r+2*t+"px";K.style.overflow="hidden";J=document.createElement("div");K.appendChild(J);J.id="showArea";if(b.photoCount>I){S=(L-I*(k+2*t))/(I-1);for(y=0;y<b.photoCount;y++){var A=new Image;
A.style.width=k+"px";A.style.height=r+"px";A.style.cssFloat="left";A.style.display="block";A.style.cursor="pointer";A.style.borderWidth=t+"px";A.style.borderStyle="solid";A.style.borderColor=u;A.style.marginRight=0==(y+1)%I?"0px":S+"px";A.src=globalPath+p[y];A.alt=n[y];A.index=y;P=L*Math.ceil(b.photoCount/I);J.appendChild(A)}A.style.marginRight="0px";J.style.width=P+"px";J.style.height=r+2*t+"px";var V=P,T=function(){K.scrollLeft-=L},U=function(){K.scrollLeft+=L};v.style.cursor="pointer";O.style.cursor=
"pointer";v.onmouseover=function(){v.style.backgroundPosition="100% 0"};v.onmouseout=function(){v.style.backgroundPosition="0 0"};v.onclick=function(){0==K.scrollLeft?K.scrollLeft=V:setTimeout(T,0)};O.onmouseover=function(){O.style.backgroundPosition="100% 0"};O.onmouseout=function(){O.style.backgroundPosition="0 0"};O.onclick=function(){K.scrollLeft+L==V?K.scrollLeft=0:setTimeout(U,0)}}if(b.photoCount<=I){for(y=0;y<b.photoCount;y++)A=new Image,A.style.width=k+"px",A.style.height=r+"px",A.style.display=
"block",A.style.cssFloat="left",A.style.cursor="pointer",A.style.borderWidth=t+"px",A.style.borderStyle="solid",A.style.borderColor=u,A.style.marginRight=z+"px",A.src=globalPath+p[y],A.alt=n[y],A.index=y,P+=L,J.appendChild(A);A.style.marginRight="0px";J.style.width=P+"px";J.style.height=r+2*t+"px";v.style.backgroundPosition="0 0";O.style.backgroundPosition="0 0"}D.onmouseover=function(){this.style.backgroundPosition="100% 0"};D.onmouseout=function(){this.style.backgroundPosition="0 0"};D.onclick=
function(){"true"==l?(0<E?b.Show(E-1,1):(b.Show(b.photoCount-1,1),E=0),x.style.display="none",D.style.left=f+(c-f-i)/2-60+"px",s.style.left=f+(c-f-i)/2+"px"):(b.Previous(),x.style.display="block",D.style.left=f+(c-f-i)/2-30-60+"px",s.style.left=f+(c-f-i)/2+30+"px")};s.onmouseover=function(){this.style.backgroundPosition="100% 0"};s.onmouseout=function(){this.style.backgroundPosition="0 0"};s.onclick=function(){"true"==l?(E<b.photoCount-1?b.Show(E+1,1):(b.Show(0,1),E=0),x.style.display="none",D.style.left=
f+(c-f-i)/2-60+"px",s.style.left=f+(c-f-i)/2+"px"):(b.Next(),x.style.display="block",D.style.left=f+(c-f-i)/2-30-60+"px",s.style.left=f+(c-f-i)/2+30+"px")};a.addEventListener("mouseover",function(){s.style.display="block";D.style.display="block";B.style.visibility="";x.style.top=d-e-(d-g-e)/2-(r+2*t+10)/2+(r+2*t+10)+"px"});a.addEventListener("mouseout",function(){s.style.display="none";D.style.display="none";B.style.visibility="hidden";x.style.top=d-e-(d-g-e)/2-(r+2*t+10)/2+"px"});var R=J.getElementsByTagName("img");
R[0].style.borderColor=w;for(y=0;y<b.photoCount;y++)R[y].onmouseover=function(){this.style.borderColor=w},R[y].onclick=function(){for(var a=0;a<b.photoCount;a++)R[a].style.borderColor=u;R[this.index].style.borderColor=w;E=this.index;"true"==l?(b.Show(E,1),x.style.display="none",D.style.left=f+(c-f-i)/2-60+"px",s.style.left=f+(c-f-i)/2+"px"):(b.Show(E,0),x.style.display="block",D.style.left=f+(c-f-i)/2-30-60+"px",s.style.left=f+(c-f-i)/2+30+"px")},R[y].onmouseout=function(){E!==this.index&&(this.style.borderColor=
u)};b.commandDispatcher.addEventListener("photoLoadComplete",function(a){for(var g=0;g<b.photoCount;g++)R[g].style.borderColor=u;R[a.index].style.borderColor=w;E=a.index;E>=b.photoCount-1&&("false"==h&&"false"==b.randomPlayingPhotos)&&(x.style.display="block",D.style.left=f+(c-f-i)/2-30-60+"px",s.style.left=f+(c-f-i)/2+30+"px");N=parseInt(E/I);K.scrollLeft=L*N});"true"==j?(x.style.display="none",D.style.left=f+(c-f-i)/2-60+"px",s.style.left=f+(c-f-i)/2+"px"):(x.style.display="block",D.style.left=
f+(c-f-i)/2-30-60+"px",s.style.left=f+(c-f-i)/2+30+"px");x.style.cursor="pointer";x.onmouseover=function(){x.style.backgroundImage="url("+globalPath+"res/play1.png)"};x.onmouseout=function(){x.style.backgroundImage="url("+globalPath+"res/play2.png)"};x.onclick=function(){b.Play();x.style.display="none";D.style.left=f+(c-f-i)/2-60+"px";s.style.left=f+(c-f-i)/2+"px"};var C=0;""==m?G.style.display="none":"true"==q?(G.style.backgroundImage="url("+globalPath+"res/musicPlay.png)",G.onclick=function(){0==
C?(G.style.backgroundImage="url("+globalPath+"res/musicStop.png)",b.MusicPause(),C=1):(G.style.backgroundImage="url("+globalPath+"res/musicPlay.png)",b.MusicPlay(),C=0)}):(G.style.backgroundImage="url("+globalPath+"res/musicStop.png)",G.onclick=function(){0==C?(G.style.backgroundImage="url("+globalPath+"res/musicPlay.png)",b.MusicPlay(),C=1):(G.style.backgroundImage="url("+globalPath+"res/musicStop.png)",b.MusicPause(),C=0)});b.commandDispatcher.addEventListener("soundPlayComplete",function(){G.style.backgroundImage=
"url("+globalPath+"res/musicStop.png)";C=1});b.commandDispatcher.addEventListener("videoPlayEnded",function(){x.style.display="none";D.style.left=f+(c-f-i)/2-60+"px";s.style.left=f+(c-f-i)/2+"px"})}})();(function(){aJSsTemplate.JsMenu=function(b,a){var c=b.movieWidth,d=b.movieHeight,g=b.bottomPadding,e=b.rightPadding,f=b.copyright;if(null==b.anvsoftMenu||"anvsoftPFMTheme"!=f&&"anvsoftUSSTheme"!=f&&"anvsoftHSMTheme"!=f){var i;switch(f){case "anvsoftPFMTheme":i="Photo Slideshow Maker";break;case "anvsoftUSSTheme":i="Ultra Slideshow";break;case "anvsoftHSMTheme":i="HTML5 Slideshow Maker";break;case "anvsoftSWWTheme":i="SlideWow";break;default:i="Anvsoft Photo Slideshow"}var j=document.createElement("div");
j.style.position="absolute";j.style.cursor="pointer";j.style.padding="5px";j.style.backgroundColor="rgba(0, 0, 0, 0.3)";j.style.textShadow="1px 1px 1px #000";j.style.borderRadius="5px";j.style.color="#FFF";j.style.font="normal normal 10px/12px verdana,tahoma,arial,sans-serif";j.textContent=i;a.appendChild(j);j.style.left=c-e-j.scrollWidth-5+"px";j.style.top=d-g-j.scrollHeight-5+"px";j.onclick=function(){switch(f){case "anvsoftPFMTheme":window.open("http://www.photo-flash-maker.com/","_self");break;
case "anvsoftUSSTheme":window.open("http://www.ultraslideshow.com/","_self");break;case "anvsoftHSMTheme":window.open("http://www.html5-slideshow-maker.com/","_self");break;case "anvsoftSWWTheme":window.open("http://www.slidewow.com/","_self");break;default:window.open("http://www.anvsoft.com/","_self")}}}}})();(function(){aJSsTemplate.Main=function(b){var b=new aJSsTemplate.ExternalInterface(b),a=b.container;new aJSsTemplate.JsBackground(b,a);new aJSsTemplate.JsText(b,a);new aJSsTemplate.JsThumbnail(b,a);new aJSsTemplate.JsMenu(b,a)}})();(function(b){function a(a,c,b){for(var d=a.length,j=c.length,h,l,m,q,n,p,k=0,r=0;r<d;r++){h=a[r];l=a[r<d-1?r+1:0];k=h.y-l.y;h=l.x-h.x;l=Math.sqrt(k*k+h*h);k/=l;h/=l;l=m=a[0].x*k+a[0].y*h;for(var u=1;u<d;u++)p=a[u].x*k+a[u].y*h,p>m?m=p:p<l&&(l=p);q=n=c[0].x*k+c[0].y*h;for(u=1;u<j;u++)p=c[u].x*k+c[u].y*h,p>n?n=p:p<q&&(q=p);l<q?(l=q-m,k=-k,h=-h):l-=n;if(0<=l)return!1;l>b.overlap&&(b.overlap=l,b.normal.x=k,b.normal.y=h)}return b}var c=b.Quark=b.Quark||{version:"1.0.0",global:b},d=function(){};c.inherit=
function(a,c){d.prototype=c.prototype;a.superClass=c.prototype;a.prototype=new d;a.prototype.constructor=a};c.merge=function(a,c,b){for(var d in c)if(!b||a.hasOwnProperty(d)||void 0!==a[d])a[d]=c[d];return a};c.delegate=function(a,c){var d=c||b;if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.concat.apply(i,arguments);return a.apply(d,c)}}return function(){return a.apply(d,arguments)}};c.getDOM=function(a){return document.getElementById(a)};
c.createDOM=function(a,c){var b=document.createElement(a),d;for(d in c){var j=c[d];if("style"==d)for(var h in j)b.style[h]=j[h];else b[d]=j}return b};c.use=function(a){for(var a=a.split("."),c=b,d=0;d<a.length;d++)var i=a[d],c=c[i]||(c[i]={});return c};(function(a){var c=a.ua=navigator.userAgent;a.isWebKit=/webkit/i.test(c);a.isMozilla=/mozilla/i.test(c);a.isIE=/msie/i.test(c);a.isFirefox=/firefox/i.test(c);a.isChrome=/chrome/i.test(c);a.isSafari=/safari/i.test(c)&&!this.isChrome;a.isMobile=/mobile/i.test(c);
a.isOpera=/opera/i.test(c);a.isIOS=/ios/i.test(c);a.isIpad=/ipad/i.test(c);a.isIpod=/ipod/i.test(c);a.isIphone=/iphone/i.test(c)&&!this.isIpod;a.isAndroid=/android/i.test(c);a.supportStorage="localStorage"in b;a.supportOrientation="orientation"in b;a.supportDeviceMotion="ondevicemotion"in b;a.supportTouch="ontouchstart"in b;a.supportCanvas=null!=document.createElement("canvas").getContext;a.cssPrefix=a.isWebKit?"webkit":a.isFirefox?"Moz":a.isOpera?"O":a.isIE?"ms":""})(c);c.getElementOffset=function(a){for(var c=
a.offsetLeft,b=a.offsetTop;(a=a.offsetParent)&&a!=document.body&&a!=document;)c+=a.offsetLeft,b+=a.offsetTop;return{left:c,top:b}};c.createDOMDrawable=function(a,b){var d=a.tagName||"div",i=b.image,j=a.width||i&&i.width,h=a.height||i&&i.height,l=c.createDOM(d);a.id&&(l.id=a.id);l.style.position="absolute";l.style.left=(a.left||0)+"px";l.style.top=(a.top||0)+"px";l.style.width=j+"px";l.style.height=h+"px";if("canvas"==d)l.width=j,l.height=h,i&&(d=l.getContext("2d"),j=b.rect||[0,0,j,h],d.drawImage(i,
j[0],j[1],j[2],j[3],a.x||0,a.y||0,a.width||j[2],a.height||j[3]));else if(l.style.opacity=void 0!=a.alpha?a.alpha:1,l.style.overflow="hidden",i&&i.src)l.style.backgroundImage="url("+i.src+")",l.style.backgroundPosition=-(a.rectX||0)+"px "+-(a.rectY||0)+"px";return l};c.DEG_TO_RAD=Math.PI/180;c.RAD_TO_DEG=180/Math.PI;c.hitTestPoint=function(a,c,b,d){var a=a.getBounds(),j=a.length,h=c>=a.x&&c<=a.x+a.width&&b>=a.y&&b<=a.y+a.height;if(h&&d){for(var d=0,h=!1,l,m,q,n,p=0;p<j;p++){var k=a[p],r=a[(p+1)%j];
k.y==r.y&&b==k.y&&(k.x>r.x?(l=r.x,m=k.x):(l=k.x,m=r.x),c>=l&&c<=m)?h=!0:(k.y>r.y?(q=r.y,n=k.y):(q=k.y,n=r.y),b<q||b>n||(k=(b-k.y)*(r.x-k.x)/(r.y-k.y)+k.x,k>c?d++:k==c&&(h=!0)))}return h?0:1==d%2?1:-1}return h?1:-1};c.hitTestObject=function(a,b,d){a=a.getBounds();b=b.getBounds();return(a=a.x<=b.x+b.width&&b.x<=a.x+a.width&&a.y<=b.y+b.height&&b.y<=a.y+a.height)&&d?(a=c.polygonCollision(b,b),!1!==a):a};c.polygonCollision=function(c,b){var d=a(c,b,{overlap:-Infinity,normal:{x:0,y:0}});return d?a(b,c,
d):!1};c.toString=function(){return"Quark"};c.trace=function(){var a=Array.prototype.slice.call(arguments);"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(a.join(" "))};void 0==b.Q&&(b.Q=c);void 0==b.trace&&(b.trace=c.trace)})(window);
(function(){var b=Quark.Matrix=function(a,c,b,g,e,f){this.a=a;this.b=c;this.c=b;this.d=g;this.tx=e;this.ty=f};b.prototype.concat=function(a){var c=this.a,b=this.c,g=this.tx;this.a=c*a.a+this.b*a.c;this.b=c*a.b+this.b*a.d;this.c=b*a.a+this.d*a.c;this.d=b*a.b+this.d*a.d;this.tx=g*a.a+this.ty*a.c+a.tx;this.ty=g*a.b+this.ty*a.d+a.ty;return this};b.prototype.rotate=function(a){var c=Math.cos(a),a=Math.sin(a),b=this.a,g=this.c,e=this.tx;this.a=b*c-this.b*a;this.b=b*a+this.b*c;this.c=g*c-this.d*a;this.d=
g*a+this.d*c;this.tx=e*c-this.ty*a;this.ty=e*a+this.ty*c;return this};b.prototype.scale=function(a,c){this.a*=a;this.d*=c;this.tx*=a;this.ty*=c;return this};b.prototype.translate=function(a,c){this.tx+=a;this.ty+=c;return this};b.prototype.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};b.prototype.invert=function(){var a=this.a,c=this.b,b=this.c,g=this.d,e=this.tx,f=a*g-c*b;this.a=g/f;this.b=-c/f;this.c=-b/f;this.d=a/f;this.tx=(b*this.ty-g*e)/f;this.ty=-(a*this.ty-
c*e)/f;return this};b.prototype.transformPoint=function(a,c,b){var g=a.x*this.a+a.y*this.c+this.tx,e=a.x*this.b+a.y*this.d+this.ty;c&&(g=g+0.5>>0,e=e+0.5>>0);if(b)return{x:g,y:e};a.x=g;a.y=e;return a};b.prototype.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};b.prototype.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}})();
(function(){var b=Quark.Rectangle=function(a,c,b,g){this.x=a;this.y=c;this.width=b;this.height=g};b.prototype.intersects=function(a){return this.x<=a.x+a.width&&a.x<=this.x+this.width&&this.y<=a.y+a.height&&a.y<=this.y+this.height};b.prototype.intersection=function(a){var c=Math.max(this.x,a.x),d=Math.min(this.x+this.width,a.x+a.width);if(c<=d){var g=Math.max(this.y,a.y),a=Math.min(this.y+this.height,a.y+a.height);if(g<=a)return new b(c,g,d-c,a-g)}return null};b.prototype.union=function(a,c){var d=
Math.max(this.x+this.width,a.x+a.width),g=Math.max(this.y+this.height,a.y+a.height),e=Math.min(this.x,a.x),f=Math.min(this.y,a.y),d=d-e,g=g-f;if(c)return new b(e,f,d,g);this.x=e;this.y=f;this.width=d;this.height=g};b.prototype.containsPoint=function(a,c){return this.x<=a&&a<=this.x+this.width&&this.y<=c&&c<=this.y+this.height};b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)};b.prototype.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+
this.height+")"}})();
(function(){Quark.KEY={MOUSE_LEFT:1,MOUSE_MID:2,MOUSE_RIGHT:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,
CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123}})();
(function(){var b=Quark.EventManager=function(){this.keyState={};this._evtHandlers={}};b.prototype.registerStage=function(a,c,b,g){this.register(a.context.canvas,c,{host:a,func:a._onEvent},b,g)};b.prototype.unregisterStage=function(a,c){this.unregister(a.context.canvas,c,a.onEvent)};b.prototype.register=function(a,c,b,g,e){if(null==b||"function"==typeof b)b={host:null,func:b};for(var f={prevent:g,stop:e},i=this,g=function(a){i._onEvent(a,f,b)},e=0;e<c.length;e++){for(var j=c[e],h=this._evtHandlers[j]||
(this._evtHandlers[j]=[]),l=0,m=!1;l<h.length;l++){var q=h[l];if(q.target==a&&q.callback.func==b.func){trace("duplicate callback");m=!0;break}}m||(h.push({target:a,callback:b,handler:g}),a.addEventListener(j,g,!1))}};b.prototype.unregister=function(a,c,b){for(var g=0;g<c.length;g++)for(var e=c[g],f=this._evtHandlers[e],i=0;i<f.length;i++){var j=f[i];if(j.target==a&&(j.callback.func==b||null==b)){a.removeEventListener(e,j.handler);f.splice(i,1);break}}};b.prototype._onEvent=function(a,c,d){var g=a,
e=a.type;0==a.type.indexOf("touch")&&(g=a.touches&&0<a.touches.length?a.touches[0]:a.changedTouches&&0<a.changedTouches.length?a.changedTouches[0]:a,g.type=e);if("keydown"==e||"keyup"==e||"keypress"==e)this.keyState[a.keyCode]=e;null!=d.func&&d.func.call(d.host,g);b.stop(a,!c.prevent,!c.stop)};b.stop=function(a,c,b){c||a.preventDefault();b||(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation())}})();
(function(){var b=Quark.EventDispatcher=function(){this._eventMap={}};b.prototype.addEventListener=function(a,c){var b=this._eventMap[a];null==b&&(b=this._eventMap[a]=[]);return-1==b.indexOf(c)?(b.push(c),!0):!1};b.prototype.removeEventListener=function(a,c){var b=this._eventMap[a];if(null==b)return!1;for(var g=0;g<b.length;g++)if(b[g]===c)return b.splice(g,1),0==b.length&&delete this._eventMap[a],!0;return!1};b.prototype.removeEventListenerByType=function(a){return null!=this._eventMap[a]?(delete this._eventMap[a],
!0):!1};b.prototype.removeAllEventListeners=function(){this._eventMap={}};b.prototype.dispatchEvent=function(a){var c=this._eventMap[a.type];if(null==c)return!1;a.target||(a.target=this);for(var c=c.slice(),b=0;b<c.length;b++){var g=c[b];"function"==typeof g&&g.call(this,a)}return!0};b.prototype.hasEventListener=function(a){a=this._eventMap[a];return null!=a&&0<a.length};b.prototype.on=b.prototype.addEventListener;b.prototype.un=b.prototype.removeEventListener;b.prototype.fire=b.prototype.dispatchEvent})();
(function(){var b=Quark.UIDUtil={_counter:0};b.createUID=function(a){var c=a.charCodeAt(a.length-1);48<=c&&57>=c&&(a+="_");return a+this._counter++};b.displayObjectToString=function(a){for(var c;null!=a;a=a.parent){var b=null!=a.id?a.id:a.name;c=null==c?b:b+"."+c;if(a==a.parent)break}return c}})();
(function(){function b(a,c){for(var d=0;d<a.children.length;d++){var i=a.children[d];if(i.children)b(i,c);else if(null!=c){i=i.getBounds();c.globalAlpha=0.2;c.beginPath();var j=i[0];c.moveTo(j.x-0.5,j.y-0.5);for(var h=1;h<i.length;h++){var l=i[h];c.lineTo(l.x-0.5,l.y-0.5)}c.lineTo(j.x-0.5,j.y-0.5);c.stroke();c.closePath();c.globalAlpha=0.5;c.beginPath();c.rect((i.x>>0)-0.5,(i.y>>0)-0.5,i.width>>0,i.height>>0);c.stroke();c.closePath()}else i.drawable.domDrawable&&(i.drawable.domDrawable.style.border=
"1px solid #f00")}}Quark.getUrlParams=function(){var a,c={},b=window.location.href,d=b.indexOf("?");if(0<d){b=b.substring(d+1).split("&");for(d=0;a=b[d];d++)a=b[d]=a.split("="),c[a[0]]=1<a.length?a[1]:!0}return c};var a=document.getElementsByTagName("head")[0],c=a.getElementsByTagName("meta"),d=0<c.length?c[c.length-1].nextSibling:a.childNodes[0];Quark.addMeta=function(c){var b=document.createElement("meta"),f;for(f in c)b.setAttribute(f,c[f]);a.insertBefore(b,d)};Quark.toggleDebugRect=function(a){a.debug=
!a.debug;a._render=a.debug?function(c){null!=c.clear&&c.clear(0,0,a.width,a.height);Quark.Stage.superClass._render.call(a,c);c=a.context.context;null!=c&&(c.save(),c.lineWidth=1,c.strokeStyle="#f00",c.globalAlpha=0.5);b(a,c);null!=c&&c.restore()}:function(c){null!=c.clear&&c.clear(0,0,a.width,a.height);Quark.Stage.superClass._render.call(a,c)}}})();
(function(){var b=Quark.Timer=function(a){this.interval=a||50;this.paused=!1;this.info={lastTime:0,currentTime:0,deltaTime:0,realDeltaTime:0};this._startTime=0;this._intervalID=null;this._listeners=[]};b.prototype.start=function(){if(null==this._intervalID){this._startTime=this.info.lastTime=this.info.currentTime=Date.now();var a=this,c=function(){a._intervalID=setTimeout(c,a.interval);a._run()};c()}};b.prototype.stop=function(){clearTimeout(this._intervalID);this._intervalID=null;this._startTime=
0};b.prototype.pause=function(){this.paused=!0};b.prototype.resume=function(){this.paused=!1};b.prototype._run=function(){if(!this.paused){var a=this.info,c=a.currentTime=Date.now();a.deltaTime=a.realDeltaTime=c-a.lastTime;for(var b=0,g=this._listeners.length,e,f;b<g;b++)e=this._listeners[b],f=e.__runTime||0,0==f?e.step(this.info):c>f&&(e.step(this.info),this._listeners.splice(b,1),b--,g--);a.lastTime=c}};b.prototype.delay=function(a,c){this.addListener({step:a,__runTime:Date.now()+c})};b.prototype.addListener=
function(a){if(null==a||"function"!=typeof a.step)throw"Timer Error: The listener object must implement a step() method!";this._listeners.push(a)};b.prototype.removeListener=function(a){a=this._listeners.indexOf(a);-1<a&&this._listeners.splice(a,1)}})();
(function(){var b=Quark.ImageLoader=function(a){b.superClass.constructor.call(this);this.loading=!1;this._index=-1;this._loaded=0;this._images={};this._totalSize=0;this._loadHandler=Quark.delegate(this._loadHandler,this);this._addSource(a)};Quark.inherit(b,Quark.EventDispatcher);b.prototype.load=function(a){this._addSource(a);this.loading||this._loadNext()};b.prototype._addSource=function(a){if(a){for(var a=a instanceof Array?a:[a],c=0;c<a.length;c++)this._totalSize+=a[c].size||0;this._source=this._source?
this._source.concat(a):a}};b.prototype._loadNext=function(){this._index++;if(this._index>=this._source.length)this.dispatchEvent({type:"complete",target:this,images:this._images}),this._source=[],this.loading=!1,this._index=-1;else{var a=new Image;a.onload=this._loadHandler;a.src=this._source[this._index].src;this.loading=!0}};b.prototype._loadHandler=function(a){this._loaded++;var c=this._source[this._index];c.image=a.target;this._images[c.id||c.src]=c;this.dispatchEvent({type:"loaded",target:this,
image:c});this._loadNext()};b.prototype.getLoaded=function(){return this._loaded};b.prototype.getTotal=function(){return this._source.length};b.prototype.getLoadedSize=function(){var a=0,c;for(c in this._images)a+=this._images[c].size||0;return a};b.prototype.getTotalSize=function(){return this._totalSize}})();
(function(){var b=Quark.Tween=function(c,b,g){this.target=c;this.delay=this.time=0;this.reverse=this.loop=this.paused=!1;this.interval=0;this.ease=a.Linear.EaseNone;this.onComplete=this.onUpdate=this.onStart=this.next=null;this._oldProps={};this._newProps={};this._deltaProps={};this._pausedStartTime=this._pausedTime=this._lastTime=this._startTime=0;this._reverseFlag=1;this._frameCount=this._frameTotal=0;for(var e in b){var f=c[e],i=b[e];void 0!==f&&"number"==typeof f&&"number"==typeof i&&(this._oldProps[e]=
f,this._newProps[e]=i,this._deltaProps[e]=i-f)}for(e in g)this[e]=g[e]};b.prototype.setProps=function(a,b){for(var g in a)this.target[g]=this._oldProps[g]=a[g];for(g in b)this._newProps[g]=b[g],this._deltaProps[g]=b[g]-this.target[g]};b.prototype._init=function(){this._startTime=Date.now()+this.delay;this._pausedTime=0;0<this.interval&&(this._frameTotal=Math.round(this.time/this.interval));b.add(this)};b.prototype.start=function(){this._init();this.paused=!1};b.prototype.stop=function(){b.remove(this)};
b.prototype.pause=function(){this.paused=!0;this._pausedStartTime=Date.now()};b.prototype.resume=function(){this.paused=!1;this._pausedTime+=Date.now()-this._pausedStartTime};b.prototype._update=function(){if(!this.paused){var a=Date.now(),d=a-this._startTime-this._pausedTime;if(!(0>d)){if(0==this._lastTime&&null!=this.onStart)this.onStart(this);this._lastTime=a;a=0<this._frameTotal?++this._frameCount/this._frameTotal:d/this.time;1<a&&(a=1);var d=this.ease(a),g;for(g in this._oldProps)this.target[g]=
this._oldProps[g]+this._deltaProps[g]*this._reverseFlag*d;if(null!=this.onUpdate)this.onUpdate(this,d);if(1<=a){if(this.reverse){if(g=this._oldProps,this._oldProps=this._newProps,this._newProps=g,this._startTime=Date.now(),this._frameCount=0,this._reverseFlag*=-1,!this.loop)this.reverse=!1}else if(this.loop){for(g in this._oldProps)this.target[g]=this._oldProps[g];this._startTime=Date.now();this._frameCount=0}else if(b.remove(this),g=this.next,null!=g&&(g instanceof b?(a=g,g=null):a=g.shift(),null!=
a))a.next=g,a.start();if(null!=this.onComplete)this.onComplete(this)}}}};b._tweens=[];b.step=function(){for(var a=this._tweens,b=a.length;0<=--b;)a[b]._update()};b.add=function(a){-1==this._tweens.indexOf(a)&&this._tweens.push(a);return this};b.remove=function(a){var b=this._tweens,a=b.indexOf(a);-1<a&&b.splice(a,1);return this};b.to=function(a,d,g){a=new b(a,d,g);a._init();return a};b.from=function(a,d,g){d=new b(a,d,g);g=d._oldProps;d._oldProps=d._newProps;d._newProps=g;d._reverseFlag=-1;for(var e in d._oldProps)a[e]=
d._oldProps[e];d._init();return d};var a=Quark.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};a.Linear.EaseNone=function(a){return a};a.Quadratic.EaseIn=function(a){return a*a};a.Quadratic.EaseOut=function(a){return-a*(a-2)};a.Quadratic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)};a.Cubic.EaseIn=function(a){return a*a*a};a.Cubic.EaseOut=function(a){return--a*a*a+1};a.Cubic.EaseInOut=function(a){return 1>
(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)};a.Quartic.EaseIn=function(a){return a*a*a*a};a.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};a.Quartic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};a.Quintic.EaseIn=function(a){return a*a*a*a*a};a.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};a.Quintic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};a.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};a.Sinusoidal.EaseOut=function(a){return Math.sin(a*
Math.PI/2)};a.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};a.Exponential.EaseIn=function(a){return 0==a?0:Math.pow(2,10*(a-1))};a.Exponential.EaseOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};a.Exponential.EaseInOut=function(a){return 0==a?0:1==a?1:1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};a.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};a.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};a.Circular.EaseInOut=function(a){return 1>
(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};a.Elastic.EaseIn=function(a){var b,g=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!g||1>g?(g=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e))};a.Elastic.EaseOut=function(a){var b,g=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!g||1>g?(g=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/g);return g*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/e)+1};a.Elastic.EaseInOut=function(a){var b,
g=0.1,e=0.4;if(0==a)return 0;if(1==a)return 1;e||(e=0.3);!g||1>g?(g=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/g);return 1>(a*=2)?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e):0.5*g*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/e)+1};a.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};a.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};a.Back.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};a.Bounce.EaseIn=function(b){return 1-
a.Bounce.EaseOut(1-b)};a.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};a.Bounce.EaseInOut=function(b){return 0.5>b?0.5*a.Bounce.EaseIn(2*b):0.5*a.Bounce.EaseOut(2*b-1)+0.5}})();
(function(){var b=Quark.Audio=function(a,c,d,g){b.superClass.constructor.call(this);this.src=a;this.autoPlay=c&&d;this.loop=g;this._playing=this._loaded=!1;this._evtHandler=Quark.delegate(this._evtHandler,this);this._element=document.createElement("audio");this._element.preload=c;a=a.substr(0,a.lastIndexOf("."));d=document.createElement("source");this._element.canPlayType("audio/mpeg")?(d.type="audio/mpeg",d.src=a+".mp3"):(d.type="audio/ogg",d.src=a+".ogg");this._element.appendChild(d);c&&this.load()};
Quark.inherit(b,Quark.EventDispatcher);b.prototype.load=function(){this._element.addEventListener("progress",this._evtHandler,!1);this._element.addEventListener("ended",this._evtHandler,!1);this._element.addEventListener("error",this._evtHandler,!1);try{this._element.load()}catch(a){trace(a)}this.progressCheck=setTimeout(function(){b._element.removeEventListener("progress",b._evtHandler);b._element.removeEventListener("error",b._evtHandler);b._loaded=!0;b.dispatchEvent({type:"loaded",target:b});b.autoPlay&&
b.play();clearTimeout(b.progressCheck);b=b.progressCheck=null},1E3);var b=this};b.prototype._evtHandler=function(a){clearTimeout(this.progressCheck);if("progress"==a.type){var b=0,d=0,g=a.target.buffered;if(g&&0<g.length)for(b=g.length-1;0<=b;b--)d=g.end(b)-g.start(b);if(1<=d/a.target.duration||isNaN(a.target.duration))this._element.removeEventListener("progress",this._evtHandler),this._element.removeEventListener("error",this._evtHandler),this._loaded=!0,this.dispatchEvent({type:"loaded",target:this}),
this.autoPlay&&this.play()}else"ended"==a.type?(this.dispatchEvent({type:"ended",target:this}),this.loop?this.play():this._playing=!1):"error"==a.type&&trace("Quark.Audio Error: "+a.target.src)};b.prototype.play=function(){this._loaded?(this._element.play(),this._playing=!0):(this.autoPlay=!0,this.load())};b.prototype.stop=function(){this._playing&&(this._element.pause(),this._playing=!1)};b.prototype.loaded=function(){return this._loaded};b.prototype.playing=function(){return this._playing}})();
(function(){var b=Quark.Drawable=function(a,b){this.domDrawable=this.rawDrawable=null;this.set(a,b)};b.prototype.get=function(a,b){if(null==b||null!=b.canvas.getContext)return this.rawDrawable;null==this.domDrawable&&(this.domDrawable=Quark.createDOMDrawable(a,{image:this.rawDrawable}));return this.domDrawable};b.prototype.set=function(a,b){if(null==a?0:a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement)this.rawDrawable=a;!0===b?this.domDrawable=a:this.domDrawable&&
(this.domDrawable.style.backgroundImage="url("+this.rawDrawable.src+")")}})();
(function(){var b=Quark.DisplayObject=function(a){this.id=Quark.UIDUtil.createUID("DisplayObject");this.name=null;this.height=this.width=this.regY=this.regX=this.y=this.x=0;this.scaleY=this.scaleX=this.alpha=1;this.rotation=0;this.transformEnabled=this.eventEnabled=this.visible=!0;this.useHandCursor=!1;this.context=this.parent=this.drawable=this.polyArea=null;this._depth=0;this._lastState={};this._stateList="x y regX regY width height alpha scaleX scaleY rotation visible _depth".split(" ");Quark.merge(this,
a,!0);a.mixin&&Quark.merge(this,a.mixin,!1)};b.prototype.setDrawable=function(a){null==this.drawable?this.drawable=new Quark.Drawable(a):this.drawable.rawDrawable!=a&&this.drawable.set(a)};b.prototype.getDrawable=function(a){return this.drawable&&this.drawable.get(this,a)};b.prototype._update=function(a){this.update(a)};b.prototype.update=function(){};b.prototype._render=function(a){a=this.context||a;!this.visible||0>=this.alpha?(null!=a.hide&&a.hide(this),this.saveState(["visible","alpha"])):(a.startDraw(),
a.transform(this),this.render(a),a.endDraw(),this.saveState())};b.prototype.render=function(a){a.draw(this,0,0,this.width,this.height,0,0,this.width,this.height)};b.prototype._onEvent=function(a){if(null!=this.onEvent)this.onEvent(a)};b.prototype.onEvent=null;b.prototype.saveState=function(a){for(var a=a||this._stateList,b=this._lastState,d=0,g=a.length;d<g;d++){var e=a[d];b["last"+e]=this[e]}};b.prototype.getState=function(a){return this._lastState["last"+a]};b.prototype.propChanged=function(){for(var a=
0<arguments.length?arguments:this._stateList,b=0,d=a.length;b<d;b++){var g=a[b];if(this._lastState["last"+g]!=this[g])return!0}return!1};b.prototype.hitTestPoint=function(a,b,d){return Quark.hitTestPoint(this,a,b,d)};b.prototype.hitTestObject=function(a,b){return Quark.hitTestObject(this,a,b)};b.prototype.localToGlobal=function(a,b){var d=this.getConcatenatedMatrix();return{x:d.tx+a,y:d.ty+b}};b.prototype.globalToLocal=function(a,b){var d=this.getConcatenatedMatrix().invert();return{x:d.tx+a,y:d.ty+
b}};b.prototype.localToTarget=function(a,b,d){a=this.localToGlobal(a,b);return d.globalToLocal(a.x,a.y)};b.prototype.getConcatenatedMatrix=function(a){var b=new Quark.Matrix(1,0,0,1,0,0);if(a==this)return b;for(var d=this;null!=d.parent&&d.parent!=a;d=d.parent){var g=1,e=0;0!=d.rotation%360&&(e=d.rotation*Quark.DEG_TO_RAD,g=Math.cos(e),e=Math.sin(e));0!=d.regX&&(b.tx-=d.regX);0!=d.regY&&(b.ty-=d.regY);b.concat(new Quark.Matrix(g*d.scaleX,e*d.scaleX,-e*d.scaleY,g*d.scaleY,d.x,d.y))}return b};b.prototype.getBounds=
function(){var a=this.width,b=this.height,d=this.getConcatenatedMatrix(),a=this.polyArea||[{x:0,y:0},{x:a,y:0},{x:a,y:b},{x:0,y:b}],b=[],g=a.length,e,f,i,j,h;e=d.transformPoint(a[0],!0,!0);f=i=e.x;j=h=e.y;b[0]=e;for(var l=1;l<g;l++)e=d.transformPoint(a[l],!0,!0),f>e.x?f=e.x:i<e.x&&(i=e.x),j>e.y?j=e.y:h<e.y&&(h=e.y),b[l]=e;b.x=f;b.y=j;b.width=i-f;b.height=h-j;return b};b.prototype.getCurrentWidth=function(){return Math.abs(this.width*this.scaleX)};b.prototype.getCurrentHeight=function(){return Math.abs(this.height*
this.scaleY)};b.prototype.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof Quark.Stage?a:null};b.prototype.toString=function(){return Quark.UIDUtil.displayObjectToString(this)}})();
(function(){var b=Quark.DisplayObjectContainer=function(a){this.eventChildren=!0;this.autoSize=!1;this.children=[];a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("DisplayObjectContainer");this.setDrawable(a.drawable||a.image||null);if(a.children)for(var c=0;c<a.children.length;c++)this.addChild(a.children[c])};Quark.inherit(b,Quark.DisplayObject);b.prototype.addChildAt=function(a,b){0>b?b=0:b>this.children.length&&(b=this.children.length);var d=this.getChildIndex(a);
if(-1!=d){if(d==b)return this;this.children.splice(d,1)}else a.parent&&a.parent.removeChild(a);this.children.splice(b,0,a);a.parent=this;if(this.autoSize){var d=new Quark.Rectangle(0,0,this.rectWidth||this.width,this.rectHeight||this.height),g=new Quark.Rectangle(a.x,a.y,a.rectWidth||a.width,a.rectHeight||a.height);d.union(g);this.width=d.width;this.height=d.height}return this};b.prototype.addChild=function(a){for(var b=this.children.length,d=0;d<arguments.length;d++)a=arguments[d],this.addChildAt(a,
b+d);return this};b.prototype.removeChildAt=function(a){if(0>a||a>=this.children.length)return!1;var b=this.children[a];null!=b&&(this.getStage().context.remove(b),b.parent=null);this.children.splice(a,1);return!0};b.prototype.removeChild=function(a){return this.removeChildAt(this.children.indexOf(a))};b.prototype.removeAllChildren=function(){for(;0<this.children.length;)this.removeChildAt(0)};b.prototype.getChildAt=function(a){return 0>a||a>=this.children.length?null:this.children[a]};b.prototype.getChildIndex=
function(a){return this.children.indexOf(a)};b.prototype.setChildIndex=function(a,b){if(a.parent==this){var d=this.children.indexOf(a);b!=d&&(this.children.splice(d,1),this.children.splice(b,0,a))}};b.prototype.swapChildren=function(a,b){var d=this.getChildIndex(a),g=this.getChildIndex(b);this.children[d]=b;this.children[g]=a};b.prototype.swapChildrenAt=function(a,b){var d=this.getChildAt(a),g=this.getChildAt(b);this.children[a]=g;this.children[b]=d};b.prototype.getChildById=function(a){for(var b=
0,d=this.children.length;b<d;b++){var g=this.children[b];if(g.id==a)return g}return null};b.prototype.removeChildById=function(a){for(var b=0,d=this.children.length;b<d;b++)if(this.children[b].id==a)return this.removeChildAt(b);return null};b.prototype.sortChildren=function(a){var b=a;"string"==typeof b&&(b=function(a,g){return g[b]-a[b]});this.children.sort(b)};b.prototype.contains=function(a){return-1!=this.getChildIndex(a)};b.prototype.getNumChildren=function(){return this.children.length};b.prototype._update=
function(a){null!=this.update&&this.update(a);for(var b=this.children.slice(0),d=0,g=b.length;d<g;d++){var e=b[d];e._depth=d+1;e._update(a)}};b.prototype.render=function(a){b.superClass.render.call(this,a);for(var c=0,d=this.children.length;c<d;c++)this.children[c]._render(a)};b.prototype.getObjectUnderPoint=function(a,b,d,g){if(g)var e=[];for(var f=this.children.length-1;0<=f;f--){var i=this.children[f];if(!(null==i||!i.eventEnabled&&void 0==i.children||!i.visible||0>=i.alpha))if(void 0!=i.children&&
i.eventChildren&&0<i.getNumChildren()){var j=i.getObjectUnderPoint(a,b,d,g);if(j)if(g)0<j.length&&(e=e.concat(j));else return j;else if(0<=i.hitTestPoint(a,b,d))if(g)e.push(i);else return i}else if(0<=i.hitTestPoint(a,b,d))if(g)e.push(i);else return i}return g?e:null}})();
(function(){var b=Quark.Stage=function(a){this.stageY=this.stageX=0;this.paused=!1;this._eventTarget=null;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Stage");if(null==this.context)throw"Quark.Stage Error: context is required.";this.updatePosition()};Quark.inherit(b,Quark.DisplayObjectContainer);b.prototype.step=function(a){this.paused||(this._update(a),this._render(this.context))};b.prototype._update=function(a){for(var b=this.children.slice(0),d=0,g=b.length;d<
g;d++){var e=b[d];e._depth=d+1;e._update(a)}null!=this.update&&this.update(a)};b.prototype._render=function(a){null!=a.clear&&a.clear(0,0,this.width,this.height);b.superClass._render.call(this,a)};b.prototype._onEvent=function(a){var b=a.pageX||a.clientX,d=a.pageY||a.clientY,b=(b-this.stageX)/this.scaleX,d=(d-this.stageY)/this.scaleY,g=this.getObjectUnderPoint(b,d,!0),e=this._eventTarget;a.eventX=b;a.eventY=d;null!=e&&e!=g&&(a.lastEventTarget=e,(b="mousemove"==a.type?"mouseout":"touchmove"==a.type?
"touchout":null)&&e._onEvent({type:b}),this._eventTarget=null);null!=g&&g.eventEnabled&&(a.eventTarget=e=this._eventTarget=g,g._onEvent(a));Quark.supportTouch||(this.context.canvas.style.cursor=e&&e.useHandCursor&&e.eventEnabled?"pointer":"");if(null!=this.onEvent)this.onEvent(a)};b.prototype.updatePosition=function(){var a=Quark.getElementOffset(this.context.canvas);this.stageX=a.left;this.stageY=a.top}})();
(function(){var b=Quark.Bitmap=function(a){this.image=null;this.rectHeight=this.rectWidth=this.rectY=this.rectX=0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Bitmap");this.setRect(a.rect||[0,0,this.image.width,this.image.height]);this.setDrawable(this.image);this._stateList.push("rectX","rectY","rectWidth","rectHeight")};Quark.inherit(b,Quark.DisplayObject);b.prototype.setRect=function(a){this.rectX=a[0];this.rectY=a[1];this.rectWidth=this.width=a[2];this.rectHeight=
this.height=a[3]};b.prototype.render=function(a){a.draw(this,this.rectX,this.rectY,this.rectWidth,this.rectHeight,0,0,this.width,this.height)}})();
(function(){var b=Quark.MovieClip=function(a){this.interval=0;this.useFrames=this.paused=!1;this.currentFrame=0;this._frames=[];this._frameLabels={};this._frameDisObj=null;this._displayedCount=0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("MovieClip");a.frames&&this.addFrame(a.frames)};Quark.inherit(b,Quark.Bitmap);b.prototype.addFrame=function(a){var b=this._frames.length;if(a instanceof Array)for(var d=0;d<a.length;d++)this.setFrame(a[d],b+d);else this.setFrame(a,
b);return this};b.prototype.setFrame=function(a,b){void 0==b||b>this._frames.length?b=this._frames.length:0>b&&(b=0);this._frames[b]=a;a.label&&(this._frameLabels[a.label]=a);void 0==a.interval&&(a.interval=this.interval);0==b&&0==this.currentFrame&&this.setRect(a.rect)};b.prototype.getFrame=function(a){return"number"==typeof a?this._frames[a]:this._frameLabels[a]};b.prototype.play=function(){this.paused=!1};b.prototype.stop=function(){this.paused=!0};b.prototype.gotoAndStop=function(a){this.currentFrame=
this.getFrameIndex(a);this.paused=!0};b.prototype.gotoAndPlay=function(a){this.currentFrame=this.getFrameIndex(a);this.paused=!1};b.prototype.getFrameIndex=function(a){if("number"==typeof a)return a;for(var a=this._frameLabels[a],b=this._frames,d=0;d<b.length;d++)if(a==b[d])return d;return-1};b.prototype.nextFrame=function(a){var b=this._frames[this.currentFrame];0<b.interval&&(a=this._displayedCount+a,this._displayedCount=b.interval>a?a:0);if(0<=b.jump||"string"==typeof b.jump)if(0==this._displayedCount||
!b.interval)return this.currentFrame=this.getFrameIndex(b.jump);return 0<b.interval&&0<this._displayedCount?this.currentFrame:this.currentFrame>=this._frames.length-1?this.currentFrame=0:++this.currentFrame};b.prototype._update=function(a){var c=this._frames[this.currentFrame];c.stop?this.stop():(this.paused||this.nextFrame(this.useFrames?1:a&&a.deltaTime),this.setRect(c.rect),b.superClass._update.call(this,a))};b.prototype.render=function(a){var b=this._frames[this.currentFrame].rect;a.draw(this,
b[0],b[1],b[2],b[3],0,0,this.width,this.height)}})();
(function(){var b=Quark.Button=function(a){this.state=b.UP;this.enabled=!0;a=a||{};b.superClass.constructor.call(this,a);this.id=a.id||Quark.UIDUtil.createUID("Button");this._skin=new Quark.MovieClip({id:"skin",image:a.image});this.addChild(this._skin);this._skin.stop();this.eventChildren=!1;void 0===a.useHandCursor&&(this.useHandCursor=!0);a.up&&this.setUpState(a.up);a.over&&this.setOverState(a.over);a.down&&this.setDownState(a.down);a.disabled&&this.setDisabledState(a.disabled)};Quark.inherit(b,
Quark.DisplayObjectContainer);b.UP="up";b.OVER="over";b.DOWN="down";b.DISABLED="disabled";b.prototype.setUpState=function(a){a.label=b.UP;this._skin.setFrame(a,0);this.upState=a;return this};b.prototype.setOverState=function(a){a.label=b.OVER;this._skin.setFrame(a,1);this.overState=a;return this};b.prototype.setDownState=function(a){a.label=b.DOWN;this._skin.setFrame(a,2);this.downState=a;return this};b.prototype.setDisabledState=function(a){a.label=b.DISABLED;this._skin.setFrame(a,3);this.disabledState=
a;return this};b.prototype.setEnabled=function(a){if(this.enabled==a)return this;(this.eventEnabled=this.enabled=a)?3==this.currentFrame&&this._skin.gotoAndStop(b.UP):this.disabledState?this._skin.gotoAndStop(b.DISABLED):this._skin.gotoAndStop(b.state.UP);return this};b.prototype.changeState=function(a){if(this.state!=a){this.state=a;switch(a){case b.OVER:case b.DOWN:case b.UP:this.enabled||(this.eventEnabled=this.enabled=!0);this._skin.gotoAndStop(a);break;case b.DISABLED:this.setEnabled(!1)}return this}};
b.prototype._onEvent=function(a){if(this.enabled){switch(a.type){case "mousemove":this.overState&&this.changeState(b.OVER);break;case "mousedown":case "touchstart":case "touchmove":this.downState&&this.changeState(b.DOWN);break;case "mouseup":this.overState?this.changeState(b.OVER):this.changeState(b.UP);break;case "mouseout":case "touchout":case "touchend":this.upState&&this.changeState(b.UP)}b.superClass._onEvent.call(this,a)}};b.prototype.setDrawable=function(){b.superClass.setDrawable.call(this,
null)}})();
(function(){var b=Quark.Graphics=function(a){a=a||{};b.superClass.constructor.call(this,a);this.id=Quark.UIDUtil.createUID("Graphics");this.lineWidth=1;this.strokeStyle="0";this.lineAlpha=1;this.lineJoin=this.lineCap=null;this.miterLimit=10;this.fillStyle="0";this.fillAlpha=1;this._actions=[];this._cache=null};Quark.inherit(b,Quark.DisplayObject);b.prototype.lineStyle=function(a,b,d,g,e,f){this._addAction(["lineWidth",this.lineWidth=a||1]);this._addAction(["strokeStyle",this.strokeStyle=b||"0"]);
this._addAction(["lineAlpha",this.lineAlpha=d||1]);void 0!=g&&this._addAction(["lineCap",this.lineCap=g]);void 0!=e&&this._addAction(["lineJoin",this.lineJoin=e]);void 0!=f&&this._addAction(["miterLimit",this.miterLimit=f]);return this};b.prototype.beginFill=function(a,b){this._addAction(["fillStyle",this.fillStyle=a]);this._addAction(["fillAlpha",this.fillAlpha=b||1]);return this};b.prototype.endFill=function(){this._addAction(["stroke"]);this._addAction(["fill"]);return this};b.prototype.beginLinearGradientFill=
function(a,c,d,g,e,f){a=b._getContext().createLinearGradient(a,c,d,g);c=0;for(d=e.length;c<d;c++)a.addColorStop(f[c],e[c]);return this._addAction(["fillStyle",this.fillStyle=a])};b.prototype.beginRadialGradientFill=function(a,c,d,g,e,f,i,j){a=b._getContext().createRadialGradient(a,c,d,g,e,f);c=0;for(d=i.length;c<d;c++)a.addColorStop(j[c],i[c]);return this._addAction(["fillStyle",this.fillStyle=a])};b.prototype.beginBitmapFill=function(a,c){return this._addAction(["fillStyle",this.fillStyle=b._getContext().createPattern(a,
c||"")])};b.prototype.beginPath=function(){return this._addAction(["beginPath"])};b.prototype.closePath=function(){return this._addAction(["closePath"])};b.prototype.drawRect=function(a,b,d,g){return this._addAction(["rect",a,b,d,g])};b.prototype.drawRoundRectComplex=function(a,b,d,g,e,f,i,j){this._addAction(["moveTo",a+e,b]);this._addAction(["lineTo",a+d-f,b]);this._addAction(["arc",a+d-f,b+f,f,-Math.PI/2,0,!1]);this._addAction(["lineTo",a+d,b+g-i]);this._addAction(["arc",a+d-i,b+g-i,i,0,Math.PI/
2,!1]);this._addAction(["lineTo",a+j,b+g]);this._addAction(["arc",a+j,b+g-j,j,Math.PI/2,Math.PI,!1]);this._addAction(["lineTo",a,b+e]);this._addAction(["arc",a+e,b+e,e,Math.PI,3*Math.PI/2,!1]);return this};b.prototype.drawRoundRect=function(a,b,d,g,e){return this.drawRoundRectComplex(a,b,d,g,e,e,e,e)};b.prototype.drawCircle=function(a,b,d){return this._addAction(["arc",a+d,b+d,d,0,2*Math.PI,0])};b.prototype.drawEllipse=function(a,b,d,g){if(d==g)return this.drawCircle(a,b,d);var d=d/2,g=g/2,e=0.5522847498307933*
d,f=0.5522847498307933*g,a=a+d,b=b+g;this._addAction(["moveTo",a+d,b]);this._addAction(["bezierCurveTo",a+d,b-f,a+e,b-g,a,b-g]);this._addAction(["bezierCurveTo",a-e,b-g,a-d,b-f,a-d,b]);this._addAction(["bezierCurveTo",a-d,b+f,a-e,b+g,a,b+g]);this._addAction(["bezierCurveTo",a+e,b+g,a+d,b+f,a+d,b]);return this};b.prototype.render=function(a){var c=a.context;null==c?b.superClass.render.call(this,a):null!=this._cache?c.drawImage(this._cache,0,0):this._draw(c)};b.prototype._draw=function(a){for(var b=
0,d=this._actions.length;b<d;b++){var g=this._actions[b],e=g[0],f=1<g.length?g.slice(1):null;"function"==typeof a[e]?a[e].apply(a,f):a[e]=g[1]}};b.prototype.getDrawable=function(a){null==this.drawable&&this.setDrawable(this.toImage());return this.drawable.get(this,a)};b.prototype.cache=function(a){var b=Quark.createDOM("canvas",{width:this.width,height:this.height});this._draw(b.getContext("2d"));this._cache=b;a&&(this._cache=this.toImage());return this._cache};b.prototype.uncache=function(){this._cache=
null};b.prototype.toImage=function(a){var b=this._cache||this.cache(!0);if(b instanceof HTMLImageElement)return b;var d=new Image;d.src=b.toDataURL(a||"image/png");d.width=this.width;d.height=this.height;return d};b.prototype.clear=function(){this._cache=this._actions.length=0;this.lineWidth=1;this.strokeStyle="0";this.lineAlpha=1;this.lineJoin=this.lineCap=null;this.miterLimit=10;this.fillStyle="0";this.fillAlpha=1};b.prototype._addAction=function(a){this._actions.push(a);return this};b._getContext=
function(){var a=Quark.createDOM("canvas").getContext("2d");this._getContext=function(){return a};return a}})();(function(){var b=Quark.Context=function(a){if(null==a.canvas)throw"Quark.Context Error: canvas is required.";this.canvas=null;Quark.merge(this,a)};b.prototype.startDraw=function(){};b.prototype.draw=function(){};b.prototype.endDraw=function(){};b.prototype.transform=function(){};b.prototype.remove=function(){}})();
(function(){var b=Quark.CanvasContext=function(a){b.superClass.constructor.call(this,a);this.context=this.canvas.getContext("2d")};Quark.inherit(b,Quark.Context);b.prototype.startDraw=function(){this.context.save()};b.prototype.draw=function(a){var b=a.getDrawable(this);null!=b&&(arguments[0]=b,this.context.drawImage.apply(this.context,arguments))};b.prototype.endDraw=function(){this.context.restore()};b.prototype.transform=function(a){var b=this.context;a instanceof Q.Stage?(a._scaleX!=a.scaleX&&
(a._scaleX=a.scaleX,this.canvas.style.width=a._scaleX*a.width+"px"),a._scaleY!=a.scaleY&&(a._scaleY=a.scaleY,this.canvas.style.height=a._scaleY*a.height+"px")):((0!=a.x||0!=a.y)&&b.translate(a.x,a.y),0!=a.rotation%360&&b.rotate(a.rotation%360*Quark.DEG_TO_RAD),(1!=a.scaleX||1!=a.scaleY)&&b.scale(a.scaleX,a.scaleY),(0!=a.regX||0!=a.regY)&&b.translate(-a.regX,-a.regY));0<a.alpha&&(b.globalAlpha*=a.alpha)};b.prototype.clear=function(a,b,d,g){this.context.clearRect(a,b,d,g)}})();
(function(){function b(a,b){return b?""+("translate3d("+(a.x-a.regX)+"px, "+(a.y-a.regY)+"px, 0px)rotate3d(0, 0, 1, "+a.rotation+"deg)scale3d("+a.scaleX+", "+a.scaleY+", 1)"):""+("translate("+(a.x-a.regX)+"px, "+(a.y-a.regY)+"px)rotate("+a.rotation+"deg)scale("+a.scaleX+", "+a.scaleY+")")}var a=document.createElement("div"),c=void 0!=a.style[Quark.cssPrefix+"Transform"],d=void 0!=a.style[Quark.cssPrefix+"Perspective"],g=document.documentElement;if(d&&"webkitPerspective"in g.style){a.id="test3d";var e=
document.createElement("style");e.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}";document.head.appendChild(e);g.appendChild(a);d=3===a.offsetHeight;e.parentNode.removeChild(e);a.parentNode.removeChild(a)}Quark.supportTransform=c;Quark.supportTransform3D=d;if(c){var f=Quark.DOMContext=function(a){f.superClass.constructor.call(this,a)};Quark.inherit(f,Quark.Context);f.prototype.draw=function(a){if(!a._addedToDOM){var b=a.parent,d=a.getDrawable(this);null==b&&null==d.parentNode?this.canvas.appendChild(d):
(b=b.getDrawable(this),d.parentNode!=b&&b.appendChild(d));a._addedToDOM=!0}};f.prototype.transform=function(a){var d=a.getDrawable(this);if(a.transformEnabled||!a._addedToDOM){var c=Quark.cssPrefix,e=c+"TransformOrigin",c=c+"Transform",d=d.style;if(!d.display||a.propChanged("visible","alpha"))d.display=!a.visible||0>=a.alpha?"none":"";if(!d.opacity||a.propChanged("alpha"))d.opacity=a.alpha;if(!d.backgroundPosition||a.propChanged("rectX","rectY"))d.backgroundPosition=-a.rectX+"px "+-a.rectY+"px";if(!d.width||
a.propChanged("width","height"))d.width=a.width+"px",d.height=a.height+"px";if(!d[e]||a.propChanged("regX","regY"))d[e]=a.regX+"px "+a.regY+"px";if(!d[c]||a.propChanged("x","y","regX","regY","scaleX","scaleY","rotation"))e=Quark.supportTransform3D?b(a,!0):b(a,!1),d[c]=e;if(!d.zIndex||a.propChanged("_depth"))d.zIndex=a._depth}};f.prototype.hide=function(a){a.getDrawable(this).style.display="none"};f.prototype.remove=function(a){var b=a.getDrawable(this),d=b.parentNode;null!=d&&d.removeChild(b);a._addedToDOM=
!1}}else trace("Warn: DOMContext requires css transfrom support.")})();(function(b){b.anvsoftJavaScriptSlideshow=b.aJSs=b.aJSs||{version:"1.0.0",global:b}})(window);
(function(){aJSs.Events={TRANSITION_OVER:"transitionOver",PLAY_CURRENT:"playCurrent",SOUND_PLAY_COMPLETE:"soundPlayComplete",PHOTO_MOUSE_OVER:"photoMouseOver",PHOTO_MOUSE_OUT:"photoMouseOut",PHOTO_LOAD_COMPLETE:"photoLoadComplete",PLAY_VIDEO:"playVideo",VIDEO_PLAY_ENDED:"videoPlayEnded",VIDEO_CLEAR:"videoClear",VIDEO_START_PLAY:"videoStartPlay",PLAY_NEXT:"playNext"}})();
(function(){var b=aJSs,a=function(){this.handlers={}};a.prototype={constructor:a,addEventListener:function(a,b){if(void 0!=a)"undefined"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b);else throw Error("undefined property events.");},dispatchEvent:function(a){a.target||(a.target=this);if(this.handlers[a.type]instanceof Array)for(var b=this.handlers[a.type],c=0,f=b.length;c<f;c++)b[c](a)},removeEventListener:function(a,b){if(this.handlers[a]instanceof Array){for(var c=this.handlers[a],
f=0,i=c.length;f<i&&c[f]!==b;f++);c.splice(f,1)}}};var c=new a;b.CommandDispatcher={getInstance:function(){return c}}})();(function(){aJSs.getParameters={parameters:function(){var b=document.getElementsByTagName("script");try{for(var a=b[b.length-1].src.split("?")[1].split("&"),b={},c,d,g,e=0,f=a.length;e<f;e++)c=a[e].split("="),d=c[0],g=c[1],"undefined"==typeof b[d]?b[d]=g:("string"==typeof b[d]&&(b[d]=[b[d]]),b[d].push(g));return b}catch(i){return[]}}}})();
(function(){aJSs.Music=function(b,a,c,d){var g="true"==d?!0:!1;this.soundAudio=new Quark.Audio(b,"true"==a?!0:!1,"true"==c?!0:!1,g);this.soundAudio.addEventListener("ended",function(){g||aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.SOUND_PLAY_COMPLETE})},!1);this.Playing=function(){return this.soundAudio.playing()};this.Play=function(){this.soundAudio.play()};this.Pause=function(){this.soundAudio.stop()}}})();
(function(){aJSs.Video=function(b,a,c,d,g,e){var a="true"==a?!0:!1,d="true"==d?!0:!1,b=b.substr(0,b.lastIndexOf(".")),f=document.createElement("video");f.width=g;f.height=e;try{f.buffered=c}catch(i){}f.autoplay=a;f.controls=d;f.loop=!1;f.preload="none";c=document.createElement("source");f.appendChild(c);f.canPlayType&&(""!=f.canPlayType("video/mp4")?(c.type="video/mp4",c.src=b+".mp4"):""!=f.canPlayType("video/ogg")?(c.type="video/ogg",c.src=b+".ogg"):""!=f.canPlayType("video/webm")?(c.type="video/webm",
c.src=b+".webm"):alert("Your browser does not support the video tag."));a?f.play():f.pause();f.addEventListener("ended",function(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_PLAY_ENDED})},!1);f.addEventListener("playing",function(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_START_PLAY})},!1);return f}})();
(function(){aJSs.MaskEffect=function(b){this.transTotal=68;this.maskerFull=0;var a=this,c,d;this.transition=function(a,b,d,c,j){this.maskerFull=0;if(a<=this.transTotal)this["mask"+a](b,d,c,j);else this.transition(68,b,d,c,j)};this.mask1=function(g,e,f,i){function j(){q=e*k*d;n=f*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.setRect([0,0,e,f]),clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=0,q=0,n=
0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask2=function(g,e,f,i){function j(){q=e*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask3=function(g,e,f,i){function j(){n=f*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
h.setRect([0,0,e,f]),clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=0,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask4=function(g,e,f,i){function j(){l=e*(1-k*d);q=e*k*d;h.x=e*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=e,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask5=function(g,e,f,i){function j(){m=
f*(1-k*d);n=f*k*d;h.y=f*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.y=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=f,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask6=function(g,e,f,i){function j(){n=e*z*d;h.setRect([m,q,n,p]);k=e*(1-z*d);u=e*z*d;l.x=e*(1-z*d);l.setRect([k,r,u,w]);z++;if(z>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
h.setRect([0,0,e,f]),g.removeChild(l),clearInterval(t),t=null}var h=g.getChildAt(0),l=new Quark.Bitmap({id:"targetBitmap2",image:h.image,rect:[0,0,0,0]});g.addChild(l);var m=0,q=0,n=0,p=f,k=e,r=0,u=0,w=f;c=i*b;d=1/(2*c);var t=setInterval(j,1E3/b),z=1;j()};this.mask7=function(g,e,f,i){function j(){p=f*z*d;h.setRect([m,q,n,p]);r=f*(1-z*d);w=f*z*d;l.y=f*(1-z*d);l.setRect([k,r,u,w]);z++;if(z>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,
e,f]),g.removeChild(l),clearInterval(t),t=null}var h=g.getChildAt(0),l=new Quark.Bitmap({id:"targetBitmap2",image:h.image,rect:[0,0,0,0]});g.addChild(l);var m=0,q=0,n=e,p=0,k=0,r=f,u=e,w=0;c=i*b;d=1/(2*c);var t=setInterval(j,1E3/b),z=1;j()};this.mask8=function(g,e,f,i){function j(){l=e/2*(1-k*d);q=e*k*d;h.x=e/2*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,clearInterval(p),p=null}var h=
g.getChildAt(0),l=e/2,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask9=function(g,e,f,i){function j(){m=f/2*(1-k*d);n=f*k*d;h.y=f/2*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.y=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=f/2,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask10=function(g,e,f,i){function j(){for(var b=0;b<m;b++){var i=b*q,j=
q*r*d,l=f;g.getChildById("maskBitmap"+b).setRect([i,0,j,l])}r++;if(r>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"});for(h.setRect([0,0,e,f]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(k);k=null}}for(var h=g.getChildAt(0),l=h.image,m=16,q=e/m,n=0;n<m;n++){var p=new Quark.Bitmap({id:"maskBitmap"+n,image:l,rect:[0,0,0,0]});p.x=n*q;g.addChild(p)}c=i*b;d=1/c;var k=setInterval(j,1E3/b),r=1;j()};this.mask11=function(g,e,f,i){function j(){for(var b=
0;b<m;b++){var i=b*q,j=e,l=q*r*d;g.getChildById("maskBitmap"+b).setRect([0,i,j,l])}r++;if(r>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"});for(h.setRect([0,0,e,f]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(k);k=null}}for(var h=g.getChildAt(0),l=h.image,m=16,q=f/m,n=0;n<m;n++){var p=new Quark.Bitmap({id:"maskBitmap"+n,image:l,rect:[0,0,0,0]});p.y=n*q;g.addChild(p)}c=i*b;d=1/c;var k=setInterval(j,1E3/b),r=1;j()};this.mask12=
function(g,e,f,i){function j(){for(n=0;n<M;n++)E=k.length,0<E?(y=Math.floor(Math.random()*E),k[y].visible=!0,k.splice(y,1)):n=M;J++;if(J>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(h.setRect([0,0,e,f]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(z);z=null}}for(var h=g.getChildAt(0),l=h.image,m=Math.ceil(e/20),q=Math.ceil(f/20),n=0,p=0,k=[],n=0;20>n;n++)for(p=0;20>p;p++){var r=m*n,u=q*p,w=m,t=q;r<e&&u<
f&&(r>e-m&&(w=e-r),u>f-q&&(t=f-u),w=new Quark.Bitmap({id:"maskBitmap"+n+p,image:l,rect:[r,u,w,t]}),w.x=r,w.y=u,w.visible=!1,g.addChild(w),k.push(w))}c=i*b;d=1/c;var z=setInterval(j,1E3/b),J=1,E=k.length,y,M=Math.round(E/c);1>M&&(M=1);j()};this.mask13=function(g,e,f,i){function j(){l=e/2*(1-k*d);m=f/2*(1-k*d);q=e*k*d;n=f*k*d;h.x=e/2*(1-k*d);h.y=f/2*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),
h.x=0,h.y=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=e/2,m=f/2,q=0,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask14=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask15=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask16=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask17=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask18=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask19=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask20=function(a,
b,d,c){this.transition(68,a,b,d,c)};this.mask21=function(g,e,f,i){function j(){l=e*(1-k*d);m=f*(1-k*d);q=e*k*d;n=f*k*d;h.x=e*(1-k*d);h.y=f*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,h.y=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=e,m=f,q=0,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask22=function(g,e,f,i){function j(){l=e*(1-k*d);m=0;q=e*k*d;n=f*k*d;h.x=e*(1-k*
d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=e,m=0,q=0,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask23=function(g,e,f,i){function j(){l=0;m=f*(1-k*d);q=e*k*d;n=f*k*d;h.y=f*(1-k*d);h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.y=
0,clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=f,q=0,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask24=function(g,e,f,i){function j(){r=e/2*v*d;u=f/2*v*d;h.setRect([p,k,r,u]);w=e/2+e/2*(1-v*d);t=0;z=e/2*v*d;J=f/2*v*d;m.x=e/2+e/2*(1-v*d);m.setRect([w,t,z,J]);E=0;y=f/2+f/2*(1-v*d);M=e/2*v*d;L=f/2*v*d;q.y=f/2+f/2*(1-v*d);q.setRect([E,y,M,L]);P=e/2+e/2*(1-v*d);S=f/2+f/2*(1-v*d);I=e/2*v*d;N=f/2*v*d;n.x=e/2+e/2*(1-v*d);n.y=f/2+f/2*(1-v*d);n.setRect([P,S,I,N]);v++;if(v>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});
for(h.setRect([0,0,e,f]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(B);B=null}}var h=g.getChildAt(0),l=h.image,m=new Quark.Bitmap({id:"targetBitmap2",image:l,rect:[0,0,0,0]});g.addChild(m);var q=new Quark.Bitmap({id:"targetBitmap3",image:l,rect:[0,0,0,0]});g.addChild(q);var n=new Quark.Bitmap({id:"targetBitmap4",image:l,rect:[0,0,0,0]});g.addChild(n);var p=0,k=0,r=0,u=0,w=e,t=0,z=0,J=0,E=0,y=f,M=0,L=0,P=e,S=f,I=0,N=0;c=i*b;d=1/c;var B=setInterval(j,1E3/b),v=1;j()};this.mask25=
function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask26=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask27=function(g,e,f,i){function j(){for(var b=0;b<m;b++){var i=q*b,j=q;n[b].x>e-q&&(j=e-n[b].x);var l=p[b]+(f-p[b])*z*d*f/(f-p[b]);l<f&&n[b].setRect([i,0,j,l])}z++;if(z>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(h.setRect([0,0,e,f]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(t);t=null}}for(var h=
g.getChildAt(0),l=h.image,m=20,q=Math.ceil(e/m),n=[],p=[],k=0;k<m;k++){p[k]=f/2*Math.random();var r=q*k,u=q,w=p[k];r>e-q&&(u=e-r);u=new Quark.Bitmap({id:"maskBitmap"+k,image:l,rect:[r,0,u,w]});u.x=r;g.addChild(u);n.push(u)}c=i*b;d=1/c;var t=setInterval(j,1E3/b),z=1;j()};this.mask28=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask29=function(g,e,f,i){function j(){h.alpha=m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.alpha=
1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.alpha=0;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask30=function(g,e,f,i){function j(){l=e*(1-k*d);q=e*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=e,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask31=function(g,e,f,i){function j(){h.alpha=
k*d;l=e*(1-k*d);q=e*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,h.alpha=1,clearInterval(p),p=null}var h=g.getChildAt(0);h.alpha=0;var l=e,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask32=function(g,e,f,i){function j(){q=e*k*d;h.setRect([l,m,q,n]);h.x=e*(1-k*d);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,
0,e,f]),h.x=0,clearInterval(p),p=null}var h=g.getChildAt(0);h.x=e;var l=0,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask33=function(g,e,f,i){function j(){h.alpha=k*d;q=e*k*d;h.setRect([l,m,q,n]);h.x=e*(1-k*d);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.x=0,h.alpha=1,clearInterval(p),p=null}var h=g.getChildAt(0);h.x=e;var l=h.alpha=0,m=0,q=0,n=f;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};
this.mask34=function(g,e,f,i){function j(){m=f*(1-k*d);n=f*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.y=0,clearInterval(p),p=null}var h=g.getChildAt(0),l=0,m=f,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask35=function(g,e,f,i){function j(){h.alpha=k*d;m=f*(1-k*d);n=f*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),
h.setRect([0,0,e,f]),h.y=0,h.alpha=1,clearInterval(p),p=null}var h=g.getChildAt(0),l=h.alpha=0,m=f,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask36=function(g,e,f,i){function j(){h.y=f*(1-k*d);n=f*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.y=0,clearInterval(p),p=null}var h=g.getChildAt(0);h.y=f;var l=0,m=0,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask37=
function(g,e,f,i){function j(){h.alpha=k*d;h.y=f*(1-k*d);n=f*k*d;h.setRect([l,m,q,n]);k++;if(k>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:"transitionOver"}),h.setRect([0,0,e,f]),h.y=0,h.alpha=1,clearInterval(p),p=null}var h=g.getChildAt(0);h.alpha=0;h.y=f;var l=0,m=0,q=e,n=0;c=i*b;d=1/c;var p=setInterval(j,1E3/b),k=1;j()};this.mask38=function(g,e,f,i){function j(){h.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
h.width=e,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.width=0;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask39=function(g,e,f,i){function j(){h.alpha=m*d;h.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.width=e,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.alpha=0;h.width=0;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask40=function(g,e,f,
i){function j(){h.x=e/2*(1-m*d);h.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.width=e,h.x=0,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.width=0;h.x=e/2;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask41=function(g,e,f,i){function j(){h.alpha=m*d;h.x=e/2*(1-m*d);h.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
h.width=e,h.x=0,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.width=0;h.alpha=0;h.x=e/2;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask42=function(g,e,f,i){function j(){h.x=e*(1-m*d);h.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.width=e,h.x=0,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.width=0;h.x=e;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};
this.mask43=function(g,e,f,i){function j(){h.alpha=m*d;h.x=e*(1-m*d);h.width=e*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.width=e,h.x=0,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.width=0;h.alpha=0;h.x=e;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask44=function(g,e,f,i){function j(){h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
h.height=f,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.height=0;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask45=function(g,e,f,i){function j(){h.alpha=m*d;h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.height=f,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.height=0;h.alpha=0;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask46=function(g,
e,f,i){function j(){h.y=f/2*(1-m*d);h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.height=f,h.y=0,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.height=0;h.y=f/2;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask47=function(g,e,f,i){function j(){h.alpha=m*d;h.y=f/2*(1-m*d);h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
h.height=f,h.y=0,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.height=0;h.alpha=0;h.y=f/2;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask48=function(g,e,f,i){function j(){h.y=f*(1-m*d);h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.height=f,h.y=0,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.height=0;h.y=f;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;
j()};this.mask49=function(g,e,f,i){function j(){h.alpha=m*d;h.y=f*(1-m*d);h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.height=f,h.y=0,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.height=0;h.alpha=0;h.y=f;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask50=function(g,e,f,i){function j(){h.x=e/2*(1-m*d);h.y=f/2*(1-m*d);h.width=e*m*d;h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),
h.width=e,h.height=f,h.x=0,h.y=0,clearInterval(l),l=null}var h=g.getChildAt(0);h.setRect([0,0,e,f]);h.width=0;h.height=0;h.x=e/2;h.y=f/2;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask51=function(g,e,f,i){function j(){h.alpha=m*d;h.x=e/2*(1-m*d);h.y=f/2*(1-m*d);h.width=e*m*d;h.height=f*m*d;m++;if(m>c||1==a.maskerFull)aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER}),h.width=e,h.height=f,h.x=0,h.y=0,h.alpha=1,clearInterval(l),l=null}var h=g.getChildAt(0);
h.setRect([0,0,e,f]);h.width=0;h.height=0;h.alpha=0;h.x=e/2;h.y=f/2;c=i*b;d=1/c;var l=setInterval(j,1E3/b),m=1;j()};this.mask52=function(a,b,d){a.getChildAt(0).setRect([0,0,b,d]);aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER})};this.mask53=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask54=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask55=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask56=function(a,b,d,c){this.transition(68,a,b,d,c)};
this.mask57=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask58=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask59=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask60=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask61=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask62=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask63=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask64=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask65=function(a,b,d,c){this.transition(68,
a,b,d,c)};this.mask66=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask67=function(a,b,d,c){this.transition(68,a,b,d,c)};this.mask68=function(g,e,f,i){function j(){for(n=0;n<v;n++)k[n].width=z[n]*B*d,k[n].height=J[n]*B*d,k[n].x=w[n]+(r[n]-w[n])*B*d,k[n].y=t[n]+(u[n]-t[n])*B*d;B++;if(B>c||1==a.maskerFull){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.TRANSITION_OVER});for(h.setRect([0,0,e,f]);1<g.getNumChildren();)g.removeChildAt(g.getNumChildren()-1);clearInterval(N);
N=null}}for(var h=g.getChildAt(0),l=h.image,m=Math.ceil(e/12),q=Math.ceil(f/12),n=0,p=0,k=[],r=[],u=[],w=[],t=[],z=[],J=[],n=0;12>n;n++)for(p=0;12>p;p++){var E=m*n,y=q*p,M=m,L=q,P=Math.random()*(e-m),S=Math.random()*(f-q);if(E<e&&y<f){E>e-m&&(M=e-E);y>f-q&&(L=f-y);var I=new Quark.Bitmap({id:"maskBitmap"+n+p,image:l,rect:[E,y,M,L]});I.x=P;I.y=S;I.width=0;I.height=0;g.addChild(I);k.push(I);r.push(E);u.push(y);z.push(M);J.push(L);w.push(P);t.push(S)}}c=i*b;d=1/c;var N=setInterval(j,1E3/b),B=1,v=k.length;
j()}}})();
(function(){aJSs.JsXmlLoad=function(b){var a=this;a.copyright="Anvsoft";a.movieWidth=0;a.movieHeight=0;a.startAutoPlay="";a.continuum="";a.clickToAutoPlay="";a.randomPlayingPhotos="";a.enableURL="";a.movieBackgroundColor="";a.loadStyle="";a.anvsoftMenu="";a.frameRate=0;a.globalTitleXml="";a.musicPath="";a.musicStream="";a.musicLoop="";a.musicAutoPlay="";a.topPadding=0;a.bottomPadding=0;a.leftPadding=0;a.rightPadding=0;a.globalDescriptionXml="";a.videoAutoPlay="";a.bufferTime="";a.videoControls="";
a.thumbnailBasicXml="";a.thumbnailArray=[];a.photoArray=[];a.photoUrlArray=[];a.URLTarget=[];a.videoArray=[];a.transitionArray=[];a.photoTimeArray=[];a.transitionTimeArray=[];a.defineTransitionArray=[];a.photoTitleArray=[];a.descriptionText=[];var c=function(b){b=b.documentElement;a.copyright=b.getAttribute("copyright");var d=b.getElementsByTagName("global")[0],c=d.getElementsByTagName("basic_property")[0];a.movieWidth=c.getAttribute("movieWidth");a.movieHeight=c.getAttribute("movieHeight");a.startAutoPlay=
c.getAttribute("startAutoPlay");a.continuum=c.getAttribute("continuum");a.clickToAutoPlay=c.getAttribute("clickToAutoPlay");a.randomPlayingPhotos=c.getAttribute("randomPlayingPhotos");a.enableURL=c.getAttribute("enableURL");a.movieBackgroundColor=c.getAttribute("backgroundColor").replace(/0x/g,"#");a.loadStyle=c.getAttribute("loadStyle");a.anvsoftMenu=c.getAttribute("anvsoftMenu");a.frameRate=c.getAttribute("frameRate");c=c.getAttribute("transitionArray");a.defineTransitionArray=""==c?null:c.split(",");
a.globalTitleXml=d.getElementsByTagName("title_property")[0];c=d.getElementsByTagName("music_property")[0];a.musicPath=c.getAttribute("path");a.musicStream=c.getAttribute("stream");a.musicLoop=c.getAttribute("loop");a.musicAutoPlay=c.getAttribute("autoPlay");c=d.getElementsByTagName("photo_property")[0];a.topPadding=Number(c.getAttribute("topPadding"));a.bottomPadding=Number(c.getAttribute("bottomPadding"));a.leftPadding=Number(c.getAttribute("leftPadding"));a.rightPadding=Number(c.getAttribute("rightPadding"));
a.globalDescriptionXml=d.getElementsByTagName("description_property")[0];d=d.getElementsByTagName("video_property")[0];a.videoAutoPlay=d.getAttribute("autoPlay");a.bufferTime=Number(d.getAttribute("bufferTime"));a.videoControls=d.getAttribute("controls");d=b.getElementsByTagName("thumbnail")[0];void 0!=d&&(a.thumbnailBasicXml=d.getElementsByTagName("basic_property")[0]);b=b.getElementsByTagName("album")[0].getElementsByTagName("slide");d=b.length;for(c=0;c<d;c++){a.thumbnailArray[c]=b[c].getAttribute("jpegURL");
a.photoArray[c]=b[c].getAttribute("d_URL");a.photoUrlArray[c]=b[c].getAttribute("url");a.URLTarget[c]=b[c].getAttribute("URLTarget");a.videoArray[c]=b[c].getAttribute("v_URL");a.transitionArray[c]=b[c].getAttribute("transition");a.photoTimeArray[c]=b[c].getAttribute("phototime");a.transitionTimeArray[c]=b[c].getAttribute("transitiontime");a.photoTitleArray[c]=b[c].getAttribute("title");var e=b[c].childNodes[0];a.descriptionText[c]=void 0!=e?e.nodeValue:""}};try{var d=new ActiveXObject("Microsoft.XMLDOM")}catch(g){try{d=
document.implementation.createDocument("","",null)}catch(e){alert(e.message)}}try{d.async=!1,d.load(b),c(d)}catch(f){try{var i=new window.XMLHttpRequest;i.open("GET",b,!1);i.send(null);d=i.responseXML;c(d)}catch(j){d=(new DOMParser).parseFromString(window.anvsoftJavaScriptSlideshowData,"text/xml"),c(d)}}}})();
(function(){aJSs.JsCompatibleTheme=function(b,a,c){function d(){p--;0>=p&&(clearInterval(r),k++,k>n-1&&(k=0),w.src=c+e[k])}var g=b.movieBackgroundColor,e=b.photoArray,f=b.photoUrlArray,i=b.photoTimeArray,j=b.transitionTimeArray,h=b.URLTarget,l=b.topPadding,m=b.bottomPadding,q=b.leftPadding,b=b.rightPadding,n=e.length,p=0,k=0,r=null,u=document.getElementById(a);u.style.backgroundColor=g;var a=u.offsetWidth,g=u.offsetHeight,q=a-q-b,l=g-l-m,m=Math.round((a-q)/2),b=Math.round((g-l)/2),w=new Image;u.appendChild(w);
w.style.position="absolute";w.style.width=q+"px";w.style.height=l+"px";w.style.left=m+"px";w.style.top=b+"px";w.src=c+e[k];w.onload=function(){p=parseInt(j[k])+parseInt(i[k]);r=setInterval(d,1E3)};w.onclick=function(){var a;switch(h[k]){case "0":a="_blank";break;case "1":a="_parent";break;case "2":a="_self";break;case "3":a="_top";break;default:a="_blank"}window.open(f[k],a)};var t=document.createElement("div");u.appendChild(t);t.style.position="absolute";t.style.width="250px";t.style.padding="8px";
t.style.backgroundColor="#333";t.style.color="#FFF";t.style.textAlign="left";t.style.font="normal normal 12px/16px verdana,tahoma,arial,sans-serif";t.innerHTML="The browser you are using does not support HTML5. Now you are using the simple compatible mode. To get better user experience, please use HTML5 supported browser.";t.style.left=Math.round((a-t.offsetWidth)/2)+"px";t.style.top=Math.round((g-t.offsetHeight)/2)+"px";var z=setTimeout(function(){clearTimeout(z);z=null;u.removeChild(t)},1E4)}})();
(function(){aJSs.JsBackground=function(b,a){var c=b.movieBackgroundColor,d=new Quark.DisplayObjectContainer({id:"backgroundBox"});d.autoSize=!0;a.addChild(d);if(""!=c){var g=Quark.Bitmap,e=a.width,f=a.height,i=document.createElement("canvas");i.width=e;i.height=f;var j=i.getContext("2d");j.fillStyle=c;j.rect(0,0,e,f);j.fill();c=new Image;c.src=i.toDataURL("image/png");c.width=e;c.height=f;g=new g({id:"background",image:c});g.autoSize=!0;d.addChild(g)}}})();
(function(){aJSs.JsPhoto=function(b,a,c){function d(){aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.VIDEO_CLEAR});if(""!=z){e();var a=new Image;a.src=c+z;a=new Quark.MovieClip({image:a,id:"preloader",interval:100});a.addFrame([{rect:[0,0,25,25]},{rect:[25,0,25,25]},{rect:[50,0,25,25]},{rect:[75,0,25,25]},{rect:[100,0,25,25]},{rect:[125,0,25,25]}]);a.x=u+(L-a.width)/2;a.y=k+(P-a.height)/2;A.addChild(a)}B=N=0;Y&&Y.removeAllChildren();F.swapChildren(W,X);F.getChildIndex(W)>F.getChildIndex(X)?
(Z=W,Y=X):(Z=X,Y=W);var b=new Image;b.onload=function(){e();N=1;b.width=V;b.height=T;var a=new Quark.Bitmap({id:"targetBitmap",image:b,rect:[0,0,0.0010,0.0010]});a.useHandCursor="true"==h&&""!=j[s]?!0:!1;Z.addChild(a);O=0==q[s]?null==n?Math.floor(Math.random()*K.transTotal)+1:n[Math.floor(Math.random()*n.length)]:q[s];K.transition(O,Z,V,T,p[s]);a.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type){if("true"==h&&""!=j[s]){switch(l[s]){case "0":a="_blank";break;case "1":a="_parent";break;
case "2":a="_self";break;case "3":a="_top";break;default:a="_blank"}window.open(j[s],a)}}else"mousemove"==a.type||"touchmove"==a.type?aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_MOUSE_OVER}):("mouseout"==a.type||"touchout"==a.type)&&aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_MOUSE_OUT})};aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PHOTO_LOAD_COMPLETE,index:s})};b.src=c+i[s];aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_CURRENT,
index:s});s>=G-1&&"false"==E&&"false"==t&&S.Pause()}function g(){D--;try{Quark.getDOM("debugInfo").value=D}catch(a){}if(0>=D||1==v)clearInterval(x),x=null,0==v?"true"==t?s=Math.floor(Math.random()*G):s<G-1?s++:s=0:v=0,d()}function e(){if(""!=z){var a=A.getChildById("preloader");null!=a&&A.removeChild(a)}}var f=b.frameRate,i=b.photoArray,j=b.photoUrlArray,h=b.enableURL,l=b.URLTarget,m=b.photoTimeArray,q=b.transitionArray,n=b.defineTransitionArray,p=b.transitionTimeArray,k=b.topPadding,r=b.bottomPadding,
u=b.leftPadding,w=b.rightPadding,t=b.randomPlayingPhotos,z=b.loadStyle,J=b.startAutoPlay,E=b.continuum,y=b.videoAutoPlay,M=b.videoArray,L=a.width-u-w,P=a.height-k-r,S=this,I=0,N=1,B=1,v=0,O=0,D=0,s=0,x=null,G=i.length;aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.TRANSITION_OVER,function(){B=1;if(1==I||1==v)D=m[s]*f,x=setInterval(g,1E3/f);""!=M[s]&&void 0!=M[s]&&0==v&&("true"==y&&(clearInterval(x),x=null),aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_VIDEO,
index:s,width:L,height:P}))});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_NEXT,function(){S.Play()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_START_PLAY,function(){S.Pause()});var K=new aJSs.MaskEffect(f),A=new Quark.DisplayObjectContainer({id:"container"});A.autoSize=!0;a.addChild(A);var V=a.width-u-w,T=a.height-k-r,b=u,a=k,r=Quark.Bitmap,w=V,U=T,R="#DDD",C=document.createElement("canvas");C.width=w;C.height=U;var H=C.getContext("2d");H.fillStyle=
R;H.rect(0,0,w,U);H.fill();R=new Image;R.src=C.toDataURL("image/png");R.width=w;R.height=U;r=new r({id:"photoBoxBg",image:R});r.autoSize=!0;r.x=b;r.y=a;A.addChild(r);var F=new Quark.DisplayObjectContainer({id:"photoBox",x:b,y:a,width:V,height:T});F.autoSize=!0;A.addChild(F);var Y,Z,W=new Quark.DisplayObjectContainer({id:"aPhoto"}),X=new Quark.DisplayObjectContainer({id:"bPhoto"});F.addChild(W);F.addChild(X);this.Play=function(){I=1;1==N&&1==B?(clearInterval(x),x=null,s<G-1?s++:s=0,d()):1==N&&0==B?
(v=1,s<G-1?s++:s=0,K.maskerFull=1):(s<G-1?s++:s=0,v=1)};this.Pause=function(){I=0;null!=x&&(clearInterval(x),x=null)};this.Previous=function(a){I=a;0<s?s--:s=G-1;1==N&&1==B?(clearInterval(x),x=null,d()):1==N&&0==B?(v=1,K.maskerFull=1):v=1};this.Next=function(a){I=a;s<G-1?s++:s=0;1==N&&1==B?(clearInterval(x),x=null,d()):1==N&&0==B?(v=1,K.maskerFull=1):v=1};this.Show=function(a,b){I=b;1==N&&1==B?(clearInterval(x),x=null,s=a,d()):1==N&&0==B?(v=1,s=a,K.maskerFull=1):(s=a,v=1)};"true"==J?this.Show(0,1):
this.Show(0,0)}})();
(function(){aJSs.JsMediaConsole=function(b,a,c,d){function g(){void 0!=r&&(b.removeChild(r),void 0!=k&&"videoCallPause"==u&&(k.Play(),u=""),r=void 0,e())}function e(){var a=document.getElementById("videoLoadText");a&&b.removeChild(a)}var f=a.topPadding,i=a.leftPadding,c=a.musicPath,j=a.musicAutoPlay,h=a.musicLoop,l=a.musicStream,m=a.videoAutoPlay,q=a.bufferTime,n=a.videoArray,p=a.videoControls;if(""!=c)var k=new aJSs.Music(d+c,l,j,h);var r,u="";aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.PLAY_VIDEO,function(a){var c=
a.index,e=a.width,a=a.height;void 0!=k&&k.Playing()&&(k.Pause(),u="videoCallPause");r=new aJSs.Video(d+n[c],m,q,p,e,a);r.style.backgroundColor="#000";r.style.position="absolute";r.style.top=f+"px";r.style.left=i+"px";b.appendChild(r);c=document.getElementById("videoLoadText");null==c&&(c=document.createElement("div"),c.id="videoLoadText",c.style.position="absolute",c.style.top=f+5+"px",c.style.left=i+5+"px",c.style.font="normal normal 11px/13px verdana,tahoma,arial,sans-serif",c.style.color="#FFF",
c.textContent="Waiting...",b.appendChild(c))});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_PLAY_ENDED,function(){g();aJSs.CommandDispatcher.getInstance().dispatchEvent({type:aJSs.Events.PLAY_NEXT})});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_CLEAR,function(){g()});aJSs.CommandDispatcher.getInstance().addEventListener(aJSs.Events.VIDEO_START_PLAY,function(){e()});this.MusicPlay=function(){k.Play()};this.MusicPause=function(){k.Pause()}}})();
(function(){aJSs.JsMenu=function(b,a){var c=b.topPadding,d=b.leftPadding,g=b.copyright;if(null==b.anvsoftMenu||"anvsoftPFMTheme"!=g&&"anvsoftUSSTheme"!=g&&"anvsoftHSMTheme"!=g){var e,f;switch(g){case "anvsoftPFMTheme":f="Powered by photo-flash-maker.com";e=186;break;case "anvsoftUSSTheme":f="Powered by ultraslideshow.com";e=168;break;case "anvsoftHSMTheme":f="Powered by html5-slideshow-maker.com";e=210;break;case "anvsoftSWWTheme":f="Powered by slidewow.com";e=142;break;default:f="Powered by anvsoft.com",
e=136}var i=new Quark.DisplayObjectContainer({id:"menudBox"});i.autoSize=!0;i.x=d;i.y=c;a.addChild(i);var c=Quark.Bitmap,d=e,j="#000",h=document.createElement("canvas");h.width=d;h.height=20;var l=h.getContext("2d");l.fillStyle=j;l.rect(0,0,d,20);l.fill();j=new Image;j.src=h.toDataURL("image/png");j.width=d;j.height=20;c=new c({id:"copyrightBg",image:j});c.autoSize=!0;c.alpha=0.3;i.addChild(c);c=Quark.Bitmap;d=e;j="#FFF";h=f;f=document.createElement("canvas");f.width=d;f.height=20;d=f.getContext("2d");
d.font="11px arial, sans-serif";d.textAlign="start";d.textBaseline="middle";d.fillStyle=j;d.fillText(h,0,10);d=h=d.measureText(h).width;j=new Image;j.src=f.toDataURL("image/png");j.width=d;j.height=20;f=new c({id:"copyrightText",image:j});f.useHandCursor=!0;f.autoSize=!0;f.x=Math.round((e-h)/2);i.addChild(f);f.onEvent=function(a){if("mousedown"==a.type||"touchend"==a.type)switch(g){case "anvsoftPFMTheme":window.open("http://www.photo-flash-maker.com/","_self");break;case "anvsoftUSSTheme":window.open("http://www.ultraslideshow.com/",
"_self");break;case "anvsoftHSMTheme":window.open("http://www.html5-slideshow-maker.com/","_self");break;case "anvsoftSWWTheme":window.open("http://www.slidewow.com/","_self");break;default:window.open("http://www.anvsoft.com/","_self")}}}}})();
(function(){aJSs.JsInterface=function(b,a,c,d,g){this.globalPath=g;this.container=b;this.commandDispatcher=aJSs.CommandDispatcher.getInstance();this.copyright=a.copyright;this.movieWidth=a.movieWidth;this.movieHeight=a.movieHeight;this.startAutoPlay=a.startAutoPlay;this.continuum=a.continuum;this.clickToAutoPlay=a.clickToAutoPlay;this.randomPlayingPhotos=a.randomPlayingPhotos;this.enableURL=a.enableURL;this.movieBackgroundColor=a.movieBackgroundColor;this.loadStyle=a.loadStyle;this.anvsoftMenu=a.anvsoftMenu;
this.frameRate=a.frameRate;this.globalTitleXml=a.globalTitleXml;this.musicPath=a.musicPath;this.musicStream=a.musicStream;this.musicLoop=a.musicLoop;this.musicAutoPlay=a.musicAutoPlay;this.topPadding=a.topPadding;this.bottomPadding=a.bottomPadding;this.leftPadding=a.leftPadding;this.rightPadding=a.rightPadding;this.globalDescriptionXml=a.globalDescriptionXml;this.videoAutoPlay=a.videoAutoPlay;this.bufferTime=a.bufferTime;this.videoControls=a.videoControls;this.thumbnailBasicXml=a.thumbnailBasicXml;
this.thumbnailArray=a.thumbnailArray;this.photoArray=a.photoArray;this.photoUrlArray=a.photoUrlArray;this.URLTarget=a.URLTarget;this.videoArray=a.videoArray;this.transitionArray=a.transitionArray;this.photoTimeArray=a.photoTimeArray;this.transitionTimeArray=a.transitionTimeArray;this.defineTransitionArray=a.defineTransitionArray;this.photoTitleArray=a.photoTitleArray;this.descriptionText=a.descriptionText;this.Play=function(){c.Play()};this.Pause=function(){c.Pause()};this.Previous=function(){c.Previous()};
this.Next=function(){c.Next()};this.Show=function(a,b){c.Show(a,b)};this.MusicPlay=function(){d.MusicPlay()};this.MusicPause=function(){d.MusicPause()}}})();
(function(b){var a=aJSs.getParameters.parameters().xml_path,c=aJSs.getParameters.parameters().fs_path,d,g;void 0==a?void 0==c?(d="slides.xml",g=""):(d=c+"/slides.xml",g=c+"/"):(d=a,g=a.substr(0,a.lastIndexOf("/")+1));anvsoftJavaScriptSlideshow.init=function(a){var c,i;if(b.document.createElement("canvas").getContext){var a=Quark.getDOM(a),j=Quark.supportTouch?["touchstart","touchmove","touchend","touchout"]:["mousedown","mousemove","mouseup","mouseout"],h=Quark.getUrlParams();void 0==h.mode&&(h.mode=
1);var l=a.clientWidth||a.offsetWidth,m=a.clientHeight||a.offsetHeight;1==h.mode?(c=Quark.createDOM("canvas",{width:l,height:m}),a.appendChild(c),i=new Quark.CanvasContext({canvas:c})):i=new Quark.DOMContext({canvas:a});c=new Quark.Stage({width:l,height:m,context:i});(new Q.EventManager).registerStage(c,j);i=new aJSs.JsXmlLoad(d);new aJSs.JsBackground(i,c);j=new aJSs.JsPhoto(i,c,g);h=new aJSs.JsMediaConsole(a,i,c,g);new aJSs.JsMenu(i,c);l=new Q.Timer(1E3/i.frameRate);l.addListener(c);l.start();i=
new aJSs.JsInterface(a,i,j,h,g);new aJSsTemplate.Main(i)}else c=new aJSs.JsXmlLoad(d),new aJSs.JsCompatibleTheme(c,a,g)}})(window);
